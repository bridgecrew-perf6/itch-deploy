webpackJsonp([0],{1012:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(152),a(153)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=a(1),C=n(w),O=h.default.Item,x=(p.default.TextArea,f.default.RangePicker),k=h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del seguimiento"}]};return _.default.createElement(d.default,{visible:t,title:"Agregar seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical",style:{width:"100%"}},_.default.createElement(O,{label:"Seleccione la fecha de inicio y fin del seguimiento",style:{width:"100%"}},o("fechas_seguimiento",l)(_.default.createElement(x,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,C.default)().format("YYYY-MM-DD")}})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.fechas_seguimiento[0].format("YYYY-MM-DD"),o=n.fechas_seguimiento[1].format("YYYY-MM-DD"),l=a.state.id_periodo;E.default.post("/api/periodo/seguimiento",{id_periodo:l,fecha_inicial:r,fecha_final:o}).then(function(t){200===t.status?(u.default.success("Seguimiento agregado satisfactoriamente!"),e.resetFields(),a.setState({visible:!1})):d.default.error({title:"Error al agregar el seguimiento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})}})},a.saveFormRef=function(e){a.form=e},a.state={id_periodo:e.id_periodo,visible:e.visible},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_periodo;this.setState({id_periodo:a,visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=S},1013:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(31),a(32)),u=n(i),c=(a(20),a(21)),d=n(c),s=(a(40),a(38)),f=n(s),m=(a(35),a(36)),p=n(m),b=(a(33),a(34)),h=n(b),y=(a(152),a(153)),v=n(y),_=(a(29),a(30)),g=n(_),E=(a(24),a(25)),w=n(E),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=a(0),x=n(O),k=a(14),S=n(k),j=a(1),A=n(j),R=w.default.Item,I=g.default.Option,P=v.default.RangePicker,M=w.default.create()(function(e){var t=e.onCreate,a=e.form,n=e.departamento,r=e.checkPeriodoEntregaAnteproyecto,o=a.getFieldDecorator,l=2016,i={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]},u={rules:[{validator:r},{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]};return x.default.createElement("div",null,x.default.createElement(w.default,{layout:"vertical",onSubmit:t},x.default.createElement(p.default,null,x.default.createElement(h.default,{xs:24,lg:8},x.default.createElement(R,{label:"Carrera",hasFeedback:!0},o("id_carrera",{rules:[{required:!0,message:"Debe indicar la carrera"}]})(x.default.createElement(g.default,{placeholder:"Seleccione una carrera"},n.carreras.map(function(e,t){return x.default.createElement(I,{key:t,value:""+e.id},e.nombre)})))))),x.default.createElement(p.default,{gutter:16},x.default.createElement(h.default,{xs:18,lg:8},x.default.createElement(R,{label:"Periodo de residencia",hasFeedback:!0},o("periodo",{rules:[{required:!0,message:"Debe indicar el periodo de la residencia"}]})(x.default.createElement(g.default,{placeholder:"Seleccione un periodo"},x.default.createElement(I,{value:"FEBRERO-JUNIO"},"FEBRERO-JUNIO"),x.default.createElement(I,{value:"AGOSTO-DICIEMBRE"},"AGOSTO-DICIEMBRE"))))),x.default.createElement(h.default,{xs:6,lg:4},x.default.createElement(R,{label:"Ciclo",hasFeedback:!0},o("ciclo",{rules:[{required:!0,message:"Debe indicar el ciclo de la residencia"}]})(x.default.createElement(g.default,{placeholder:"Seleccione un ciclo"},Array(50).fill(1).map(function(e,t){return l++,x.default.createElement(I,{key:t,value:""+l},l)})))))),x.default.createElement(p.default,null,x.default.createElement(h.default,{xs:24,lg:8},x.default.createElement(R,{label:"Seleccione la fecha de inicio y fin del periodo",style:{width:"100%"}},o("fechas_periodo",i)(x.default.createElement(P,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),x.default.createElement(p.default,null,x.default.createElement(h.default,{xs:24,lg:8},x.default.createElement(R,{label:"Seleccione la fecha de inicio y fin de la entrega de anteproyectos"},o("fechas_entrega_anteproyecto",u)(x.default.createElement(P,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),x.default.createElement(f.default,{icon:"save",type:"primary",htmlType:"submit",style:{marginTop:20,marginBottom:20}},"Aperturar periodo")))}),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.checkPeriodoEntregaAnteproyecto=function(e,t,n){var r=a.form,o=r.getFieldValue("fechas_periodo");console.log(t),console.log(o),o?t[0].format("YYYY-MM-DD")<o[0].format("YYYY-MM-DD")?n("La fecha de inicio de entrega de anteproyecto debe ser despues de: "+o[0].format("ll")):t[1].format("YYYY-MM-DD")>o[1].format("YYYY-MM-DD")?n("La fecha de fin de entrega de anteproyecto debe ser antes que: "+o[1].format("ll")):n():n("Primero seleccione la fecha del periodo.")},a.handleCreate=function(e){e.preventDefault();var t=a.form;t.validateFields(function(e,a){if(!e){console.log("Received values of form: ",a);var n=a.id_carrera,r=a.periodo,o=a.ciclo,l=[a.fechas_periodo[0].format("YYYY-MM-DD"),a.fechas_periodo[1].format("YYYY-MM-DD")],i=[a.fechas_entrega_anteproyecto[0].format("YYYY-MM-DD"),a.fechas_entrega_anteproyecto[1].format("YYYY-MM-DD")];console.log(l),S.default.post("/api/carrera/periodo",{id_carrera:n,periodo_residencia:r,ciclo:o,fechas_periodo:l,fechas_entrega_anteproyecto:i}).then(function(e){console.log(e),200===e.status?(t.resetFields(),d.default.success("Periodo agregado satisfactoriamente!")):u.default.error({title:"Error al guardar el el periodo. Revisar los siguientes campos",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){d.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.state={departamento:e.departamento},a}return l(t,e),C(t,[{key:"render",value:function(){var e=this.state.departamento;return x.default.createElement("div",null,x.default.createElement(M,{ref:this.saveFormRef,onCreate:this.handleCreate,departamento:e,checkPeriodoEntregaAnteproyecto:this.checkPeriodoEntregaAnteproyecto}))}}]),t}(O.Component);t.default=T},1045:function(e,t){},1063:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(123),a(124)),f=n(s),m=(a(26),a(12)),p=n(m),b=(a(40),a(38)),h=n(b),y=(a(20),a(21)),v=n(y),_=(a(35),a(36)),g=n(_),E=(a(31),a(32)),w=n(E),C=(a(24),a(25)),O=n(C),x=(a(22),a(27)),k=n(x),S=(a(29),a(30)),j=n(S),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),P=n(I),M=a(120),T=n(M),D=a(14),F=n(D),N=a(1),Y=n(N),L=a(1068),z=n(L),B=(j.default.Option,j.default.OptGroup,k.default.TextArea,O.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){console.warn("record=> ",e);var t=e.nombre?e.nombre.match(r):null;return t?A({},e,{nombre:P.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[P.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){w.default.info({width:600,title:"Detalles del asesor externo",content:P.default.createElement(g.default,{gutter:16},P.default.createElement("p",null,"Nombre:"),P.default.createElement(k.default,{readOnly:!0,value:e.nombre}),P.default.createElement("p",{style:{marginTop:10}},"Puesto:"),P.default.createElement(k.default,{readOnly:!0,value:e.puesto}),P.default.createElement("p",{style:{marginTop:10}},"Correo:"),P.default.createElement(k.default,{readOnly:!0,value:e.correo}),P.default.createElement("p",{style:{marginTop:10}}," Empresa"),P.default.createElement(k.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){w.default.info({width:600,title:"Detalles del alumno",content:P.default.createElement(g.default,{gutter:16},P.default.createElement("p",null,"Numero de control:"),P.default.createElement(k.default,{readOnly:!0,value:e.no_control}),P.default.createElement("p",{style:{marginTop:10}},"Nombre:"),P.default.createElement(k.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){w.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:P.default.createElement("div",null,P.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}},a}return l(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){this.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}}}},{key:"showInputCorreccion",value:function(e,t){this.setState({visible_correcciones:!0,props_correcciones:{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,correo_alumno:t}})}},{key:"handleFactible",value:function(e,t){F.default.put("/api/anteproyecto/factibilidad",{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,esFactible:t?"factible":"no_factible"}).then(function(e){200===e.status?v.default.success("Anteproyecto marcado como no factible !"):w.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,Y.default)().format("YYYY-MM-DD");console.warn(")>",a);var i=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:P.default.createElement("div",{className:"custom-filter-dropdown"},P.default.createElement(k.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),P.default.createElement(h.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:P.default.createElement(p.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(h.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(h.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(h.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),P.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},P.default.createElement(p.default,{type:"select"})))}},{className:"center-text",title:"Factible",dataIndex:"factible",key:"factible",render:function(t,a){return P.default.createElement("span",null,r<=l&&o>=l?P.default.createElement("span",null,P.default.createElement(f.default,{style:{marginRight:3,marginBottom:3},defaultChecked:!(!a.revision||"factible"!==a.revision.esFactible),checkedChildren:"Factible",unCheckedChildren:P.default.createElement(p.default,{type:"cross"}),onChange:function(t){return e.handleFactible(a.id,t)}}),P.default.createElement(h.default,{style:{marginLeft:3},icon:"exception",onClick:function(){return e.showInputCorreccion(a.id,a.detalles_alumno.usuario.correo)}},"Correción")):P.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}}];return P.default.createElement("div",null,P.default.createElement(g.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},P.default.createElement(u.default,{xs:24,lg:24},P.default.createElement(d.default,{bordered:!0,title:function(){return"Anteproyectos registrados"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1500}}))),P.default.createElement(z.default,{visible:this.state.visible_correcciones,id_docente:this.state.props_correcciones.id_docente,id_anteproyecto:this.state.props_correcciones.id_anteproyecto,correo_alumno:this.state.props_correcciones.correo_alumno}))}}]),t}(I.Component));t.default=B},1068:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(22),a(27)),f=n(s),m=(a(24),a(25)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=(a(11),a(14)),_=n(v),g=p.default.Item,E=f.default.TextArea,w=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Correcciones para anteproyecto",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(p.default,{layout:"vertical"},y.default.createElement(g,{label:"Correcciones del anteproyecto"},o("comentario",{rules:[{required:!0,message:"Debe indicar las correcciones."},{max:500,message:"Las correcciones no deben pasar 500 caracteres"}]})(y.default.createElement(E,{maxLength:"500",placeholder:"Escriba aqui las correcciones",autosize:{minRows:2,maxRows:6}})))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||_.default.put("/api/anteproyecto/factibilidad/correciones",{id_docente:a.state.id_docente,id_anteproyecto:a.state.id_anteproyecto,comentario:n.comentario,correo_alumno:a.state.correo_alumno}).then(function(t){200===t.status?(u.default.success("Se han enviado las correcciones!"),e.resetFields(),a.setState({visible:!1})):d.default.error({title:"Error al enviar las correcciones. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})})},a.saveFormRef=function(e){a.form=e},a.state={id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:e.visible},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(h.Component);t.default=C},1069:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(123),a(124)),f=n(s),m=(a(464),a(1070)),p=n(m),b=(a(26),a(12)),h=n(b),y=(a(40),a(38)),v=n(y),_=(a(20),a(21)),g=n(_),E=(a(35),a(36)),w=n(E),C=(a(22),a(27)),O=n(C),x=(a(31),a(32)),k=n(x),S=(a(29),a(30)),j=n(S),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),P=n(I),M=a(120),T=n(M),D=a(14),F=n(D),N=a(1),Y=n(N),L=j.default.Option,z=(j.default.OptGroup,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){var t=e.nombre?e.nombre.match(r):null;return t?A({},e,{nombre:P.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[P.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){k.default.info({width:600,title:"Detalles del asesor externo",content:P.default.createElement(w.default,{gutter:16},P.default.createElement("p",null,"Nombre:"),P.default.createElement(O.default,{readOnly:!0,value:e.nombre}),P.default.createElement("p",{style:{marginTop:10}},"Puesto:"),P.default.createElement(O.default,{readOnly:!0,value:e.puesto}),P.default.createElement("p",{style:{marginTop:10}},"Correo:"),P.default.createElement(O.default,{readOnly:!0,value:e.correo}),P.default.createElement("p",{style:{marginTop:10}}," Empresa"),P.default.createElement(O.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){k.default.info({width:600,title:"Detalles del alumno",content:P.default.createElement(w.default,{gutter:16},P.default.createElement("p",null,"Numero de control:"),P.default.createElement(O.default,{readOnly:!0,value:e.no_control}),P.default.createElement("p",{style:{marginTop:10}},"Nombre:"),P.default.createElement(O.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){k.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:P.default.createElement("div",null,P.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.handleDictamen=function(e,t){var a=t?"aprobado":"no aprobado",n=e.nombre,r=e.asesor_interno,o=e.detalles_asesor_externo;null===n?g.default.warn("Para completar el proceso, falta el nombre del anteproyecto."):null===o?g.default.warn("Para completar el proceso, falta el asesor externo."):null===r?g.default.warn("Para completar el proceso, falta el asesor interno."):F.default.put("/api/anteproyecto/set_dictamen",{id_anteproyecto:e.id,dictamen:a}).then(function(e){200===e.status?g.default.success("Anteproyecto actualizado!"):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error("Error en el servidor verificar con el encargado.")})},a.handleAsesorInterno=function(e,t){F.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?(g.default.success("Anteproyecto actualizado!"),window.location.reload()):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error("Error en el servidor verificar con el encargado.")})},a.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo},a}return l(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){this.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,Y.default)().format("YYYY-MM-DD"),i=[{width:200,fixed:"left",className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:P.default.createElement("div",{className:"custom-filter-dropdown"},P.default.createElement(O.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),P.default.createElement(v.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:P.default.createElement(h.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(v.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(v.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(v.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),P.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},P.default.createElement(h.default,{type:"select"})))}},{className:"center-text",title:"% de factiblidad",dataIndex:"porcentaje_factibilidad",key:"porcentaje_factibilidad",render:function(e,t){return P.default.createElement("span",null,P.default.createElement(p.default,{content:t.revisiones,title:"Revisión de docentes"},P.default.createElement("p",{style:{color:"#4da1ff"}},t.porcentaje_factibilidad+" %")))}},{width:150,className:"center-text",title:"Dictamen",dataIndex:"dictamen",key:"dictamen",render:function(t,a){return P.default.createElement("span",null,r<=l&&o>=l?P.default.createElement(f.default,{checkedChildren:"Aprobado",defaultChecked:"aprobado"===a.dictamen,unCheckedChildren:"No aprobado",onChange:function(t){return e.handleDictamen(a,t)}}):P.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}},{width:300,className:"center-text",title:"Asesor interno",dataIndex:"asesor_interno",key:"asesor_inteno",render:function(t,a){return P.default.createElement("span",null,P.default.createElement(j.default,{placeholder:"Seleccionde al asesor interno",style:{width:"80%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.asesor_interno?""+a.asesor_interno.id:null},n.carrera.docentes_carreras.map(function(e,t){return P.default.createElement(L,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)})))}}];return P.default.createElement(w.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},P.default.createElement(u.default,{xs:24,lg:24},P.default.createElement(d.default,{bordered:!0,title:function(){return"Registro de dictamen y selección de asesores internos"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1500}})))}}]),t}(I.Component));t.default=z},1071:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(74),a(75)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(94),a(76)),p=n(m),b=(a(100),a(101)),h=n(b),y=(a(22),a(27)),v=n(y),_=(a(123),a(124)),g=n(_),E=(a(40),a(38)),w=n(E),C=(a(20),a(21)),O=n(C),x=(a(53),a(54)),k=n(x),S=(a(31),a(32)),j=n(S),A=(a(26),a(12)),R=n(A),I=(a(24),a(25)),P=n(I),M=(a(118),a(119)),T=n(M),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=a(0),N=n(F),Y=a(1),L=n(Y),z=a(68),B=n(z),G=a(14),q=n(G),V=a(489),W=n(V),U=T.default.TabPane,H=P.default.Item,K=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showSoluciones=function(e){var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return N.default.createElement(R.default,{type:t.solucionado?"check":"close"})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],a=e.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});j.default.info({width:800,title:"Soluciones recomendadas",content:N.default.createElement("div",null,N.default.createElement(k.default,{size:"small",columns:t,dataSource:a,pagination:{pageSize:5}})),onOk:function(){}})},a.changeSeguimiento=function(e){a.setState({id_seguimiento:e,visible_observacion:!1})},a.showAddObservacionSeguimiento=function(){a.setState({visible_observacion:!0})},a.onChangeObservacion=function(e,t){q.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?O.default.success("La revisión se ha actulizado satisfactoriamente"):O.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.state={proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1},a}return l(t,e),D(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=t.usuario,r=t.id_seguimiento,o=t.visible_observacion,l=(0,L.default)().format("YYYY-MM-DD"),i=a.observaciones.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),c=a.observaciones.filter(function(e){return"cronograma"===e.tipo}).map(function(e){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),s=a.asesorias.map(function(e){return{key:B.default.v1(),id:e.id,fecha:(0,L.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:e.soluciones_recomendadas,permitir_generar_formato:e.permitir_generar_formato}}),m=a.seguimientos_proyecto.find(function(e){return e.id==r}),b=[];m&&(b=m.revisiones_seguimiento.map(function(e,t){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,L.default)(e.createdAt).utc().format("LL"),docente:e.docente}}));var y=[{title:"Observación",dataIndex:"observacion",key:"observacion"}],_=[{className:"center-text",title:"Fecha",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return N.default.createElement("a",{href:t.url_avance,target:"_blank"},"Archivo de avance",N.default.createElement(R.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return N.default.createElement("span",null,N.default.createElement(w.default,{style:{marginLeft:2,marginRight:2},icon:"bars",onClick:function(){return e.showSoluciones(a.soluciones_recomendadas)}},"Soluciones"))}}],E=[{className:"center-text",title:"Fecha de observación",dataIndex:"fecha",key:"fecha"},{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(t,a){return N.default.createElement("span",null,a.docente.id===n.id_docente?N.default.createElement(g.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionado,checkedChildren:"Solucionado",unCheckedChildren:N.default.createElement(R.default,{type:"cross"})}):N.default.createElement("p",null,a.solucionado?"Si":"No"))}},{className:"center-text",title:"Realizad por",dataIndex:"docente",key:"docente",render:function(e,t){return N.default.createElement("p",null,t.docente.titulo+" "+t.docente.nombre+" "+t.docente.ap_paterno+" "+t.docente.ap_materno)}},{className:"center-text",title:"Observacion",dataIndex:"observacion",key:"observacion"}];return N.default.createElement(T.default,{style:{marginTop:30},key:".103.",defaultActiveKey:"1"},N.default.createElement(U,{tab:N.default.createElement("span",null,N.default.createElement(R.default,{type:"book"}),"Proyecto"),key:"proyecto"},N.default.createElement(P.default,null,N.default.createElement(H,{label:"Título: "},N.default.createElement(v.default,{value:a.anteproyecto.nombre,readOnly:!0})),N.default.createElement(H,{label:"Objetivo general: "},N.default.createElement(v.default,{value:a.anteproyecto.objetivo_general,readOnly:!0})),N.default.createElement(H,{label:"Anteproyecto: "},N.default.createElement(h.default,{listType:"picture-card",fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+a.anteproyecto.path_file_anteproyecto}]}))),N.default.createElement(d.default,{className:"border-top"},N.default.createElement(f.default,{xs:24,lg:6},N.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),N.default.createElement(H,{label:N.default.createElement("span",null,"Plan de trabajo ",N.default.createElement(p.default,{title:"Ultima fecha de actualización: "+(0,L.default)(a.updatedAt).utc().format("ll")},N.default.createElement(R.default,{type:"clock-circle-o"})))},N.default.createElement(h.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+a.filename_plan_trabajo}]}))),N.default.createElement(f.default,{xs:24,lg:18},N.default.createElement(k.default,{title:function(){return"Observaciones de plan de trabajo"},columns:y,dataSource:i,pagination:{pageSize:4}}))),N.default.createElement(d.default,{className:"border-top"},N.default.createElement(f.default,{xs:24,lg:6},N.default.createElement("h2",{style:{marginBottom:20}},"Cronograma de actividades"),N.default.createElement(H,{label:N.default.createElement("span",null,"Cronograma de actividades ",N.default.createElement(p.default,{title:"Ultima fecha de actualización: "+(0,L.default)(a.updatedAt).utc().format("ll")},N.default.createElement(R.default,{type:"clock-circle-o"})))},N.default.createElement(h.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+a.filename_cronograma}],onRemove:!1}))),N.default.createElement(f.default,{xs:24,lg:18},N.default.createElement(k.default,{title:function(){return"Observaciones del cronograma de actividades"},columns:y,dataSource:c,pagination:{pageSize:4}})))),N.default.createElement(U,{tab:N.default.createElement("span",null,N.default.createElement(R.default,{type:"solution"}),"Asesorias"),key:"asesorias"},N.default.createElement(d.default,null,N.default.createElement(f.default,{xs:24,lg:24},N.default.createElement(k.default,{title:function(){return"Asesorias"},columns:_,dataSource:s,pagination:{pageSize:5},scroll:{x:1200}})))),N.default.createElement(U,{tab:N.default.createElement("span",null,N.default.createElement(R.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},N.default.createElement(T.default,{key:"-99",tabPosition:"left",defaultActiveKey:"-1",onChange:function(t){return e.changeSeguimiento(t)}},a.seguimientos_proyecto.map(function(t,a){return N.default.createElement(U,{tab:N.default.createElement("span",null,N.default.createElement(R.default,{type:"schedule"}),"Seguimiento "+(a+1)),key:t.id},l>=t.seguimiento.fecha_inicial&&l<=t.seguimiento.fecha_final?N.default.createElement(d.default,null,N.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},t.url_seguimiento?N.default.createElement("div",null,N.default.createElement("p",null,"Link del seguimiento: "),N.default.createElement(h.default,{defaultFileList:[{uid:-2,name:"Seguimiento",status:"done",url:t.url_seguimiento}]})):N.default.createElement(u.default,{message:"El alumno no ha subido su seguimiento",type:"warning",showIcon:!0})),N.default.createElement(f.default,{xs:24,lg:24},N.default.createElement(w.default,{type:"primary",icon:"plus",onClick:function(){return e.showAddObservacionSeguimiento()}},"Agregar observación"),N.default.createElement(k.default,{title:function(){return"Observaciones del seguimiento"},columns:E,dataSource:b,pagination:{pageSize:4}})),N.default.createElement(W.default,{updateSeguimientos:function(){return console.log("()")},usuario:n,visible:o,id_seguimiento:r})):N.default.createElement(u.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,L.default)(t.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,L.default)(t.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0}))}))))}}]),t}(F.Component);t.default=K},1096:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(53),a(54)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(463),a(465)),f=n(s),m=(a(33),a(34)),p=n(m),b=(a(31),a(32)),h=n(b),y=(a(20),a(21)),v=n(y),_=(a(40),a(38)),g=n(_),E=(a(29),a(30)),w=n(E),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=a(0),x=n(O),k=a(14),S=n(k),j=a(120),A=(n(j),a(1)),R=n(A),I=w.default.Option,P=w.default.OptGroup,M=g.default.Group,T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){S.default.get("/api/periodo/"+e+"/dictamen").then(function(e){if(200===e.status)if(console.log(e),null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.nombre_titular+" \n "+e.asesor_externo.empresa.puesto_titular,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleGenerarDictamen=function(){var e=a.state.periodo;S.default.post("/api/periodo/generar_dictamen",{id_periodo:e.id}).then(function(e){200===e.status?(console.log(e.data),v.default.success("Dictamen generado satisfactoriamente!")):h.default.error({title:"Error al intentar generar el dictamen",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error(e)})},a.state={usuario:e.usuario,departamento:e.departamento,periodo:null,dictamen_anteproyectos:null},a}return l(t,e),C(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.dictamen_anteproyectos,r=t.periodo,o=(0,R.default)().format("YYYY-MM-DD"),l=[{width:50,fixed:"left",className:"center-text",title:"NUM",dataIndex:"key",key:"key"},{width:100,fixed:"left",className:"center-text",title:"CONTROL",dataIndex:"no_control_alumno",key:"no_control_alumno"},{width:200,fixed:"left",className:"center-text",title:"NOMBRE DEL ESTUDIANTE",dataIndex:"nombre_alumno",key:"nombre_alumno"},{className:"center-text",title:"S",dataIndex:"sexo_alumno",key:"sexo_alumno"},{className:"center-text",title:"ANTEPROYECTO",dataIndex:"nombre_anteproyecto",key:"nombre_anteproyecto"},{className:"center-text",title:"NOMBRE Y CARGO DEL TITULAR DE LA EMPRESA",dataIndex:"nombre_titular_empresa",key:"nombre_titular_empresa"},{title:"ASESORES",children:[{className:"center-text",title:"INTERNO",dataIndex:"asesor_interno",key:"asesor_interno"},{className:"center-text",title:"EXTERNO",dataIndex:"asesor_externo",key:"asesor_externo"}]},{className:"center-text",title:"DICTAMEN",dataIndex:"dictamen",key:"dictamen"},{className:"center-text",title:"FECHA DE DICTAMEN",dataIndex:"fecha_dictamen",key:"fecha_dictamen"}],i=null,c=null;return null!=r&&(i=x.default.createElement(p.default,{xs:24,lg:24},x.default.createElement("h2",{style:{textAlign:"center"}},"DEPARTAMENTO DE ",r.carrera.departamento.nombre.toUpperCase()),x.default.createElement("h3",{style:{textAlign:"center"}},"CARRERA: ",r.carrera.nombre.toUpperCase())),c=o>=r.fecha_inicio&&o<r.fecha_fin?null===r.filename_dictamen?x.default.createElement(f.default,{title:x.default.createElement("div",null,x.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados, "),x.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},x.default.createElement(g.default,{type:"primary",icon:"file-pdf"}," Generar dictamen ")):x.default.createElement(M,null,x.default.createElement(f.default,{title:x.default.createElement("div",null,x.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados"),x.default.createElement("p",null," y se sobrescribira el nuevo dictamen"),x.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},x.default.createElement(g.default,{icon:"file-pdf"}," Generar dictamen ")),x.default.createElement(g.default,{type:"primary",icon:"eye-o"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver"))):x.default.createElement(g.default,{type:"primary",icon:"eye-o"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver dictamen"))),x.default.createElement("div",null,x.default.createElement(d.default,{type:"flex"},x.default.createElement(p.default,{xs:24,lg:6},x.default.createElement("p",null,"Seleccione el periodo"),x.default.createElement(w.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},a.carreras.map(function(e,t){return x.default.createElement(P,{key:t,label:e.nombre},e.periodos.map(function(e,a){return x.default.createElement(I,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},i),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},x.default.createElement(p.default,{xs:24,lg:24,style:{marginBottom:20}},c),x.default.createElement(p.default,{xs:24,lg:24},x.default.createElement(u.default,{bordered:!0,title:function(){return"Dictamen"},dataSource:n,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:1700}}))))}}]),t}(O.Component);t.default=T},1097:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(12)),u=n(i),c=(a(93),a(84)),d=n(c),s=(a(61),a(62)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(66)),v=a(14),_=n(v),g=a(95),E=a(96),w=n(E),C=a(490),O=n(C),x=f.default.Header,k=f.default.Content,S=f.default.Footer,j=f.default.Sider,A=d.default.SubMenu,R=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(O.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,anteproyecto:null},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,g.getIsAuth)().then(function(t){"candidato_residente"===t.rol?_.default.get("/api/alumno/"+t.id_alumno+"/anteproyecto").then(function(a){200===a.status?e.setState({anteproyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(O.default,{anteproyecto:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(j,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Registrar anteproyecto")),b.default.createElement(A,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(x,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(k,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(S,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(w.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=R},1117:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(12)),u=n(i),c=(a(74),a(75)),d=n(c),s=(a(93),a(84)),f=n(s),m=(a(61),a(62)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=(a(11),a(2)),_=(n(v),a(66)),g=a(14),E=n(g),w=a(95),C=a(96),O=n(C),x=a(468),k=n(x),S=a(1118),j=n(S),A=a(1119),R=n(A),I=a(484),P=n(I),M=p.default.Header,T=p.default.Content,D=p.default.Footer,F=p.default.Sider,N=f.default.SubMenu,Y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state,r=n.departamento,o=n.usuario;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:y.default.createElement(k.default,{usuario:o,departamento:r})}})}else if(2==a){var l=e.state,i=l.departamento,u=l.usuario,c=u.docente_carrera.find(function(e){return"presidente_academia"===e.rol});c?e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Registro de candidato a residente",render:y.default.createElement(j.default,{departamento:i,presidente_academia:c})}}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Permiso denegado",render:y.default.createElement(d.default,{message:"Permiso denegado, solo el presidente de academia o jefe de departamento puede realizar esta acción.",type:"warning",showIcon:!0})}})}else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a)E.default.get("/api/proyectos/asesor_interno/"+e.state.usuario.id_docente).then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Proyectos de residencia asignados",render:y.default.createElement(R.default,{proyectos:t.data,usuario:e.state.usuario})}})});else if(5==a){var s=e.state,f=s.departamento,m=s.usuario;console.log("this=>",m),console.log("this=>",f);var p=m.docente_carrera.find(function(e){return"presidente_academia"===e.rol||"jefe_proyecto"===e.rol});if(p){var b=f.carreras.filter(function(e){return e.id===p.id_carrera});e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de seguimientos",render:y.default.createElement(P.default,{carreras:b,usuario:p})}})}else e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Permiso denegado",render:y.default.createElement(d.default,{message:"Permiso denegado, solo el presidente de academia, jefe de departamento, jefe de proyecto ó el asesor interno del proyecto puede realizar esta acción.",type:"warning",showIcon:!0})}})}},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"docente"===t.rol?E.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?(console.warn("departamento",a.data),e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Revisión de anteproyectos ",render:y.default.createElement(k.default,{usuario:t,departamento:a.data})}})):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia;e.usuario,e.departamento;return t?y.default.createElement(p.default,{style:{minHeight:"100vh"}},y.default.createElement(F,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},y.default.createElement("div",{className:"logo",style:{textAlign:"center"}},y.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),y.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},y.default.createElement(f.default.Item,{key:"1"},y.default.createElement(u.default,{type:"solution"}),y.default.createElement("span",null,"Revisión anteproyectos")),y.default.createElement(f.default.Item,{key:"2"},y.default.createElement(u.default,{type:"usergroup-add"}),y.default.createElement("span",null,"Agregar candidato a residente")),y.default.createElement(f.default.Item,{key:"4"},y.default.createElement(u.default,{type:"book"}),y.default.createElement("span",null,"Proyectos de residencia")),y.default.createElement(f.default.Item,{key:"5"},y.default.createElement(u.default,{type:"calendar"}),y.default.createElement("span",null,"Revisión de seguimientos")),y.default.createElement(f.default.Divider,null),y.default.createElement(N,{key:"sub1",title:y.default.createElement("span",null,y.default.createElement(u.default,{type:"user"}),y.default.createElement("span",null,"Usuario"))},y.default.createElement(f.default.Item,{key:"3"},"Cambiar contraseña"),y.default.createElement(f.default.Item,null,y.default.createElement("a",{href:"/api/usuario/logout"}," ",y.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),y.default.createElement(p.default,null,y.default.createElement(M,{style:{background:"#fff",padding:0}},y.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),y.default.createElement(T,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),y.default.createElement(D,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),y.default.createElement(O.default,{visible:n})):y.default.createElement(_.Redirect,{to:"/usuario/auth"})}}]),t}(h.Component);t.default=Y},1118:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(40),a(38)),p=n(m),b=(a(20),a(21)),h=n(b),y=(a(31),a(32)),v=n(y),_=(a(116),a(117)),g=n(_),E=(a(26),a(12)),w=n(E),C=(a(29),a(30)),O=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=a(14),A=n(j),R=a(1),I=n(R),P=a(68),M=n(P),T=a(466),D=n(T),F=(O.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showListaCandidatosResidente=function(e){A.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return S.default.createElement(g.default.Item,{key:t,color:"green",dot:S.default.createElement(w.default,{type:"check-circle-o",style:{fontSize:"16px"}})},e.nombre+" "+e.ap_paterno+" "+e.ap_materno)});v.default.info({width:600,title:"Lista de candidatos a residente del periodo.",content:S.default.createElement(g.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,id_periodo:e})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,id_periodo:null,presidente_academia:e.presidente_academia,alumnos_rechazados_por_carrera:[]},a}return l(t,e),x(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.departamento,n=t.presidente_academia;console.warn(n);var r=a.carreras.find(function(e){return e.id===n.id_carrera});r&&A.default.get("/api/carrera/"+r.id+"/periodos").then(function(t){200===t.status?A.default.get("/api/alumnos/"+r.id+"/rechazados").then(function(a){200===a.status&&e.setState({alumnos_rechazados_por_carrera:a.data._alumnos,carreraSeleccionada:t.data,visible_add_alumno:!1})}):h.default.warning("Verificar conexión.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.departamento,t.carreraSeleccionada),n=t.visible_add_alumno,r=t.id_periodo,o=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),l=a?a.periodos.map(function(e,t){return{id:e.id,key:M.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,I.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,I.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"sisisi"}}):null,i=[{title:"Periodo",key:"periodo",dataIndex:"periodo"},{title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(e,t){return S.default.createElement("span",null,t.fecha_inicio_entrega_anteproyecto+"- "+t.fecha_fin_entrega_anteproyecto)}},{className:"center-text",title:"Acciones",key:"acciones",dataIndex:"Acciones",render:function(t,a){return S.default.createElement("span",null,!0===a.acciones?S.default.createElement(p.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):S.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return S.default.createElement("span",null,S.default.createElement(p.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return S.default.createElement(u.default,null,S.default.createElement(f.default,{xs:24,lg:24,style:{marginBottom:20}},S.default.createElement("h2",null,"Carrera: ",a?a.nombre:"")),S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:l,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1e3}})),S.default.createElement(D.default,{visible:n,carrera:a,id_periodo:r,alumnos_rechazados_por_carrera:o}))}}]),t}(k.Component));t.default=F},1119:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(29),a(30)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=a(14),y=n(h),v=a(1120),_=n(v),g=f.default.Option,E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeResidente=function(e){y.default.get("/api/alumno/"+e+"/proyecto").then(function(e){200===e.status&&a.setState({renderProyecto:b.default.createElement(_.default,{proyecto:e.data,usuario:a.state.usuario})})})},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null},a}return l(t,e),m(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null})}},{key:"render",value:function(){var e=this.state,t=e.proyectos,a=e.renderProyecto;return b.default.createElement(u.default,null,b.default.createElement(d.default,{xs:24,lg:24},b.default.createElement(f.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400}},t.map(function(e,t){return b.default.createElement(g,{key:t,value:""+e.anteproyecto.alumno.id},e.anteproyecto.alumno.no_control+" - "+e.anteproyecto.alumno.nombre+" "+e.anteproyecto.alumno.ap_paterno+" "+e.anteproyecto.alumno.ap_materno)}))),b.default.createElement(d.default,{xs:24,lg:24,style:{marginTop:25}},a))}}]),t}(p.Component);t.default=E},1120:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(94),a(76)),f=n(s),m=(a(100),a(101)),p=n(m),b=(a(22),a(27)),h=n(b),y=(a(29),a(30)),v=n(y),_=(a(40),a(38)),g=n(_),E=(a(53),a(54)),w=n(E),C=(a(31),a(32)),O=n(C),x=(a(123),a(124)),k=n(x),S=(a(26),a(12)),j=n(S),A=(a(74),a(75)),R=n(A),I=(a(20),a(21)),P=n(I),M=(a(118),a(119)),T=n(M),D=(a(24),a(25)),F=n(D),N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Y=a(0),L=n(Y),z=a(14),B=n(z),G=a(1),q=n(G),V=a(68),W=n(V),U=a(1121),H=n(U),K=a(1122),Z=n(K),J=a(1123),Q=n(J),X=F.default.Item,$=T.default.TabPane,ee=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateObservaciones=function(){var e=a.state.proyecto;B.default.get("/api/proyecto/"+e.id+"/observaciones").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,observaciones:e.data})})},a.showAgregarObservacionPlanTrabajo=function(){a.state.proyecto;a.setState({tipo_observacion:"plan_de_trabajo",visibleAddObservacion:!0,visibleAddSolucion:!1})},a.showAgregarObservacionCronograma=function(){a.state.proyecto;a.setState({tipo_observacion:"cronograma",visibleAddObservacion:!0,visibleAddSolucion:!1})},a.onChangeObservacion=function(e,t){B.default.put("/api/proyecto/observacion",{id_observacion:e,solucionada:t}).then(function(e){200===e.status?P.default.success("Los cambios se han guardado."):P.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.onChangeTabSeguimiento=function(e){var t=a.state,n=t.seguimientos,r=t.usuario,o=n.find(function(t){return t.id==e}),l=(0,q.default)().format("YYYY-MM-DD");l>=o.seguimiento.fecha_inicial&&l<=o.seguimiento.fecha_final?a.setState({renderSeguimiento:L.default.createElement(Q.default,{updateSeguimientos:a.updateSeguimientos.bind(a),usuario:r,seguimiento:o})}):a.setState({renderSeguimiento:L.default.createElement(R.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,q.default)(o.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,q.default)(o.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0})})},a.onChangeTab=function(e){var t=a.state.proyecto;"asesorias"===e?B.default.get("/api/proyecto/"+t.id+"/asesorias").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,asesorias:e.data})}):"seguimientos"===e&&B.default.get("/api/proyecto/"+t.id+"/seguimientos").then(function(e){200===e.status&&(console.warn("a>",e.data),a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,seguimientos:e.data}))})},a.updateSeguimientos=function(){var e=a.state.proyecto;B.default.get("/api/proyecto/"+e.id+"/seguimientos").then(function(e){200===e.status&&(console.warn("a>",e.data),a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,seguimientos:e.data}))})},a.showAddSolucion=function(e){a.setState({visibleAddSolucion:!0,id_asesoria:e})},a.checkSolucion=function(e,t){B.default.put("/api/proyecto/asesoria/solucion_recomendada",{id_solucion:t,solucionado:e}).then(function(e){200===e.status?P.default.success("Se ha actualizado la solución."):P.default.error("Surgio un error al actualizar la solución. favor de reportarlo con el administrador.")})},a.checkPermitirGenerarFormato=function(e,t){B.default.put("/api/proyecto/asesoria_autorizar_formato",{permitir_generar_formato:e,id_asesoria:t}).then(function(e){200===e.status?P.default.success("Se ha realizado el cambio de autorizar el formato de asesoria"):P.default.error("Surgio un error al actualizar la autorización de la asesoria, favor de reportarlo con el administrador.")})},a.showSoluciones=function(e){B.default.get("/api/proyecto/asesoria/"+e+"/soluciones_recomendadas").then(function(e){if(200===e.status){console.warn("soluciones",e.data);var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return L.default.createElement(k.default,{defaultChecked:t.solucionado,checkedChildren:"Solucionado",onChange:function(e){return a.checkSolucion(e,t.id)},unCheckedChildren:L.default.createElement(j.default,{type:"cross"})})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],n=e.data.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});O.default.info({width:800,title:"Soluciones recomendadas",content:L.default.createElement("div",null,L.default.createElement(w.default,{size:"small",columns:t,dataSource:n,pagination:{pageSize:5}})),onOk:function(){}})}})},a.updateTipoAsesoria=function(e,t){B.default.put("/api/asesoria/tipo",{id_asesoria:e,tipo:t}).then(function(e){200===e.status?P.default.success("El tipo de asesoria se ha actualizado satisfactoriamente!"):P.default.error("Ops, hemos tenido un problema, favor de reportar al administrador.")})},a.state={usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],seguimientos:[],visibleAddSolucion:!1,id_asesoria:null,renderSeguimiento:null},a}return l(t,e),N(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],visibleAddSolucion:!1,id_asesoria:null,seguimientos:[],renderSeguimiento:null})}},{key:"componentWillMount",value:function(){this.updateObservaciones()}},{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=t.visibleAddObservacion,r=t.tipo_observacion,o=t.usuario,l=t.observaciones,i=t.asesorias,c=t.id_asesoria,s=t.visibleAddSolucion,m=t.seguimientos,b=t.renderSeguimiento,y=l.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e){return{key:W.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),_=l.filter(function(e){return"cronograma"===e.tipo}).map(function(e){return{key:W.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),E=[{title:"Solucionada",dataIndex:"solucionada",key:"solucionada",render:function(t,a){return L.default.createElement(k.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionada,checkedChildren:"Solucionada",unCheckedChildren:L.default.createElement(j.default,{type:"cross"})})}},{title:"Observación",dataIndex:"observacion",key:"observacion"}],C=[{className:"center-text",title:"Fecha",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return L.default.createElement("a",{href:t.url_avance,target:"_blank"},"Archivo de avance",L.default.createElement(j.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return L.default.createElement("span",null,L.default.createElement(g.default,{style:{marginLeft:2,marginRight:2},icon:"bars",onClick:function(){return e.showSoluciones(a.id)}},"Soluciones"),L.default.createElement(g.default,{style:{marginLeft:2,marginRight:2},icon:"plus",onClick:function(){return e.showAddSolucion(a.id)}},"Agregar solución"))}},{className:"center-text",title:"Tipo de asesoria",dataIndex:"tipo",key:"tipo",render:function(t,a){return L.default.createElement(v.default,{defaultValue:a.tipo,onChange:function(t){return e.updateTipoAsesoria(a.id,t)},style:{width:"100%"}},L.default.createElement(Option,{value:"virtual"},"Virtual"),L.default.createElement(Option,{value:"presencial"},"Presencial"))}},{className:"center-text",title:"Generar formato",dataIndex:"permitir_generar_formato",key:"permitir_generar_formato",render:function(t,a){return L.default.createElement(k.default,{defaultChecked:a.permitir_generar_formato,checkedChildren:"Autorizado",onChange:function(t){return e.checkPermitirGenerarFormato(t,a.id)},unCheckedChildren:"No autorizado"})}}],O=i.map(function(e){return{key:W.default.v1(),id:e.id,fecha:(0,q.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:"on",permitir_generar_formato:e.permitir_generar_formato,tipo:e.tipo}});return L.default.createElement("div",null,L.default.createElement(T.default,{key:".103.",defaultActiveKey:"1",onChange:function(t){return e.onChangeTab(t)}},L.default.createElement($,{tab:L.default.createElement("span",null,L.default.createElement(j.default,{type:"book"}),"Proyecto"),key:"proyecto"},L.default.createElement(F.default,null,L.default.createElement(X,{label:"Título: "},L.default.createElement(h.default,{value:a.anteproyecto.nombre,readOnly:!0})),L.default.createElement(X,{label:"Objetivo general: "},L.default.createElement(h.default,{value:a.anteproyecto.objetivo_general,readOnly:!0})),L.default.createElement(X,{label:"Anteproyecto: "},L.default.createElement(p.default,{listType:"picture-card",fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+a.anteproyecto.path_file_anteproyecto}]}))),L.default.createElement(u.default,{className:"border-top"},L.default.createElement(d.default,{xs:24,lg:6},L.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),L.default.createElement(X,{label:L.default.createElement("span",null,"Plan de trabajo ",L.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,q.default)(a.updatedAt).utc().format("ll")},L.default.createElement(j.default,{type:"clock-circle-o"})))},L.default.createElement(p.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+a.filename_plan_trabajo}]}))),L.default.createElement(d.default,{xs:24,lg:18},L.default.createElement(g.default,{style:{marginBottom:10,marginTop:45},icon:"plus",onClick:this.showAgregarObservacionPlanTrabajo},"Agregar observación"),L.default.createElement(w.default,{title:function(){return"Observaciones de plan de trabajo"},columns:E,dataSource:y,pagination:{pageSize:4}}))),L.default.createElement(u.default,{className:"border-top"},L.default.createElement(d.default,{xs:24,lg:6},L.default.createElement("h2",{style:{marginBottom:20}},"Cronograma de actividades"),L.default.createElement(X,{label:L.default.createElement("span",null,"Cronograma de actividades ",L.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,q.default)(a.updatedAt).utc().format("ll")},L.default.createElement(j.default,{type:"clock-circle-o"})))},L.default.createElement(p.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+a.filename_cronograma}],onRemove:!1}))),L.default.createElement(d.default,{xs:24,lg:18},L.default.createElement(g.default,{style:{marginBottom:10,marginTop:45},icon:"plus",onClick:this.showAgregarObservacionCronograma},"Agregar observación"),L.default.createElement(w.default,{title:function(){return"Observaciones del cronograma de actividades"},columns:E,dataSource:_,pagination:{pageSize:4}})))),L.default.createElement($,{tab:L.default.createElement("span",null,L.default.createElement(j.default,{type:"solution"}),"Asesorias"),key:"asesorias"},L.default.createElement(u.default,null,L.default.createElement(d.default,{xs:24,lg:24},L.default.createElement(w.default,{title:function(){return"Asesorias"},columns:C,dataSource:O,pagination:{pageSize:5},scroll:{x:1200}})))),L.default.createElement($,{tab:L.default.createElement("span",null,L.default.createElement(j.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},L.default.createElement(T.default,{key:"-99",tabPosition:"left",defaultActiveKey:"-1",onChange:function(t){return e.onChangeTabSeguimiento(t)}},m.map(function(e,t){return L.default.createElement($,{tab:L.default.createElement("span",null,L.default.createElement(j.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e.id},b)})))),L.default.createElement(H.default,{updateObservaciones:this.updateObservaciones.bind(this),id_proyecto:a.id,tipo:r,usuario:o,visible:n}),L.default.createElement(Z.default,{id_asesoria:c,visible:s}))}}]),t}(Y.Component);t.default=ee},1121:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.tipo,l=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Agregar observacion al "+o,okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Descripción de la observación"},l("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/observacion",{observacion:n.observacion,tipo:a.state.tipo,id_proyecto:a.state.id_proyecto,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),a.setState({visible:!1}),e.resetFields(),a.props.updateObservaciones()):d.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,tipo:e.tipo,id_proyecto:e.id_proyecto,usuario:e.usuario},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.tipo,n=e.id_proyecto,r=e.usuario;this.setState({visible:t,tipo:a,id_proyecto:n,usuario:r})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,tipo:this.state.tipo}))}}]),t}(v.Component);t.default=O},1122:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Agregar solución recomendada",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Solución"},o("solucion",{rules:[{required:!0,message:"La solucion debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la solución..",rows:4})))))})),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/asesoria/solucion_recomendada",{solucion:n.solucion,id_asesoria:a.state.id_asesoria}).then(function(t){200===t.status?(u.default.success("Solución recomendada agregada correctamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al agregar la solución. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_asesoria:e.id_asesoria},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_asesoria;this.setState({visible:t,id_asesoria:a})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=O},1123:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(40),a(38)),f=n(s),m=(a(33),a(34)),p=n(m),b=(a(74),a(75)),h=n(b),y=(a(100),a(101)),v=n(y),_=(a(123),a(124)),g=n(_),E=(a(26),a(12)),w=n(E),C=(a(20),a(21)),O=n(C),x=(a(24),a(25)),k=n(x),S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),A=n(j),R=a(68),I=n(R),P=a(1),M=n(P),T=a(14),D=n(T),F=a(489),N=n(F),Y=(k.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateSeguimientos=function(){a.props.updateSeguimientos()},a.onChangeObservacion=function(e,t){D.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?O.default.success("La revisión se ha actulizado satisfactoriamente"):O.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.state={seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario},a}return l(t,e),S(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario})}},{key:"showAddObservacionSeguimiento",value:function(){this.setState({visible_observacion:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimiento,n=t.usuario,r=t.visible_observacion,o=a.revisiones_seguimiento.map(function(e,t){return{key:I.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,M.default)(e.createdAt).utc().format("LL"),docente:e.docente}}),l=[{className:"center-text",title:"Fecha de observación",dataIndex:"fecha",key:"fecha"},{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(t,a){return A.default.createElement("span",null,a.docente.id==n.id_docente?A.default.createElement(g.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionado,checkedChildren:"Solucionado",unCheckedChildren:A.default.createElement(w.default,{type:"cross"})}):A.default.createElement("p",null,a.solucionado?"Si":"No"))}},{className:"center-text",title:"Realizada por",dataIndex:"docente",key:"docente",render:function(e,t){return A.default.createElement("p",null,t.docente.titulo+" "+t.docente.nombre+" "+t.docente.ap_paterno+" "+t.docente.ap_materno)}},{className:"center-text",title:"Observacion",dataIndex:"observacion",key:"observacion"}];return A.default.createElement(u.default,null,A.default.createElement(p.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},a.url_seguimiento?A.default.createElement("div",null,A.default.createElement("p",null,"Link del seguimiento: "),A.default.createElement(v.default,{defaultFileList:[{uid:-2,name:"Seguimiento",status:"done",url:a.url_seguimiento}]})):A.default.createElement(h.default,{message:"El alumno no ha subido su seguimiento",type:"warning",showIcon:!0})),A.default.createElement(p.default,{xs:24,lg:24},A.default.createElement(f.default,{type:"primary",icon:"plus",onClick:function(){return e.showAddObservacionSeguimiento()}},"Agregar observación"),A.default.createElement(d.default,{title:function(){return"Observaciones del seguimiento"},columns:l,dataSource:o,pagination:{pageSize:4}})),A.default.createElement(N.default,{updateSeguimientos:this.updateSeguimientos.bind(this),usuario:n,visible:r,id_seguimiento:a.id}))}}]),t}(j.Component));t.default=Y},1124:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(12)),u=n(i),c=(a(93),a(84)),d=n(c),s=(a(61),a(62)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(66)),y=a(14),v=(n(y),a(95)),_=a(96),g=n(_),E=a(490),w=n(E),C=f.default.Header,O=f.default.Content,x=f.default.Footer,k=f.default.Sider,S=d.default.SubMenu,j=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(w.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"asesor_externo"===t.rol?e.setState({isAuth:t.isAuth,usuario:t,componentRender:{title:"Asesor externo",render:b.default.createElement("p",null,"Layout Asesor externo")}}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(k,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Menu1")),b.default.createElement(S,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(C,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(O,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(x,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(g.default,{visible:n})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=j},1125:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(74),a(75)),u=n(i),c=(a(26),a(12)),d=n(c),s=(a(93),a(84)),f=n(s),m=(a(61),a(62)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=(a(11),a(2)),_=(n(v),a(66)),g=a(14),E=n(g),w=a(95),C=a(96),O=n(C),x=a(1126),k=n(x),S=a(1129),j=n(S),A=a(1131),R=n(A),I=p.default.Header,P=p.default.Content,M=p.default.Footer,T=p.default.Sider,D=f.default.SubMenu,F=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key),n=(t.selectedKeys,e.state),r=n.usuario,o=n.proyecto;1==a?E.default.get("/api/alumno/"+r.id_alumno+"/proyecto").then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,proyecto:t.data,componentRender:{title:"Proyecto de residencia",render:y.default.createElement(k.default,{proyecto:t.data})}})}):2==a?E.default.get("/api/alumno/"+r.id_alumno+"/proyecto").then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Asesorias",render:y.default.createElement(j.default,{usuario:r,proyecto:t.data})}})}):4==a?E.default.put("/api/proyecto/seguimientos",{id_proyecto:o.id,id_periodo:o.anteproyecto.id_periodo}).then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Seguimientos",render:y.default.createElement(R.default,{seguimientos:t.data})}})}):3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,proyecto:null},e}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"residente"===t.rol?(e.setState({isAuth:t.isAuth,usuario:t,componentRender:{}}),E.default.get("/api/alumno/"+t.id_alumno+"/proyecto").then(function(a){200===a.status?e.setState({proyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Proyecto de residencia",render:y.default.createElement(k.default,{proyecto:a.data})}}):e.setState({isAuth:!1})})):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia),r=e.proyecto;return t?y.default.createElement(p.default,{style:{minHeight:"100vh"}},y.default.createElement(T,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},y.default.createElement("div",{className:"logo",style:{textAlign:"center"}},y.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),y.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},y.default.createElement(f.default.Item,{key:"1"},y.default.createElement(d.default,{type:"inbox"}),y.default.createElement("span",null,"Proyecto")),y.default.createElement(f.default.Item,{key:"2"},y.default.createElement(d.default,{type:"solution"}),y.default.createElement("span",null,"Asesorias")),y.default.createElement(f.default.Item,{key:"4"},y.default.createElement(d.default,{type:"calendar"}),y.default.createElement("span",null,"Seguimientos")),y.default.createElement(D,{key:"sub1",title:y.default.createElement("span",null,y.default.createElement(d.default,{type:"user"}),y.default.createElement("span",null,"Usuario"))},y.default.createElement(f.default.Item,{key:"3"},"Cambiar contraseña"),y.default.createElement(f.default.Item,null,y.default.createElement("a",{href:"/api/usuario/logout"}," ",y.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),y.default.createElement(p.default,null,y.default.createElement(I,{style:{background:"#fff",padding:0}},y.default.createElement(d.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),y.default.createElement(P,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render,r?null:y.default.createElement(u.default,{message:"Residente, usted no tiene proyecto, probablemente hubo una cancelación ó su anteproyecto no fue factible, para mas información preguntar al presidente de academia o jefe de departamento.",type:"error",showIcon:!0})),y.default.createElement(M,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),y.default.createElement(O.default,{visible:n})):y.default.createElement(_.Redirect,{to:"/usuario/auth"})}}]),t}(h.Component);t.default=F},1126:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(116),a(117)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(26),a(12)),p=n(m),b=(a(22),a(27)),h=n(b),y=(a(24),a(25)),v=n(y),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=a(14),C=(n(w),a(1)),O=(n(C),a(1127)),x=n(O),k=a(1128),S=n(k),j=v.default.Item,A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={proyecto:e.proyecto},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto})}},{key:"render",value:function(){var e=this.state.proyecto;return console.log("proyecto => ",this.state.proyecto),E.default.createElement("div",null,E.default.createElement(v.default,null,E.default.createElement(j,{label:"Título"},E.default.createElement(h.default,{value:e.anteproyecto.nombre,readOnly:!0})),E.default.createElement(j,{label:"Objetivo general"},E.default.createElement(h.default,{value:e.anteproyecto.objetivo_general,readOnly:!0})),E.default.createElement(j,{label:"Anteproyecto"},E.default.createElement("a",{style:{color:"#4da1ff"},href:"/api/anteproyecto/pdf/"+e.anteproyecto.path_file_anteproyecto,target:"_blank"}," Ver anteproyecto ",E.default.createElement(p.default,{type:"file-pdf",style:{color:"#4da1ff"}})))),E.default.createElement(u.default,{className:"border-top"},E.default.createElement(f.default,{xs:24,lg:24},E.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),E.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/plan_de_trabajo.docx"},"Plantilla de plan de trabajo ",E.default.createElement(p.default,{type:"cloud-download"}))),E.default.createElement(f.default,{xs:24,lg:12},E.default.createElement(x.default,{proyecto:e})),E.default.createElement(f.default,{xs:24,lg:12},E.default.createElement("p",{style:{marginLeft:40,marginBottom:15}},"Observaciones del plan de trabajo"),E.default.createElement(d.default,{className:"center-block",style:{marginLeft:40,overflow:"scroll",height:180,paddingLeft:20,paddingTop:20}},e.observaciones.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e,t){return E.default.createElement(d.default.Item,{key:t,color:e.solucionada?"green":"red",dot:e.solucionada?E.default.createElement(p.default,{type:"check-circle-o"}):E.default.createElement(p.default,{type:"clock-circle-o",style:{fontSize:"16px"}})},e.observacion)})))),E.default.createElement(u.default,{className:"border-top"},E.default.createElement(f.default,{xs:24,lg:24},E.default.createElement("h2",{style:{marginBottom:20}},"Cronograma"),E.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/cronograma.docx"},"Plantilla de cronograma de actividades ",E.default.createElement(p.default,{type:"cloud-download"}))),E.default.createElement(f.default,{xs:24,lg:12},E.default.createElement(S.default,{proyecto:e})),E.default.createElement(f.default,{xs:24,lg:12},E.default.createElement("p",{style:{marginLeft:40,marginBottom:15}},"Observaciones del cronograma de actividades"),E.default.createElement(d.default,{className:"center-block",style:{marginLeft:40,overflow:"scroll",height:180,paddingLeft:20,paddingTop:20}},e.observaciones.filter(function(e){return"cronograma"===e.tipo}).map(function(e,t){return E.default.createElement(d.default.Item,{key:t,color:e.solucionada?"green":"red",dot:e.solucionada?E.default.createElement(p.default,{type:"check-circle-o"}):E.default.createElement(p.default,{type:"clock-circle-o",style:{fontSize:"16px"}})},e.observacion)})))))}}]),t}(g.Component);t.default=A},1127:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(100),a(101)),u=n(i),c=(a(26),a(12)),d=n(c),s=(a(20),a(21)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=(n(g),a(1)),w=(n(E),h.default.Item),C=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),y(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return _.default.createElement(h.default,{onSubmit:this.handleSubmit},_.default.createElement("div",{className:"dropbox"},_.default.createElement(w,{label:"Seleccione su plan de trabajo"},e("file_plan_trabajo",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_plan_trabajo?[{uid:1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+t.filename_plan_trabajo}]:[]})(_.default.createElement(u.default.Dragger,{name:"filePlanTrabajo",action:"/api/alumno/file_plan_trabajo/"+t.id,beforeUpload:this.beforeUpload},_.default.createElement("p",{className:"ant-upload-drag-icon"},_.default.createElement(d.default,{type:"inbox"})),_.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),_.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(v.Component)),O=h.default.create({mapPropsToFields:function(e){return{props:e}}})(C);t.default=O},1128:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(100),a(101)),u=n(i),c=(a(26),a(12)),d=n(c),s=(a(20),a(21)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=(n(g),a(1)),w=(n(E),h.default.Item),C=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),y(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return _.default.createElement(h.default,{onSubmit:this.handleSubmit},_.default.createElement("div",{className:"dropbox"},_.default.createElement(w,{label:"Seleccione su cronograma de actividades"},e("file_cronograma",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_cronograma?[{uid:1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+t.filename_cronograma}]:[]})(_.default.createElement(u.default.Dragger,{name:"fileCronograma",action:"/api/alumno/cronograma/"+t.id,beforeUpload:this.beforeUpload},_.default.createElement("p",{className:"ant-upload-drag-icon"},_.default.createElement(d.default,{type:"inbox"})),_.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),_.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(v.Component)),O=h.default.create({mapPropsToFields:function(e){return{props:e}}})(C);t.default=O},1129:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(74),a(75)),p=n(m),b=(a(155),a(156)),h=n(b),y=(a(40),a(38)),v=n(y),_=(a(116),a(117)),g=n(_),E=(a(26),a(12)),w=n(E),C=(a(31),a(32)),O=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=a(1),A=n(j),R=a(1130),I=n(R),P=a(68),M=n(P),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showAddAsesoria=function(){a.setState({visibleRegistrarAsesoria:!0})},a.showSolucionesRecomendadas=function(e){O.default.info({width:600,title:"Soluciones recomendadas en la asesoria",content:S.default.createElement("div",{style:{overflow:"scroll",height:300}},S.default.createElement(g.default,{style:{marginTop:30,marginLeft:30}},e.map(function(e,t){return S.default.createElement(g.default.Item,{key:t,dot:e.solucionado?S.default.createElement(w.default,{type:"check-circle-o"}):S.default.createElement(w.default,{type:"clock-circle-o",style:{fontSize:"16px"}}),color:e.solucionado?"green":"red"},e.solucion)}))),onOk:function(){}})},a.state={proyecto:e.proyecto,visibleRegistrarAsesoria:!1,usuario:e.usuario},a}return l(t,e),x(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=t.visibleRegistrarAsesoria,r=(t.usuario,[{className:"center-text",title:"Fecha de asesoria",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return S.default.createElement("a",{href:t.url_avance,target:"_blank"},"Avance ",S.default.createElement(w.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return S.default.createElement("span",null,S.default.createElement(h.default,{count:a.soluciones_recomendadas.filter(function(e){return console.log(e),!e.solucionado}).length},S.default.createElement(v.default,{onClick:function(){return e.showSolucionesRecomendadas(a.soluciones_recomendadas)}},"Ver soluciones")))}},{className:"center-text",title:"Tipo",dataIndex:"tipo",key:"tipo"},{width:300,className:"center-text",title:"Formato de asesoria",dataIndex:"formato_asesoria",key:"formato_asesoria",render:function(e,t){return S.default.createElement("span",null,t.asesoria.permitir_generar_formato?S.default.createElement("a",{href:"/api/asesoria/"+t.asesoria.id+"/generar_formato/",target:"_blank"},S.default.createElement(v.default,{icon:"file-pdf",type:"primary"},"Generar formato")):S.default.createElement(p.default,{message:"El asesor interno debe autorizar el formato",type:"warning",showIcon:!0}))}}]),o=a.asesorias.map(function(e,t){return{key:M.default.v1(),fecha:(0,A.default)(e.fecha,"YYYY-MM-DD").format("ll"),asesoria:e,temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:e.soluciones_recomendadas,tipo:e.tipo}});return S.default.createElement("div",null,S.default.createElement(u.default,null,S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(v.default,{icon:"plus",type:"primary",onClick:this.showAddAsesoria},"Agregar asesoria")),S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(d.default,{title:function(){return"Lista de asesorias registradas"},columns:r,dataSource:o,pagination:{pageSize:5}}))),S.default.createElement(I.default,{proyecto:a,visible:n}))}}]),t}(k.Component);t.default=T},1130:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(152),a(153)),f=n(s),m=(a(94),a(76)),p=n(m),b=(a(26),a(12)),h=n(b),y=(a(118),a(119)),v=n(y),_=(a(29),a(30)),g=n(_),E=(a(22),a(27)),w=n(E),C=(a(24),a(25)),O=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=(a(11),a(14)),A=n(j),R=a(1),I=n(R),P=O.default.Item,M=(w.default.Group,g.default.Option,v.default.TabPane,O.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=(e.carrera,e.alumnos_rechazados,e.addToPeriodo,r.getFieldDecorator);return S.default.createElement(d.default,{visible:t,title:"Registrar asesoria",okText:"Guardar",onCancel:a,onOk:n,width:600},S.default.createElement(O.default,{layout:"vertical"},S.default.createElement(P,{label:S.default.createElement("span",null,"Fecha de asesoria ",S.default.createElement(p.default,{title:"La fecha de asesoria tiene 3 dias habiles."},S.default.createElement(h.default,{type:"question-circle-o"})))},o("fecha",{rules:[{required:!0,message:"La fecha de asesoria es obligatoria."}]})(S.default.createElement(f.default,{format:"ll",disabledDate:function(e){return(0,I.default)(e).format("YYYY-MM-DD")<(0,I.default)().format("YYYY-MM-DD")||(0,I.default)(e).format("YYYY-MM-DD")>(0,I.default)().add(3,"days").format("YYYY-MM-DD")}}))),S.default.createElement(P,{label:"Temas a asesorar"},o("temas_a_asesorar",{rules:[{required:!0,message:"Los temas a asesorar son obligatorios."},{min:5,message:"El minimo de caracteres es 5."},{max:500,message:"El maximo de caracteres es 500."}]})(S.default.createElement(w.default.TextArea,{placeholder:"Describa los temas a asesorar",rows:4}))),S.default.createElement(P,{label:"URL del avance de google drive"},o("url_avance",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/[^s]*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(S.default.createElement(w.default,{prefix:S.default.createElement(h.default,{type:"global",style:{fontSize:13}}),placeholder:"URL del sitio donde esta almacenado el archivo del avance ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"})))))})),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.state.proyecto,t=a.form;t.validateFields(function(n,r){n||A.default.post("/api/proyecto/asesoria",{id_proyecto:e.id,id_asesor_interno:e.anteproyecto.id_asesor_interno,fecha:r.fecha,url_avance:r.url_avance,temas_a_asesorar:r.temas_a_asesorar}).then(function(e){200===e.status?(u.default.success("Asesoria registrada satisfactoriamente"),a.setState({visible:!1}),t.resetFields()):d.default.error({title:"Error al registrar asesoria. Revisar los siguientes campos",content:S.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,proyecto:e.proyecto},a}return l(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.proyecto;e.usuario;this.setState({visible:t,proyecto:a})}},{key:"render",value:function(){return S.default.createElement("div",null,S.default.createElement(M,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(k.Component);t.default=T},1131:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(74),a(75)),p=n(m),b=(a(118),a(119)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=a(68),E=(n(g),a(1)),w=n(E),C=a(1132),O=n(C),x=h.default.TabPane,k=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeSeguimiento=function(e){var t=a.state.seguimientos,n=t.find(function(t){return t[0].id==e})[0],r=(0,w.default)().format("YYYY-MM-DD");r>=n.seguimiento.fecha_inicial&&r<=n.seguimiento.fecha_final?a.setState({renderSeguimiento:_.default.createElement(O.default,{seguimiento:n})}):a.setState({renderSeguimiento:_.default.createElement(p.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,w.default)(n.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,w.default)(n.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0})})},a.state={seguimientos:e.seguimientos,renderSeguimiento:null},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimientos:e.seguimientos,renderSeguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimientos,n=t.renderSeguimiento;return console.log(a),_.default.createElement("div",null,_.default.createElement(u.default,null,_.default.createElement(d.default,{xs:24,lg:4},_.default.createElement(h.default,{defaultActiveKey:"0",tabPosition:"left",onChange:function(t){return e.onChangeSeguimiento(t)}},a.map(function(e,t){return console.log("key",e[0].id),_.default.createElement(x,{tab:_.default.createElement("span",null,_.default.createElement(f.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e[0].id})}))),_.default.createElement(d.default,{xs:24,lg:20},n)))}}]),t}(v.Component);t.default=k},1132:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(155),a(156)),u=n(i),c=(a(40),a(38)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(20),a(21)),p=n(m),b=(a(491),a(492)),h=n(b),y=(a(22),a(27)),v=n(y),_=(a(24),a(25)),g=n(_),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),C=n(w),O=(a(11),a(14)),x=n(O),k=a(1),S=n(k),j=g.default.Item,A=(v.default.TextArea,h.default.Panel),R=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),x.default.put("/api/proyecto/seguimiento",{id_seguimiento:n.props.seguimiento.id,url_seguimiento:t.url_seguimiento}).then(function(e){200===e.status?p.default.success("Seguimiento actualizado satisfactoriamente"):p.default.error("Error al actualizar al seguimiento, favor de reportar al administrador.")}))})},l=a,o(n,l)}return l(t,e),E(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.seguimiento,a={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};return C.default.createElement("div",null,C.default.createElement(g.default,{onSubmit:this.handleSubmit},C.default.createElement("div",{className:"dropbox"},C.default.createElement(j,{label:"URL del seguimiento en google drive"},e("url_seguimiento",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/[^\\s]*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(C.default.createElement(v.default,{prefix:C.default.createElement(f.default,{type:"global",style:{fontSize:13}}),addonAfter:t.url_seguimiento?C.default.createElement("a",{href:t.url_seguimiento?t.url_seguimiento:"#",target:"_blank"},C.default.createElement(f.default,{type:"cloud"}),"Ver seguimiento"):null,placeholder:"URL del sitio donde esta almacenado el archivo del seguimiento ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}))),C.default.createElement(d.default,{type:"primary",htmlType:"submit"},"Actualizar"))),C.default.createElement("h3",{style:{marginTop:20}},"Observaciones"),C.default.createElement("div",{style:{overflowY:"scroll",height:300}},C.default.createElement(h.default,{bordered:!1},t.revisiones_seguimiento.map(function(e,t){return C.default.createElement(A,{header:C.default.createElement("div",null,e.solucionado?C.default.createElement(u.default,{status:"success",text:"Fecha: "+(0,S.default)(e.createdAt).utc().format("LL")+" - Revisión por: "+e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno}):C.default.createElement(u.default,{text:"Fecha: "+(0,S.default)(e.createdAt).utc().format("LL")+" - Revisión por: "+e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno,status:"processing"})),key:t,style:a},C.default.createElement("h3",null,"Observación: "),C.default.createElement("p",null,e.observacion))}))))}}]),t}(w.Component),I=g.default.create({mapPropsToFields:function(e){return{props:e}}})(R);t.default=I},1133:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(398),a(399)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(61),a(62)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=(p.default.Content,p.default.Header,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),b(t,[{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},key:"a"},y.default.createElement(f.default,{lg:16,xs:22},y.default.createElement(u.default,{style:{borderBottomRightRadius:10,borderBottomLeftRadius:10,borderTopLeftRadius:10,borderTopRightRadius:10,paddingTop:25,paddingBottom:25}},y.default.createElement(d.default,{type:"flex",justify:"center",align:"middle"},y.default.createElement(f.default,{lg:24,xs:24,style:{paddingLeft:20,paddingRight:20}},y.default.createElement("h1",{style:{fontSize:150,color:"#4da1ff",textAlign:"center"}},"404"),y.default.createElement("p",{style:{color:"#4da1ff",textAlign:"center"}},"Oops!!! Pagina no encontrada.")))))))}}]),t}(h.Component));t.default=v},1134:function(e,t,a){var n=a(1135);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(19)(n,r);n.locals&&(e.exports=n.locals)},1135:function(e,t,a){t=e.exports=a(18)(void 0),t.push([e.i,".logo-login{\n  width: 10em;\n  height: 10em;\n}\n\n.trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 16px;\n  cursor: pointer;\n  transition: color .3s;\n}\n\n.cerrar-sesion:hover {\n  color: red;\n  background-color: red;\n}\n.trigger:hover {\n  color: #108ee9;\n}\n\n.logo {\n  height: 32px;\n  /* background: #333; */\n  border-radius: 6px;\n  margin: 16px;\n}\n\n.full-width {\n  width: 100%;\n}\n.center-text{\n  text-align: center !important;\n}\n\n\n.dynamic-delete-button {\n  cursor: pointer;\n  position: relative;\n  top: 4px;\n  font-size: 24px;\n  color: #999;\n  transition: all .3s;\n}\n.dynamic-delete-button:hover {\n  color: #777;\n}\n.dynamic-delete-button[disabled] {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.custom-filter-dropdown {\n  padding: 8px;\n  border-radius: 6px;\n  background: #fff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\n}\n\n.custom-filter-dropdown input {\n  width: 130px;\n  margin-right: 8px;\n}\n\n.highlight {\n  color: #f50;\n}\n\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child {\n  padding: 0 48px 0 8px;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th {\n  border-bottom: 1px solid #e9e9e9;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-row td:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-row:last-child td {\n  border: none;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-thead > tr > th {\n  background: none;\n}\n\n.components-table-demo-nested .table-operation a:not(:last-child) {\n  margin-right: 24px;\n}\n.SimplePDF {\n  width: 350px; /* width of pdf document box should be != 0 */\n  height: 500px; /* height of pdf document box should be != 0 */\n  margin: 15px; /* optional */\n  padding: 15px; /* optional */\n  float: left; /* optional */\n}\n\n.pdf{\n  width: 100% !important;\n}\n\n.file-preview {\n  width: 600px !important;\n}\n\n.center-block{\n  justify-content: center;\n  overflow-y: 50px;\n}\n\n.border-top{\n  border-top: 1px solid #d7d9db;\n  margin-top: 20px;\n  padding-top: 10px;\n}",""])},421:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(40),a(38)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(53),a(54)),p=n(m),b=(a(61),a(62)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=a(907),C=n(w),O=a(923),x=n(O),k=a(444),S=n(k),j=a(924),A=n(j),R=(h.default.Content,h.default.Header,p.default.Column),I=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){E.default.get("/api/departamento/"+t).then(function(t){e.setState({visible_add_docente:!1,visible_add_carrera:!1,visible_form_departamento:!1,visible_form_edit_departamento:!0,departamento:t.data})})},e.showAddDocente=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!1,visible_add_docente:!0,props_add_docente:{id_departamento:t,nombre_departamento:a}})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_carrera:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,loadTable:!0},e}return l(t,e),y(t,[{key:"fetchDepartamento",value:function(){var e=this;E.default.get("/api/departamento").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){console.log(e.docentes);var a=e.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol});return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:a?a.titulo+" "+a.nombre+" "+a.ap_paterno+" "+a.ap_materno:"no asignado",acciones:"Editar departamento"}});e.setState({data:a,loadTable:!1,visible_form_edit_departamento:!1})}})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible_form_edit_departamento,n=t.visible_form_departamento,r=t.data,o=t.departamento,l=t.loadTable,i=t.visible_add_docente,c=t.props_add_docente,s=t.visible_add_carrera,m=t.props_add_carrera;return _.default.createElement("div",null,_.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},_.default.createElement(f.default,{style:{marginRight:20}},_.default.createElement("h1",null," Departamentos ")),_.default.createElement(f.default,null,_.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModalFormDepartamento},"Agregar"))),_.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},_.default.createElement(p.default,{dataSource:r,className:"full-width",pagination:{pageSize:5},loading:l,scroll:{x:800}},_.default.createElement(R,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),_.default.createElement(R,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),_.default.createElement(R,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),_.default.createElement(R,{title:"Acciones",key:"acciones",render:function(t,a){return _.default.createElement("span",null,_.default.createElement(d.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Departamento"),_.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddDocente(a.id,a.nombre)}},"docente"),_.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddCarrera(a.id,a.nombre)}},"carrera"))},className:"center-text"}))),_.default.createElement(C.default,{visible:n,onAddDepartamento:this.handleAddDepartamento.bind(this)}),_.default.createElement(x.default,{visible:a,onReloadDepartamentos:this.fetchDepartamento.bind(this),departamento:o}),_.default.createElement(S.default,{visible:i,departamento:c}),_.default.createElement(A.default,{visible:s,departamento:m}))}}]),t}(v.Component));t.default=I},444:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(29),a(30)),p=n(m),b=(a(22),a(27)),h=n(b),y=(a(24),a(25)),v=n(y),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(11),a(14)),C=n(w),O=v.default.Item,x=(h.default.Group,p.default.Option),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator,i=l("titulo",{initialValue:"ING."})(E.default.createElement(p.default,{style:{width:60}},E.default.createElement(x,{value:"ING."},"ING."),E.default.createElement(x,{value:"DR."},"DR."),E.default.createElement(x,{value:"DRA."},"DRA."),E.default.createElement(x,{value:"MTRO."},"MTRO."),E.default.createElement(x,{value:"DIR."},"DIR."),E.default.createElement(x,{value:"DIRA."},"DIRA."),E.default.createElement(x,{value:"LIC."},"LIC."),E.default.createElement(x,{value:"ISC."},"ISC."),E.default.createElement(x,{value:"ISI."},"ISI."),E.default.createElement(x,{value:"MAI."},"MAI."),E.default.createElement(x,{value:"MBT."},"MTB."),E.default.createElement(x,{value:"MCT."},"MCT."),E.default.createElement(x,{value:"MTI."},"MTI."),E.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),E.default.createElement(x,{value:"M.C."},"M.C.")));return E.default.createElement(d.default,{visible:t,title:"Agregar docente al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(v.default,{layout:"vertical"},E.default.createElement(O,{label:"Nombre"},l("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(E.default.createElement(h.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre del docente"}))),E.default.createElement(O,{label:"Apellido paterno"},l("ap_paterno",{rules:[{required:!0,message:"El docente debe tener un apellido paterno."}]})(E.default.createElement(h.default,{placeholder:"Apellido paterno del docente"}))),E.default.createElement(O,{label:"Apellido materno"},l("ap_materno",{rules:[{required:!0,message:"El docente debe tener un apellido materno."}]})(E.default.createElement(h.default,{placeholder:"Apellido materno del docente"}))),E.default.createElement(O,{label:"Correo electronico"},l("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(E.default.createElement(h.default,{prefix:E.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),C.default.post("/api/docente",{titulo:n.titulo,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_departamento:a.state.departamento.id_departamento,correo:n.correo}).then(function(t){console.log(t),200===t.status?(u.default.success("Docente agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar el docente. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(g.Component);t.default=S},445:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(40),a(38)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(53),a(54)),p=n(m),b=(a(61),a(62)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=(h.default.Content,h.default.Header,p.default.Column),C=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModal=function(){e.setState({visible:!0})},e.state={data:[{key:"1",id:1,nombre:"Sistemas y computación",jefe_departamento:"Jose Angel Nava",acciones:"alv"}],visible:!1},e}return l(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;E.default.get("/api/docente").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:"unasigned",acciones:"falta"}});e.setState({data:a})}})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.data);return _.default.createElement("div",null,_.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},_.default.createElement(f.default,{style:{marginRight:20}},_.default.createElement("h1",null," Docente ")),_.default.createElement(f.default,null,_.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),_.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},_.default.createElement(p.default,{dataSource:t,className:"full-width"},_.default.createElement(w,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),_.default.createElement(w,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),_.default.createElement(w,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),_.default.createElement(w,{title:"Acciones",key:"acciones",render:function(e,t){return _.default.createElement("span",null,_.default.createElement(d.default,{icon:"edit"}," Cambiar jefe de departamento "))},className:"center-text"}))))}}]),t}(v.Component));t.default=C},446:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(40),a(38)),p=n(m),b=(a(22),a(27)),h=n(b),y=(a(53),a(54)),v=n(y),_=(a(61),a(62)),g=n(_),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),O=n(C),x=(a(11),a(14)),k=n(x),S=a(930),j=n(S),A=a(931),R=n(A),I=a(932),P=n(I),M=(g.default.Content,g.default.Header,v.default.Column,v.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?E({},e,{nombre:O.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[O.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.showModal=function(){e.setState({visible:!0,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!1})},e.showModalFormEditEmpresa=function(t){var a=e.state.empresas,n=a.find(function(e){return e.id===t});e.setState({visible:!1,visibleFormEditEmpresa:!0,visibleFormAddAsesorExterno:!1,props_edit_empresa:n})},e.showAddAsesorExterno=function(t,a){e.setState({visible:!1,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!0,props_add_asesor:{id_empresa:t,nombre_empresa:a}})},e.expandedRowRender=function(e){var t=[{title:"Nombre",dataIndex:"nombre"},{title:"Puesto",dataIndex:"puesto"}];return O.default.createElement("div",null,O.default.createElement("span",null,O.default.createElement("strong",null,"RFC"),O.default.createElement("p",null,e.detalles.rfc),O.default.createElement("strong",null,"Domicilio"),O.default.createElement("p",null,e.detalles.domicilio),O.default.createElement("strong",null,"Codigo postal"),O.default.createElement("p",null,e.detalles.codigo_postal)),O.default.createElement("span",null,O.default.createElement("strong",null,"Nombre y puesto del titular de la empresa"),O.default.createElement("p",null,e.detalles.nombre_titular+" "+e.detalles.puesto_titular),O.default.createElement("strong",null,"Nombre y puesto de quien firma el acuerdo con el ITCH"),O.default.createElement("p",null,e.detalles.nombre_firma_acuerdo+" "+e.detalles.puesto_firma_acuerdo)),O.default.createElement(v.default,{style:{marginTop:10},title:function(){return"Asesores externos de la empresa"},columns:t,size:"small",dataSource:e.detalles.asesores_externos.map(function(e,t){return{key:t,nombre:e.nombre,puesto:e.puesto}})}))},e.state={empresas:[],filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1,loadTable:!0,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,props_add_asesor:{id_empresa:null,nombre_empresa:null},props_edit_empresa:{detalles:null}},e}return l(t,e),w(t,[{key:"fetchEmpresas",value:function(){var e=this;k.default.get("/api/empresa").then(function(t){if(200===t.status){var a=t.data.empresas.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,clasificacion:e.clasificacion,detalles:{rfc:e.rfc,domicilio:e.domicilio+" colonia "+e.colonia,domicilio_only:e.domicilio,colonia:e.colonia,codigo_postal:e.codigo_postal,fax:e.fax,puesto_titular:e.puesto_titular,nombre_titular:e.nombre_titular,puesto_firma_acuerdo:e.puesto_firma_acuerdo,nombre_firma_acuerdo:e.nombre_firma_acuerdo,asesores_externos:e.asesor_externos},acciones:"acctions"}});e.setState({loadTable:!1,empresas:a,filterEmpresas:a,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1})}}).catch(function(t){e.setState({loadTable:!1})})}},{key:"componentDidMount",value:function(){this.fetchEmpresas()}},{key:"handleAddEmpresa",value:function(){this.fetchEmpresas(),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.filterEmpresas,r=t.loadTable,o=t.visibleFormAddAsesorExterno,l=t.props_add_asesor,i=t.visibleFormEditEmpresa,c=t.props_edit_empresa,s=[{title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:O.default.createElement("div",{className:"custom-filter-dropdown"},O.default.createElement(h.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),O.default.createElement(p.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:O.default.createElement(f.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{title:"Clasificación",dataIndex:"clasificacion",key:"clasificacion",filters:[{text:"Público",value:"público"},{text:"Privado",value:"privado"},{text:"Industrial",value:"industrial"},{text:"Servicios",value:"servicios"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.clasificacion.indexOf(e)}},{title:"Acciones",key:"acciones",render:function(t,a){return O.default.createElement("span",null,O.default.createElement(p.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditEmpresa(a.id)}},"Empresa"),O.default.createElement(p.default,{style:{marginLeft:5},icon:"team",onClick:function(){return e.showAddAsesorExterno(a.id,a.nombre)}},"Agregar asesor externo"))},className:"center-text"}];return O.default.createElement("div",null,O.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},O.default.createElement(d.default,{style:{marginRight:20}},O.default.createElement("h1",null," Empresas ")),O.default.createElement(d.default,null,O.default.createElement(p.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),O.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},O.default.createElement(v.default,{dataSource:n,className:"full-width",columns:s,pagination:{pageSize:5},loading:r,scroll:{x:1200},expandedRowRender:this.expandedRowRender})),O.default.createElement(j.default,{visible:a,onAddEmpresa:this.handleAddEmpresa.bind(this)}),O.default.createElement(R.default,{visible:i,empresa:c,onReloadFetch:this.fetchEmpresas.bind(this)}),O.default.createElement(P.default,{visible:o,empresa:l,onReloadFetch:this.fetchEmpresas.bind(this)}))}}]),t}(C.Component));t.default=M},466:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(116),a(117)),f=n(s),m=(a(40),a(38)),p=n(m),b=(a(26),a(12)),h=n(b),y=(a(118),a(119)),v=n(y),_=(a(29),a(30)),g=n(_),E=(a(22),a(27)),w=n(E),C=(a(24),a(25)),O=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=(a(11),a(14)),A=n(j),R=O.default.Item,I=(w.default.Group,g.default.Option),P=v.default.TabPane,M=O.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.alumnos_rechazados,i=e.addToPeriodo,u=r.getFieldDecorator;return S.default.createElement(d.default,{visible:t,title:"Agregar alumno a la carrera de "+(o?o.nombre:""),okText:"Guardar",onCancel:a,onOk:n,style:{top:10}},S.default.createElement(v.default,{defaultActiveKey:"1"},S.default.createElement(P,{tab:S.default.createElement("span",null,S.default.createElement(h.default,{type:"user-add"}),"Nuevo candidato"),key:"1"},S.default.createElement(O.default,{layout:"vertical"},S.default.createElement(R,{label:"Número de control"},u("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}]})(S.default.createElement(w.default,{style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"}))),S.default.createElement(R,{label:"Nombre"},u("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}]})(S.default.createElement(w.default,{placeholder:"Ingrese el nombre(s) del alumno"}))),S.default.createElement(R,{label:"Apellido paterno"},u("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}]})(S.default.createElement(w.default,{placeholder:"Ingrese el apellido paterno del alumno"}))),S.default.createElement(R,{label:"Apellido materno"},u("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}]})(S.default.createElement(w.default,{placeholder:"Ingrese el apellido materno del alumno"}))),S.default.createElement(R,{label:"Sexo"},u("sexo",{rules:[{required:!0,message:"El alumno debe indicar su sexo."}]})(S.default.createElement(g.default,{placeholder:"Seleccione una opción"},S.default.createElement(I,{key:"H",value:"H"},"Hombre"),S.default.createElement(I,{key:"M",value:"M"},"Mujer")))),S.default.createElement(R,{label:"Correo electronico"},u("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(S.default.createElement(w.default,{prefix:S.default.createElement(h.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese el correo electronico del alumno"}))))),S.default.createElement(P,{tab:S.default.createElement("span",null,S.default.createElement(h.default,{type:"usergroup-delete"}),"Candidato a residente rechazado"),key:"2"},S.default.createElement(f.default,{style:{marginLeft:10}},l.map(function(e,t){return S.default.createElement(f.default.Item,{dot:S.default.createElement(h.default,{type:"exclamation-circle-o",style:{fontSize:"16px"}}),color:"red",key:t},S.default.createElement("p",null,e.no_control+" - "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno),S.default.createElement(p.default,{onClick:function(){return i(e.id)}},"Agregar al periodo"))})))))}),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.addToPeriodo=function(e){A.default.put("/api/alumno/retry_anteproyecto",{id_alumno:e,id_periodo:a.state.id_periodo}).then(function(e){200===e.status?(u.default.success("Alumno agregado al periodo !"),a.setState({visible:!1})):d.default.error({title:"Error al actualizar al alumno. Revisar los siguientes campos",content:S.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||A.default.post("/api/alumno",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_carrera:a.state.carrera.id,sexo:n.sexo,correo:n.correo,id_periodo:a.state.id_periodo}).then(function(t){200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:S.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera},a}return l(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera;this.setState({visible:t,carrera:a,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera})}},{key:"render",value:function(){return S.default.createElement("div",null,S.default.createElement(M,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,carrera:this.state.carrera,addToPeriodo:this.addToPeriodo,alumnos_rechazados:this.state.alumnos_rechazados}))}}]),t}(k.Component);t.default=T},468:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(35),a(36)),c=n(u),d=(a(33),a(34)),s=n(d),f=(a(20),a(21)),m=n(f),p=(a(155),a(156)),b=n(p),h=(a(29),a(30)),y=n(h),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),g=n(_),E=a(14),w=n(E),C=a(1),O=(n(C),a(120)),x=(n(O),a(68)),k=n(x),S=a(1063),j=n(S),A=a(1069),R=n(A),I=y.default.Option,P=y.default.OptGroup,M=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){w.default.put("/api/carrera/docente_habilitado",{id_docente:a.state.usuario.id_docente,id_periodo:e}).then(function(t){200===t.status&&!0===t.data.habilitado?"docente"===t.data.rol||"jefe_proyecto"===t.data.rol?w.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){return{key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,anteproyecto:e.path_file_anteproyecto,revision:e.revisiones.find(function(e){return e.id_docente===a.state.usuario.id_docente})}});a.setState({renderRevision:g.default.createElement(j.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):"presidente_academia"===t.data.rol&&w.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,o=g.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:o,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:g.default.createElement(R.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):m.default.warning("Permiso denegado, solicite permisos al jefe de departamento.")})},a.state={usuario:e.usuario,departamento:e.departamento,renderRevision:null},a}return i(t,e),v(t,[{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.renderRevision;return g.default.createElement("div",null,g.default.createElement(c.default,{type:"flex"},g.default.createElement(s.default,{xs:24,lg:6},g.default.createElement("p",null,"Seleccione el periodo"),g.default.createElement(y.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},t.carreras.map(function(e,t){return g.default.createElement(P,{key:t,label:e.nombre},e.periodos.map(function(e,a){return g.default.createElement(I,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),a)}}]),t}(_.Component);t.default=M},484:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(20),a(21)),f=n(s),m=(a(29),a(30)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=a(14),_=n(v),g=a(1),E=(n(g),a(120)),w=(n(E),a(68)),C=n(w),O=a(1071),x=n(O),k=p.default.Option,S=p.default.OptGroup,j=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){_.default.get("/api/periodo/"+e+"/proyectos").then(function(e){200===e.status&&a.setState({periodo:e.data})})},a.handleChangeResidente=function(e){var t=a.state.usuario;_.default.get("/api/alumno/"+e+"/proyecto").then(function(e){200===e.status?a.setState({renderProyecto:y.default.createElement(x.default,{proyecto:e.data,usuario:t})}):f.default.warning("Ops, ocurrio un error interno, favor de reportar al administrador.")})},a.state={usuario:e.usuario,carreras:e.carreras,renderProyecto:null,periodo:null},a}return l(t,e),b(t,[{key:"render",value:function(){var e=this.state,t=e.carreras,a=e.renderProyecto,n=e.periodo;return y.default.createElement("div",null,y.default.createElement(u.default,{type:"flex",gutter:30},y.default.createElement(d.default,{xs:24,lg:6},y.default.createElement("p",null,"Seleccione el periodo"),y.default.createElement(p.default,{placeholder:"Seleccione un periodo",onChange:this.handleChangePeriodo,style:{width:"100%"}},t.map(function(e,t){return y.default.createElement(S,{key:t,label:e.nombre},e.periodos.map(function(e,t){return y.default.createElement(k,{key:C.default.v1(),value:""+e.id},e.periodo+" "+e.ciclo)}))}))),y.default.createElement(d.default,{xs:24,lg:10},y.default.createElement("p",null,"Seleccione un residente "),y.default.createElement(p.default,{showSearch:!0,placeholder:"Seleccione un residente",onChange:this.handleChangeResidente,optionFilterProp:"children",style:{width:"100%"}},n?n.anteproyectos.map(function(e,t){return y.default.createElement(k,{key:C.default.v1(),value:""+e.alumno.id}," "+e.alumno.no_control+" - "+e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno)}):null))),a)}}]),t}(h.Component);t.default=j},489:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Agregar observacion del seguimiento",okText:"Guardar",onCancel:a,onOk:n,width:600},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Descripción de la observación"},o("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/seguimiento/observacion",{observacion:n.observacion,id_seguimiento:a.state.id_seguimiento,id_docente:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),a.setState({visible:!1}),e.resetFields(),a.props.updateSeguimientos()):d.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_seguimiento:e.id_seguimiento,usuario:e.usuario},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_seguimiento,n=e.usuario;this.setState({visible:t,id_seguimiento:a,usuario:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=O},490:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(155),a(156)),f=n(s),m=(a(31),a(32)),p=n(m),b=(a(20),a(21)),h=n(b),y=(a(40),a(38)),v=n(y),_=(a(100),a(101)),g=n(_),E=(a(22),a(27)),w=n(E),C=(a(94),a(76)),O=n(C),x=(a(26),a(12)),k=n(x),S=(a(491),a(492)),j=n(S),A=(a(29),a(30)),R=n(A),I=(a(24),a(25)),P=n(I),M=(a(1106),a(1109)),T=n(M),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=a(0),N=n(F),Y=a(14),L=n(Y),z=a(1),B=n(z),G=T.default.TreeNode,q=P.default.Item,V=(R.default.Option,j.default.Panel),W=P.default.create()(function(e){var t=e.handleSubmit,a=e.form,n=e.anteproyecto,r=e.empresas,o=e.normFile,l=e.beforeUpload,i=a.getFieldDecorator;return N.default.createElement(P.default,{layout:"vertical",onSubmit:t},N.default.createElement(q,{label:N.default.createElement("span",null,"Nombre del anteproyecto ",N.default.createElement(O.default,{title:"El nombre del anteproyecto debe tener un formato conciso."},N.default.createElement(k.default,{type:"question-circle-o"}))),hasFeedback:!0},i("nombre",{rules:[{required:!0,message:"El anteproyecto debe tener un nombre"}],initialValue:n.nombre?n.nombre:""})(N.default.createElement(w.default,{placeholder:"Ingrese el nombre del anteproyecto",type:"text"}))),N.default.createElement(q,{label:"Objetivo general del anteproyecto",hasFeedback:!0},i("objetivo_general",{rules:[{required:!0,message:"El anteproyecto debe tener un objetivo general."}],initialValue:n.objetivo_general?n.objetivo_general:""})(N.default.createElement(w.default.TextArea,{placeholder:"Escriba aqui el objetivo general",type:"text",autosize:{minRows:2,maxRows:6}}))),N.default.createElement(q,{label:N.default.createElement("span",null,"Asesor externo ",N.default.createElement(O.default,{title:"Si su asesor o empresa no esta en el catalogo,solicitar al jefe de su departamento."},N.default.createElement(k.default,{type:"question-circle-o"}))),hasFeedback:!0},i("id_asesor_externo",{rules:[{required:!0,message:"El anteproyecto debe tener un asesor externo"}],initialValue:n.id_asesor_externo?""+n.id_asesor_externo:""})(N.default.createElement(T.default,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Busque por nombre de empresa o el nombre de su asesor externo.",allowClear:!0,treeDefaultExpandAll:!0,filterTreeNode:function(e,t){return t.props.title.toLowerCase().indexOf(e.toLowerCase())>=0}},r?r.map(function(e,t){return N.default.createElement(G,{title:e.nombre,key:""+t,value:null,disabled:!0},e.asesor_externos.map(function(e,a){return N.default.createElement(G,{value:""+e.id,title:e.nombre,key:a+"_"+t})}))}):null))),N.default.createElement(q,{label:"Seleccione su anteproyecto"},N.default.createElement("div",{className:"dropbox"},i("file_anteproyecto",{valuePropName:"fileList",getValueFromEvent:o})(N.default.createElement(g.default.Dragger,{name:"fileAnteproyecto",action:"/api/alumno/file_anteproyecto/"+n.id,beforeUpload:l},N.default.createElement("p",{className:"ant-upload-drag-icon"},N.default.createElement(k.default,{type:"inbox"})),N.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),N.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))),N.default.createElement(v.default,{size:"large",icon:"save",type:"primary",htmlType:"submit",style:{marginTop:40,marginBottom:20}},"Guardar cambios"))}),U=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.saveFormRef=function(e){a.form=e},a.handleSubmit=function(e){e.preventDefault();var t=a.form,n=a.state.anteproyecto;t.validateFields(function(e,t){if(!e){var a=t.id_asesor_externo,r=t.nombre,o=t.objetivo_general;L.default.put("/api/alumno/"+n.id+"/anteproyecto",{id_asesor_externo:a,nombre:r,objetivo_general:o}).then(function(e){200===e.status?h.default.success("Anteproyecto actualizado satisfactoriamente!"):p.default.error({title:"Error no se pudieron guardar los cambios. Revisar los siguientes campos",content:N.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error(e)})}})},a.state={anteproyecto:e.anteproyecto,empresas:null},a}return l(t,e),D(t,[{key:"componentDidMount",value:function(){var e=this;L.default.get("/api/empresa").then(function(t){200==t.status&&e.setState({empresas:t.data.empresas})})}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||h.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||h.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.state,t=e.anteproyecto,a=e.empresas,n={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};t.periodo.fecha_inicio_entrega_anteproyecto,t.periodo.fecha_fin_entrega_anteproyecto,(0,B.default)().format("YYYY-MM-DD");return N.default.createElement("div",null,N.default.createElement(u.default,{type:"flex",justify:"center"},N.default.createElement(d.default,{xs:24,lg:20,style:{marginBottom:25}},"aprobado"===t.dictamen?N.default.createElement(f.default,{status:"success",text:"Dictamen: aprobado"}):N.default.createElement(f.default,{status:"error",text:"Dictamen: no aprobado"})),N.default.createElement(d.default,{xs:24,lg:20,style:{marginBottom:25}},N.default.createElement("h3",null,"Revisores"),N.default.createElement(j.default,{bordered:!1},t.revisiones.map(function(e,t){return N.default.createElement(V,{header:e.docente.nombre,key:t,style:n},"factible"===e.esFactible?N.default.createElement(f.default,{status:"success",text:"Proyecto factible"}):"","no_factible"===e.esFactible?N.default.createElement(f.default,{status:"error",text:"Proyecto no factible"}):"","corrección"===e.esFactible?N.default.createElement("div",null,N.default.createElement(f.default,{status:"processing",text:"Corregir los siguientes puntos y volver a subir anteproyecto"}),N.default.createElement("p",{style:{marginLeft:20,marginTop:10}},e.comentario)):"")}))),N.default.createElement(d.default,{xs:24,lg:20},N.default.createElement(W,{anteproyecto:t,handleSubmit:this.handleSubmit,ref:this.saveFormRef,empresas:a,normFile:this.normFile,beforeUpload:this.beforeUpload}))))}}]),t}(F.Component);t.default=U},496:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=(a(497),a(501)),o=n(r),l=a(0),i=n(l),u=a(11),c=a(66),d=a(653),s=a(654),f=n(s),m=a(1),p=n(m);a(195);var b=a(660),h=n(b);a(1134),p.default.locale("es"),(0,u.render)(i.default.createElement(o.default,{locale:f.default,className:"full-height"},i.default.createElement(c.BrowserRouter,{history:d.browserHistory},i.default.createElement(h.default,null))),document.getElementById("app"))},660:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=n(r),l=a(66),i=a(661),u=n(i),c=a(421),d=(n(c),a(925)),s=n(d),f=a(933),m=n(f),p=a(1097),b=n(p),h=a(1117),y=n(h),v=a(1124),_=n(v),g=a(1125),E=n(g),w=a(1133),C=n(w),O=function(){return o.default.createElement(l.Switch,null,o.default.createElement(l.Route,{exact:!0,path:"/usuario/auth",component:u.default}),o.default.createElement(s.default,{path:"/admin"}),o.default.createElement(m.default,{path:"/jefe_departamento"}),o.default.createElement(b.default,{path:"/candidato_residente"}),o.default.createElement(E.default,{path:"/residente"}),o.default.createElement(y.default,{path:"/docente"}),o.default.createElement(_.default,{path:"/asesor_externo"}),o.default.createElement(l.Route,{component:C.default}))};t.default=O},661:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(398),a(399)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(24),a(25)),p=n(m),b=(a(61),a(62)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(761)),E=n(g),w=a(762),C=n(w),O=(h.default.Content,h.default.Header,p.default.Item,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),y(t,[{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(E.default,{style:{background:"#282c34",position:"absolute",backgroundSize:"cover",backgroundRepeat:"no-repeat"},params:a(783)}),_.default.createElement(f.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0}},_.default.createElement(d.default,{lg:16,xs:22},_.default.createElement(u.default,{style:{borderBottomRightRadius:7,borderBottomLeftRadius:7,borderTopLeftRadius:7,borderTopRightRadius:7,paddingTop:30,paddingBottom:30}},_.default.createElement(f.default,{type:"flex",justify:"center",align:"middle"},_.default.createElement(d.default,{lg:12,xs:22,style:{paddingLeft:20,paddingRight:20}},_.default.createElement(f.default,{className:"custom-image",type:"flex",justify:"center"},_.default.createElement("img",{src:"/img/tec_Logo.png",alt:"logo_tec",className:"logo-login"})),_.default.createElement("h2",{style:{marginTop:20,marginBottom:20,textAlign:"center",color:"#505962"},className:"color-font"}," SSRITCH v1 "),_.default.createElement("p",{style:{textAlign:"center"}},"Sistema de seguimiento de residencias del Instituto Tecnológico de Chilpancingo")),_.default.createElement(d.default,{lg:12,xs:22,className:"col-login",style:{marginTop:20}},_.default.createElement("h1",{style:{color:"#1f90e6",marginBottom:20}},"Autenticación de usuario"),_.default.createElement(C.default,null)))))))}}]),t}(v.Component));t.default=O},762:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(40),a(38)),u=n(i),c=(a(22),a(27)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(74),a(75)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=a(66),E=a(777),w=n(E),C=h.default.Item,O=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){var n=a.correo,r=a.contrasenia;t||w.default.post("/api/usuario/auth").send({correo:n,contrasenia:r}).end(function(t,a){if(console.log(a),200===a.status&&!0===a.body.isAuth){var n=a.body.rol;"admin"===n?e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/admin"})}):"jefe_departamento"===n?e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/jefe_departamento"})}):"candidato_residente"===n?e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/candidato_residente"})}):"docente"===n?e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/docente"})}):"asesor_externo"===n?e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/asesor_externo"})}):"residente"===n&&e.setState({successAuth:_.default.createElement(g.Redirect,{to:"/residente"})})}else e.setState({successAuth:_.default.createElement(p.default,{message:"Error",description:"Error en la autenticación",type:"error",showIcon:!0,closable:!0})})})})},e.state={successAuth:_.default.createElement("div",null)},e}return l(t,e),y(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return _.default.createElement(h.default,{onSubmit:this.handleSubmit,className:"login-form"},_.default.createElement(C,null,e("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(_.default.createElement(d.default,{prefix:_.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"}))),_.default.createElement(C,null,e("contrasenia",{rules:[{required:!0,message:"Necesita su contraseña para autentificarse en el sistema."}]})(_.default.createElement(d.default,{prefix:_.default.createElement(f.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),_.default.createElement(u.default,{icon:"login",type:"primary",htmlType:"submit",style:{maxWidth:100,marginTop:20,marginBottom:20}},"Ingresar"),this.state.successAuth)}}]),t}(v.Component),x=h.default.create()(O);t.default=x},783:function(e,t){e.exports={particles:{number:{value:30,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},907:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre del departamento"},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(_.default.createElement(p.default,{placeholder:"Nombre del departamento"})))))})),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):d.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=O},923:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option),O=h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator,i=(l("titulo",{initialValue:"ING."})(_.default.createElement(f.default,{style:{width:60}},_.default.createElement(C,{value:"ING."},"ING."),_.default.createElement(C,{value:"DR."},"DR."),_.default.createElement(C,{value:"DRA."},"DRA."),_.default.createElement(C,{value:"MTRO."},"MTRO."),_.default.createElement(C,{value:"DIR."},"DIR."),_.default.createElement(C,{value:"DIRA."},"DIRA."),_.default.createElement(C,{value:"LIC."},"LIC."),_.default.createElement(C,{value:"ISC."},"ISC."),_.default.createElement(C,{value:"ISI."},"ISI."),_.default.createElement(C,{value:"MAI."},"MAI."),_.default.createElement(C,{value:"MBT."},"MTB."),_.default.createElement(C,{value:"MCT."},"MCT."),_.default.createElement(C,{value:"MTI."},"MTI."),_.default.createElement(C,{value:"M.A.T.I."},"M.A.T.I."),_.default.createElement(C,{value:"M.C."},"M.C."))),null);return o&&(i=o.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol})||null),_.default.createElement(d.default,{visible:t,title:"Editar departamento",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre del departamento",initialValue:"",hasFeedback:!0},l("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}],initialValue:o?o.nombre:""})(_.default.createElement(p.default,{placeholder:"Nombre del departamento"}))),_.default.createElement(w,{label:"Seleccione al jefe de departamento",hasFeedback:!0},l("id_jefe_departamento",{rules:[{required:!0,message:"El departamento debe tener un jefe."}],initialValue:i?""+i.id_usuario:""})(_.default.createElement(f.default,{placeholder:"Seleccione un docente"},o?o.docentes.map(function(e,t){return _.default.createElement(C,{key:t,value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):""))),_.default.createElement(w,{label:"Carreras"},l("carreras",{})(_.default.createElement(f.default,{placeholder:"Carreras del departamento"},o?o.carreras.map(function(e,t){return _.default.createElement(C,{key:t,value:""+e.id},""+e.nombre)}):"")))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.departamento;e.validateFields(function(n,r){n||E.default.put("/api/departamento/"+t.id,{nombre_departamento:r.nombre_departamento,id_jefe_departamento:r.id_jefe_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):d.default.error({title:"Error al actualizar el departamento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){var e=this.state.departamento;return _.default.createElement("div",null,_.default.createElement(O,{departamento:e,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=x},924:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(22),a(27)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(14)),E=n(g),w=h.default.Item,C=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Agregar carrera al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre de la carrera"},l("nombre",{rules:[{required:!0,message:"La carrera debe tener un nombre"}]})(_.default.createElement(p.default,{style:{width:"100%"},placeholder:"Nombre de la carrera"})))))})),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/carrera",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Carrera agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la carrera. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(v.Component);t.default=O},925:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(12)),u=n(i),c=(a(93),a(84)),d=n(c),s=(a(61),a(62)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(66)),v=a(95),_=a(421),g=n(_),E=a(445),w=(n(E),a(446)),C=n(w),O=a(96),x=n(O),k=f.default.Header,S=f.default.Content,j=f.default.Footer,A=f.default.Sider,R=d.default.SubMenu,I=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a?e.setState({visibleCambiarContrasenia:!0}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1})},e.state={collapsed:!1,isAuth:!0,componentSelected:1,components:{1:{title:"Gestión de departamentos",render:b.default.createElement(g.default,null)},2:{title:"Gestión de empresas",render:b.default.createElement(C.default,null)}},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"admin"===t.rol?e.setState({isAuth:t.isAuth}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.components,r=e.visibleCambiarContrasenia,o=n[a];return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(A,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"appstore-o"}),b.default.createElement("span",null,"Departamentos")),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(d.default.Divider,null),b.default.createElement(R,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(k,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),o.title),b.default.createElement(S,{style:{margin:"24px 16px",padding:24,background:"#fff"}},o.render),b.default.createElement(j,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(x.default,{visible:r})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=I},930:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(33),a(34)),p=n(m),b=(a(29),a(30)),h=n(b),y=(a(22),a(27)),v=n(y),_=(a(24),a(25)),g=n(_),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),C=n(w),O=(a(11),a(14)),x=n(O),k=g.default.Item,S=(v.default.Group,h.default.Option),j=g.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l=o("titulo_titular",{initialValue:"ING."})(C.default.createElement(h.default,{style:{width:60}},C.default.createElement(S,{value:"ING."},"ING."),C.default.createElement(S,{value:"DR."},"DR."),C.default.createElement(S,{value:"DRA."},"DRA."),C.default.createElement(S,{value:"MTRO."},"MTRO."),C.default.createElement(S,{value:"DIR."},"DIR."),C.default.createElement(S,{value:"DIRA."},"DIRA."),C.default.createElement(S,{value:"LIC."},"LIC."),C.default.createElement(S,{value:"ISC."},"ISC."),C.default.createElement(S,{value:"ISI."},"ISI."),C.default.createElement(S,{value:"MAI."},"MAI."),C.default.createElement(S,{value:"MBT."},"MTB."),C.default.createElement(S,{value:"MCT."},"MCT."),C.default.createElement(S,{value:"MTI."},"MTI."),C.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),C.default.createElement(S,{value:"M.C."},"M.C."))),i=o("titulo_firma_acuerdo",{initialValue:"ING."})(C.default.createElement(h.default,{style:{width:60}},C.default.createElement(S,{value:"ING."},"ING."),C.default.createElement(S,{value:"DR."},"DR."),C.default.createElement(S,{value:"DRA."},"DRA."),C.default.createElement(S,{value:"MTRO."},"MTRO."),C.default.createElement(S,{value:"DIR."},"DIR."),C.default.createElement(S,{value:"DIRA."},"DIRA."),C.default.createElement(S,{value:"LIC."},"LIC."),C.default.createElement(S,{value:"ISC."},"ISC."),C.default.createElement(S,{value:"ISI."},"ISI."),C.default.createElement(S,{value:"MAI."},"MAI."),C.default.createElement(S,{value:"MBT."},"MTB."),C.default.createElement(S,{value:"MCT."},"MCT."),C.default.createElement(S,{value:"MTI."},"MTI."),C.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),C.default.createElement(S,{value:"M.C."},"M.C.")));return C.default.createElement(d.default,{visible:t,title:"Agregar nueva empresa",okText:"Guardar",onCancel:a,onOk:n,width:650,style:{top:20}},C.default.createElement(g.default,{layout:"vertical"},C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{lg:14,xs:24},C.default.createElement(k,{label:"Nombre de la empresa",hasFeedback:!0},o("nombre_empresa",{rules:[{required:!0,message:"La empresa debe tener un nombre."}]})(C.default.createElement(v.default,{placeholder:"Nombre de la empresa"})))),C.default.createElement(p.default,{lg:10,xs:24},C.default.createElement(k,{label:"Seleccione la clasificación de la empresa",hasFeedback:!0},o("clasificacion",{rules:[{required:!0,message:"Indique la clasificación de la empresa"}]})(C.default.createElement(h.default,{placeholder:"Selecciona la clasificación de la empresa"},C.default.createElement(S,{value:"industrial"},"Industrial"),C.default.createElement(S,{value:"servicios"},"Servicios"),C.default.createElement(S,{value:"publico"},"Publico"),C.default.createElement(S,{value:"privado"},"Privado")))))),C.default.createElement(k,{label:"RFC",hasFeedback:!0},o("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}]})(C.default.createElement(v.default,{placeholder:"RFC de la empresa"}))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:24,lg:12},C.default.createElement(k,{label:"Domicilio",hasFeedback:!0},o("domicilio",{rules:[{max:30,message:"El domicilio solo debe tener 30 caracteres"}]})(C.default.createElement(v.default,{placeholder:"Domicilio de la empresa"})))),C.default.createElement(p.default,{xs:24,lg:12},C.default.createElement(k,{label:"Colonia",hasFeedback:!0},o("colonia",{rules:[{max:30,message:"La colonia solo debe tener 30 caracteres"}]})(C.default.createElement(v.default,{placeholder:"Colonia de la empresa"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{lg:12,xs:24},C.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},o("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}]})(C.default.createElement(v.default,{placeholder:"Codigo postal de la empresa"})))),C.default.createElement(p.default,{lg:12,xs:24},C.default.createElement(k,{label:"Fax",hasFeedback:!0},o("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}]})(C.default.createElement(v.default,{placeholder:"Fax de la empresa"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:6,lg:6},C.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},o("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}]})(C.default.createElement(v.default,{placeholder:"Puesto del titular"})))),C.default.createElement(p.default,{xs:18,lg:18},C.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},o("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}]})(C.default.createElement(v.default,{addonBefore:l,placeholder:"Nombre completo del titular"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:6,lg:6},C.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},o("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}]})(C.default.createElement(v.default,{placeholder:"Puesto del que firma el acuerdo"})))),C.default.createElement(p.default,{xs:18,lg:18},C.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},o("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}]})(C.default.createElement(v.default,{addonBefore:i,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||x.default.post("/api/empresa",{nombre:n.nombre_empresa,clasificacion:n.clasificacion,rfc:n.rfc,domicilio:n.domicilio||"",colonia:n.colonia||"",codigo_postal:n.codigo_postal||"",fax:n.fax||"",puesto_titular:n.puesto_titular,nombre_titular:n.titulo_titular+" "+n.nombre_titular,puesto_firma_acuerdo:n.puesto_firma_acuerdo,nombre_firma_acuerdo:n.titulo_firma_acuerdo+" "+n.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa agregada satisfactoriamente"),a.setState({visible:!1}),a.props.onAddEmpresa()):d.default.error({title:"Error al guardar la empresa. Revisar los siguientes campos",content:C.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return C.default.createElement("div",null,C.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(w.Component);t.default=A},931:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(33),a(34)),p=n(m),b=(a(29),a(30)),h=n(b),y=(a(22),a(27)),v=n(y),_=(a(24),a(25)),g=n(_),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),C=n(w),O=(a(11),a(14)),x=n(O),k=g.default.Item,S=(v.default.Group,h.default.Option),j=g.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator;console.log("asas",o);var i=l("titulo_titular",{initialValue:"ING."})(C.default.createElement(h.default,{style:{width:60}},C.default.createElement(S,{value:"ING."},"ING."),C.default.createElement(S,{value:"DR."},"DR."),C.default.createElement(S,{value:"DRA."},"DRA."),C.default.createElement(S,{value:"MTRO."},"MTRO."),C.default.createElement(S,{value:"DIR."},"DIR."),C.default.createElement(S,{value:"DIRA."},"DIRA."),C.default.createElement(S,{value:"LIC."},"LIC."),C.default.createElement(S,{value:"ISC."},"ISC."),C.default.createElement(S,{value:"ISI."},"ISI."),C.default.createElement(S,{value:"MAI."},"MAI."),C.default.createElement(S,{value:"MBT."},"MTB."),C.default.createElement(S,{value:"MCT."},"MCT."),C.default.createElement(S,{value:"MTI."},"MTI."),C.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),C.default.createElement(S,{value:"M.C."},"M.C."))),u=l("titulo_firma_acuerdo",{initialValue:"ING."})(C.default.createElement(h.default,{style:{width:60}},C.default.createElement(S,{value:"ING."},"ING."),C.default.createElement(S,{value:"DR."},"DR."),C.default.createElement(S,{value:"DRA."},"DRA."),C.default.createElement(S,{value:"MTRO."},"MTRO."),C.default.createElement(S,{value:"DIR."},"DIR."),C.default.createElement(S,{value:"DIRA."},"DIRA."),C.default.createElement(S,{value:"LIC."},"LIC."),C.default.createElement(S,{value:"ISC."},"ISC."),C.default.createElement(S,{value:"ISI."},"ISI."),C.default.createElement(S,{value:"MAI."},"MAI."),C.default.createElement(S,{value:"MBT."},"MTB."),C.default.createElement(S,{value:"MCT."},"MCT."),C.default.createElement(S,{value:"MTI."},"MTI."),C.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),C.default.createElement(S,{value:"M.C."},"M.C.")));return C.default.createElement(d.default,{visible:t,title:"Editar la empresa "+o.nombre,okText:"Actualizar",onCancel:a,onOk:n,width:650,style:{top:20}},C.default.createElement(g.default,{layout:"vertical"},C.default.createElement(k,{label:"RFC",hasFeedback:!0},l("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}],initialValue:o.detalles?o.detalles.rfc:""})(C.default.createElement(v.default,{placeholder:"RFC de la empresa"}))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:24,lg:12},C.default.createElement(k,{label:"Domicilio",hasFeedback:!0},l("domicilio",{rules:[{max:30,message:"El domicilio solo debe tener 30 caracteres"}],initialValue:o.detalles?o.detalles.domicilio_only:""})(C.default.createElement(v.default,{placeholder:"Domicilio de la empresa"})))),C.default.createElement(p.default,{xs:24,lg:12},C.default.createElement(k,{label:"Colonia",hasFeedback:!0},l("colonia",{rules:[{max:30,message:"La colonia solo debe tener 30 caracteres"}],initialValue:o.detalles?o.detalles.colonia:""})(C.default.createElement(v.default,{placeholder:"Colonia de la empresa"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{lg:12,xs:24},C.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},l("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}],initialValue:o.detalles?o.detalles.codigo_postal:""})(C.default.createElement(v.default,{placeholder:"Codigo postal de la empresa"})))),C.default.createElement(p.default,{lg:12,xs:24},C.default.createElement(k,{label:"Fax",hasFeedback:!0},l("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}],initialValue:o.detalles?o.detalles.fax:""})(C.default.createElement(v.default,{placeholder:"Fax de la empresa"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:6,lg:6},C.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},l("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}],initialValue:o.detalles?o.detalles.puesto_titular:""})(C.default.createElement(v.default,{placeholder:"Puesto del titular"})))),C.default.createElement(p.default,{xs:18,lg:18},C.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},l("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}],initialValue:o.detalles?o.detalles.nombre_titular:""})(C.default.createElement(v.default,{addonBefore:i,placeholder:"Nombre completo del titular"}))))),C.default.createElement(f.default,{gutter:16},C.default.createElement(p.default,{xs:6,lg:6},C.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},l("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}],initialValue:o.detalles?o.detalles.puesto_firma_acuerdo:""})(C.default.createElement(v.default,{placeholder:"Puesto del que firma el acuerdo"})))),C.default.createElement(p.default,{xs:18,lg:18},C.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},l("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}],initialValue:o.detalles?o.detalles.nombre_firma_acuerdo:""})(C.default.createElement(v.default,{addonBefore:u,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.empresa;e.validateFields(function(n,r){n||x.default.put("/api/empresa/"+t.id,{rfc:r.rfc,domicilio:r.domicilio||"",colonia:r.colonia||"",codigo_postal:r.codigo_postal||"",fax:r.fax||"",puesto_titular:r.puesto_titular,nombre_titular:r.titulo_titular+" "+r.nombre_titular,puesto_firma_acuerdo:r.puesto_firma_acuerdo,nombre_firma_acuerdo:r.titulo_firma_acuerdo+" "+r.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa actualizada satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadFetch()):d.default.error({title:"Error al actualizar la empresa. Revisar los siguientes campos",content:C.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return C.default.createElement("div",null,C.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(w.Component);t.default=A},932:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(26),a(12)),f=n(s),m=(a(29),a(30)),p=n(m),b=(a(22),a(27)),h=n(b),y=(a(24),a(25)),v=n(y),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(11),a(14)),C=n(w),O=v.default.Item,x=(h.default.Group,p.default.Option),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator,i=l("titulo",{initialValue:"ING."})(E.default.createElement(p.default,{style:{width:60}},E.default.createElement(x,{value:"ING."},"ING."),E.default.createElement(x,{value:"DR."},"DR."),E.default.createElement(x,{value:"DRA."},"DRA."),E.default.createElement(x,{value:"MTRO."},"MTRO."),E.default.createElement(x,{value:"DIR."},"DIR."),E.default.createElement(x,{value:"DIRA."},"DIRA."),E.default.createElement(x,{value:"LIC."},"LIC."),E.default.createElement(x,{value:"ISC."},"ISC."),E.default.createElement(x,{value:"ISI."},"ISI."),E.default.createElement(x,{value:"MAI."},"MAI."),E.default.createElement(x,{value:"MBT."},"MTB."),E.default.createElement(x,{value:"MCT."},"MCT."),E.default.createElement(x,{value:"MTI."},"MTI."),E.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),E.default.createElement(x,{value:"M.C."},"M.C.")));return E.default.createElement(d.default,{visible:t,title:"Agregar asesor a la empresa "+o.nombre_empresa,okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(v.default,{layout:"vertical"},E.default.createElement(O,{label:"Nombre completo del asesor externo"},l("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(E.default.createElement(h.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre completo del asesor externo"}))),E.default.createElement(O,{label:"Puesto del asesor externo"},l("puesto",{rules:[{required:!0,message:"El docente debe tener un puesto dentro de la empresa."}]})(E.default.createElement(h.default,{style:{width:"100%"},placeholder:"Puesto del asesor externo"}))),E.default.createElement(O,{label:"Correo del asesor externo"},l("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"El correo es obligatorio."}]})(E.default.createElement(h.default,{prefix:E.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),C.default.post("/api/asesor_externo",{nombre:n.titulo+" "+n.nombre,puesto:n.puesto,correo:n.correo,id_empresa:a.state.empresa.id_empresa}).then(function(t){console.log(t),200===t.status?(u.default.success("Asesor agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onReloadFetch()):d.default.error({title:"Error al guardar al asesor externo. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){console.log(e),u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(g.Component);t.default=S},933:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(12)),u=n(i),c=(a(93),a(84)),d=n(c),s=(a(61),a(62)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(66)),v=a(14),_=n(v),g=a(95),E=a(445),w=(n(E),a(446)),C=n(w),O=a(934),x=n(O),k=a(96),S=n(k),j=a(444),A=n(j),R=a(938),I=n(R),P=a(1013),M=n(P),T=a(468),D=n(T),F=a(484),N=n(F),Y=a(1096),L=n(Y),z=f.default.Header,B=f.default.Content,G=f.default.Footer,q=f.default.Sider,V=d.default.SubMenu,W=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.departamento;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de departamento "+n.nombre,render:b.default.createElement(x.default,{departamento:n})}})}else if(2==a)e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de empresas",render:b.default.createElement(C.default,null)}});else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a){var r=e.state.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!0,props_add_docente:{id_departamento:r.id,nombre_departamento:r.nombre}})}else if(5==a){var o=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Gestión de periodo de residencia",render:b.default.createElement(I.default,{departamento:o})}})}else if(6==a){var l=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Apertura de periodo de residencia",render:b.default.createElement(M.default,{departamento:l})}})}else if(7==a){var i=e.state,u=i.departamento,c=i.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:b.default.createElement(D.default,{usuario:c,departamento:u})}})}else if(8==a){var d=e.state,s=d.departamento,f=d.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Dictamen",render:b.default.createElement(L.default,{usuario:f,departamento:s})}})}else if(9==a){var m=e.state,p=m.usuario,h=m.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de seguimientos",render:b.default.createElement(N.default,{usuario:p,carreras:h.carreras})}})}},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null}},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,g.getIsAuth)().then(function(t){"jefe_departamento"===t.rol?_.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Gestión de departamento "+a.data.nombre,render:b.default.createElement(x.default,{departamento:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia,r=(e.usuario,e.departamento,e.visible_add_docente),o=e.props_add_docente;return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(q,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(V,{key:"sub0",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"appstore"}),b.default.createElement("span",null,"Departamento"))},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"team"}),b.default.createElement("span",null,"Gestionar")),b.default.createElement(d.default.Item,{key:"4"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Agregar docente"),b.default.createElement(A.default,{visible:r,departamento:o}))),b.default.createElement(V,{key:"sub2",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Periodos de residencia"))},b.default.createElement(d.default.Item,{key:"5"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Gestión de periodo")),b.default.createElement(d.default.Item,{key:"6"},b.default.createElement(u.default,{type:"plus"}),b.default.createElement("span",null,"Agregar periodo")),b.default.createElement(d.default.Item,{key:"7"},b.default.createElement(u.default,{type:"solution"}),b.default.createElement("span",null,"Revisión anteproyectos")),b.default.createElement(d.default.Item,{key:"9"},b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Revisión de seguimientos")),b.default.createElement(d.default.Item,{key:"8"},b.default.createElement(u.default,{type:"schedule"}),b.default.createElement("span",null,"Dictamen"))),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(d.default.Divider,null),b.default.createElement(V,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(z,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(B,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(G,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(S.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=W},934:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(33),a(34)),d=n(c),s=(a(20),a(21)),f=n(s),m=(a(29),a(30)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),v=a(14),_=n(v),g=a(935),E=n(g),w=p.default.Option,C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});_.default.get("/api/carrera/"+e+"/docentes_asignados").then(function(e){200===e.status?(console.log("alv",e.data),a.setState({carrera:y.default.createElement(E.default,{carrera:n,docentes:t.docentes,docentesAsignados:e.data})})):f.default.warning("Verificar los docentes asignados.")})},a.state={departamento:e.departamento,carrera:null,docentesAsigandos:null},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:e.departamento,carrera:null,docentesAsigandos:null})}},{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.carrera;return y.default.createElement("div",null,y.default.createElement(u.default,null,y.default.createElement(d.default,{xs:24,lg:6},y.default.createElement("p",null,"Carrera: "),y.default.createElement(p.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},t.carreras.map(function(e,t){return y.default.createElement(w,{key:t,value:""+e.id},e.nombre)})))),a)}}]),t}(h.Component);t.default=C},935:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(53),a(54)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(31),a(32)),p=n(m),b=(a(20),a(21)),h=n(b),y=(a(26),a(12)),v=n(y),_=(a(22),a(27)),g=n(_),E=(a(40),a(38)),w=n(E),C=(a(24),a(25)),O=n(C),x=(a(29),a(30)),k=n(x),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),R=n(A),I=a(14),P=n(I),M=a(68),T=n(M),D=k.default.Option,F=O.default.Item,N=O.default.create()(function(e){var t=e.form,a=e.handleSubmit,n=e.docentes,r=e.checkDocenteDiferente,o=e.docentesAsignados,l=t.getFieldDecorator,i=o.find(function(e){return"presidente_academia"===e.rol})||null,u=o.find(function(e){return"jefe_proyecto"===e.rol})||null;return R.default.createElement(O.default,{layout:"horizontal",onSubmit:a},R.default.createElement(F,{hasFeedback:!0,label:"Presidente de la academia"},l("id_presidente_academia",{rules:[{required:!0,message:"Seleccione al presidente de academia"}],initialValue:i?""+n.find(function(e){return e.id===i.id_docente}).id:null})(R.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al presidente de la academia",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return R.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),R.default.createElement(F,{hasFeedback:!0,label:"Jefe de proyecto"},l("id_jefe_proyecto",{rules:[{validator:r}],initialValue:u?""+n.find(function(e){return e.id===u.id_docente}).id:null})(R.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al jefe de proyecto",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return R.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),R.default.createElement(w.default,{type:"primary",htmlType:"submit"},"Guardar"))}),Y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));L.call(a);var n=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,acciones:"assign"}});return console.log("constructor",e.docentesAsignados),a.state={carrera:e.carrera,docentes:n,filterDocentes:n,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados},a}return l(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,asignacion:"assign"}});console.log("update",e.docentesAsignados),this.setState({carrera:e.carrera,docentes:t,filterDocentes:t,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados})}},{key:"render",value:function(){var e=this,t=this.state,a=t.carrera,n=t.docentes,r=t.filterDocentes,o=t.docentesAsignados,l=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:R.default.createElement("div",{className:"custom-filter-dropdown"},R.default.createElement(g.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),R.default.createElement(w.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:R.default.createElement(v.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}}],i=o.find(function(e){return"presidente_academia"===e.rol})||null,c=o.find(function(e){return"jefe_proyecto"===e.rol})||null,s=function(e){return!!o.find(function(t){return t.id_docente===e.id&&"docente"===t.rol})},m={onChange:function(e,t){console.log("selectedRowKeys: "+e,"selectedRows: ",t),P.default.post("/api/carrera/asignar_docentes",{id_carrera:a.id,array_docentes:t}).then(function(e){200===e.status?h.default.success("Docentes asignados :)!"):p.default.error({title:"Error al actualizar docentes. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error("Error en el servidor verificar con el encargado.")})},getCheckboxProps:function(e){return{disabled:(i?e.id===i.id_docente:null)||(c?e.id===c.id_docente:null),defaultChecked:s(e)}}};return R.default.createElement("div",null,R.default.createElement(d.default,{style:{marginTop:20}},R.default.createElement(f.default,{xs:24,lg:16},R.default.createElement(N,{ref:this.refForm,handleSubmit:this.handleSubmit,docentes:n,checkDocenteDiferente:this.checkDocenteDiferente,docentesAsignados:o}))),R.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},R.default.createElement(u.default,{bordered:!0,title:function(){return"Docentes que participan en la carrera"},rowSelection:m,dataSource:r,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:800}})))}}]),t}(A.Component),L=function(){var e=this;this.refForm=function(t){e.form=t},this.checkDocenteDiferente=function(t,a,n){a===e.form.getFieldValue("id_presidente_academia")?n("El jefe de proyecto no puede ser el mismo que el presidente de academia"):n()},this.handleSubmit=function(t){t.preventDefault();var a=e.state.carrera;e.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),P.default.post("/api/carrera/asignar_encargados",{id_carrera:a.id,id_jefe_proyecto:t.id_jefe_proyecto||null,id_presidente_academia:t.id_presidente_academia}).then(function(e){200===e.status?h.default.success("Carrera actualizada!"):p.default.error({title:"Error al actualizar la carrera. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error("Error en el servidor verificar con el encargado.")}))})},this.onInputChange=function(t){e.setState({searchText:t.target.value})},this.onSearch=function(){var t=e.state,a=t.searchText,n=t.docentes,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterDocentes:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?S({},e,{nombre:R.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[R.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})}};t.default=Y},938:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(53),a(54)),d=n(c),s=(a(33),a(34)),f=n(s),m=(a(152),a(153)),p=n(m),b=(a(31),a(32)),h=n(b),y=(a(116),a(117)),v=n(y),_=(a(463),a(465)),g=n(_),E=(a(40),a(38)),w=n(E),C=(a(26),a(12)),O=n(C),x=(a(20),a(21)),k=n(x),S=(a(29),a(30)),j=n(S),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),I=n(R),P=a(14),M=n(P),T=a(1),D=n(T),F=a(68),N=n(F),Y=a(466),L=n(Y),z=a(1012),B=n(z),G=j.default.Option,q=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleCancelacion=function(e){M.default.put("/api/alumno/cancelacion",{id_alumno:e}).then(function(e){200===e.status?(k.default.success("Se realizado la cancelación del proyecto del alumno!"),a.setState({visible_add_alumno:!1,visible_add_seguimiento:!1})):k.default.error("Ops, hubo un error al realizar la cancelación, favor de reportar al administrador.")})},a.showListaCandidatosResidente=function(e){M.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return I.default.createElement("div",{style:{overflowY:100}},I.default.createElement(v.default.Item,{key:t,color:"green",dot:I.default.createElement(O.default,{type:"check-circle-o",style:{fontSize:"16px",marginTop:10,marginLeft:10}})},I.default.createElement("p",null,e.nombre+" "+e.ap_paterno+" "+e.ap_materno),I.default.createElement(g.default,{title:I.default.createElement("span",null,I.default.createElement("p",null,"¿Esta seguro de realizar la cancelación de proyecto?"),I.default.createElement("p",null,"al realizar esta acción, se borrara todo la información relacionada a este alumno"),I.default.createElement("p",null,"y se podra agregar al alumno a otro periodo.")),onConfirm:function(){return a.handleCancelacion(e.id)},okText:"Si",cancelText:"Cancelar"},I.default.createElement(w.default,{icon:"user-delete",style:{marginTop:5},type:"danger"},"Realizar cancelación"))))});h.default.info({width:600,title:"Lista residentes del periodo.",content:I.default.createElement(v.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,visible_add_seguimiento:!1,id_periodo:e})},a.showAddSeguimiento=function(e,t){a.setState({visible_add_alumno:!1,visible_add_seguimiento:!0,id_periodo:e})},a.showSeguimientos=function(e){console.warn(e);var t=e.map(function(e,t){return I.default.createElement(v.default.Item,{key:t},I.default.createElement("p",null,I.default.createElement("strong",null,t+1)," - Del ",(0,D.default)(e.fecha_inicial,"YYYY-MM-DD").format("LL")," al ",(0,D.default)(e.fecha_final,"YYYY-MM-DD").format("LL")))});h.default.info({title:"Seguimientos",width:600,content:I.default.createElement(v.default,null,t),onOk:function(){}})},a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});M.default.get("/api/carrera/"+n.id+"/periodos").then(function(e){200===e.status?M.default.get("/api/alumnos/"+n.id+"/rechazados").then(function(t){200===t.status&&a.setState({alumnos_rechazados_por_carrera:t.data._alumnos,carreraSeleccionada:e.data,visible_add_alumno:!1,visible_add_seguimiento:!1})}):k.default.warning("Verificar conexión.")})},a.handleChangeFechaFinEntregaAnteproyecto=function(e,t){M.default.put("/api/periodo/fecha_fin_entrega_anteproyecto",{fecha_fin_entrega_anteproyecto:e.format("YYYY-MM-DD"),id_periodo:t}).then(function(e){200===e.status?(k.default.success("Fecha de entrega de anteproyectos actualizada!"),window.location.reload()):k.default.warning("Ups, verificar conexión.")})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,visible_add_seguimiento:!1,id_periodo:null,alumnos_rechazados_por_carrera:[]},a}return l(t,e),A(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.carreraSeleccionada,r=t.visible_add_alumno,o=t.id_periodo,l=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),i=t.visible_add_seguimiento,c=(0,D.default)().format("YYYY-MM-DD"),s=n?n.periodos.map(function(e,t){return{id:e.id,key:N.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,D.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,D.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"on",seguimientos:e.seguimientos}}):null,m=[{className:"center-text",title:"Periodo",key:"periodo",dataIndex:"periodo"},{className:"center-text",title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{className:"center-text",title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{className:"center-text",title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(t,a){return I.default.createElement("span",null,a.fecha_inicio_entrega_anteproyecto," - ",I.default.createElement(p.default,{onChange:function(t,n){e.handleChangeFechaFinEntregaAnteproyecto(t,a.id)},disabledDate:function(e){return e.format("YYYY-MM-DD")>(0,D.default)(a.fecha_fin,"YYYY-MM-DD").format("YYYY-MM-DD")||e.format("YYYY-MM-DD")<(0,D.default)(a.fecha_inicio_entrega_anteproyecto,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,D.default)(a.fecha_fin_entrega_anteproyecto,"YYYY-MM-DD")}))}},{className:"center-text",title:"Seguimientos",key:"seguimientos",dataIndex:"seguimientos",render:function(t,a){return I.default.createElement("div",null,I.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},type:"primary",icon:"bars",onClick:function(){return e.showSeguimientos(a.seguimientos)}},"Lista"),c>a.fecha_fin?"":I.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},icon:"plus",onClick:function(){return e.showAddSeguimiento(a.id,a.fecha_fin)}},"Seguimiento"))}},{className:"center-text",title:"Agregar candidato",key:"acciones",dataIndex:"Acciones",render:function(t,a){return I.default.createElement("span",null,!0===a.acciones?I.default.createElement(w.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):I.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(w.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return I.default.createElement(u.default,{gutter:16},I.default.createElement(f.default,{xs:24,lg:4},I.default.createElement("p",null,"Seleccione la carrera: "),I.default.createElement(j.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},a.carreras.map(function(e,t){return I.default.createElement(G,{key:t,value:""+e.id},e.nombre)}))),I.default.createElement(f.default,{xs:24,lg:20},I.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:s,className:"full-width",columns:m,pagination:{pageSize:8},scroll:{x:1500}})),I.default.createElement(L.default,{visible:r,carrera:n,id_periodo:o,alumnos_rechazados_por_carrera:l}),I.default.createElement(B.default,{visible:i,id_periodo:o}))}}]),t}(R.Component);t.default=q},95:function(e,t,a){"use strict";function n(){return o.default.get("/api/usuario/isAuth").then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAuth=void 0;var r=a(14),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getIsAuth=n},96:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(20),a(21)),u=n(i),c=(a(31),a(32)),d=n(c),s=(a(22),a(27)),f=n(s),m=(a(26),a(12)),p=n(m),b=(a(24),a(25)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),g=(a(11),a(66),a(14)),E=n(g),w=h.default.Item,C=h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(d.default,{visible:t,title:"Cambiar contraseña",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(h.default,{layout:"vertical"},_.default.createElement(w,{label:"Nueva contraseña"},o("nueva_contrasenia",{rules:[{required:!0,message:"Indique su nueva contraseña"}]})(_.default.createElement(f.default,{prefix:_.default.createElement(p.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Nueva contraseña"})))))}),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.put("/api/usuario/cambiar_contrasenia",{nueva_contrasenia:n.nueva_contrasenia}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Contraseña actualizada satisfactoriamente"),a.setState({visible:!1,redirect:!0})):d.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,redirect:!1},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=O}},[496]);
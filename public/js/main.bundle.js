webpackJsonp([0],{1007:function(e,t){},1025:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(71),a(72)),d=n(c),s=(a(467),a(468)),f=n(s),m=(a(46),a(19)),p=n(m),b=(a(45),a(42)),h=n(b),y=(a(29),a(30)),_=n(y),E=(a(37),a(38)),v=n(E),g=(a(32),a(33)),C=n(g),w=(a(39),a(40)),x=n(w),O=(a(26),a(41)),k=n(O),S=(a(27),a(28)),I=n(S),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=a(0),A=n(M),D=a(139),P=n(D),T=a(21),F=n(T),N=a(1),Y=n(N),q=a(1030),G=n(q),B=(I.default.Option,I.default.OptGroup,k.default.TextArea,x.default.Item,function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){console.warn("record=> ",e);var t=e.nombre?e.nombre.match(r):null;return t?R({},e,{nombre:A.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[A.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){C.default.info({width:600,title:"Detalles del asesor externo",content:A.default.createElement(v.default,{gutter:16},A.default.createElement("p",null,"Nombre:"),A.default.createElement(k.default,{readOnly:!0,value:e.nombre}),A.default.createElement("p",{style:{marginTop:10}},"Puesto:"),A.default.createElement(k.default,{readOnly:!0,value:e.puesto}),A.default.createElement("p",{style:{marginTop:10}},"Correo:"),A.default.createElement(k.default,{readOnly:!0,value:e.correo}),A.default.createElement("p",{style:{marginTop:10}}," Empresa"),A.default.createElement(k.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){C.default.info({width:600,title:"Detalles del alumno",content:A.default.createElement(v.default,{gutter:16},A.default.createElement("p",null,"Numero de control:"),A.default.createElement(k.default,{readOnly:!0,value:e.no_control}),A.default.createElement("p",{style:{marginTop:10}},"Nombre:"),A.default.createElement(k.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){C.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:A.default.createElement("div",null,A.default.createElement(P.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}},a}return o(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){this.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}}}},{key:"showInputCorreccion",value:function(e,t){this.setState({visible_correcciones:!0,props_correcciones:{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,correo_alumno:t}})}},{key:"handleFactible",value:function(e,t){F.default.put("/api/anteproyecto/factibilidad",{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,esFactible:t?"factible":"no_factible"}).then(function(e){200===e.status?_.default.success("Anteproyecto marcado como no factible !"):C.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){_.default.error("Error en el servidor verificar con el encargado.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,l=n.fecha_fin_entrega_anteproyecto,o=(0,Y.default)().format("YYYY-MM-DD"),i=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:A.default.createElement("div",{className:"custom-filter-dropdown"},A.default.createElement(k.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),A.default.createElement(h.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:A.default.createElement(p.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(h.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(h.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(h.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),A.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},A.default.createElement(p.default,{type:"select"})))}},{className:"center-text",title:"Factible",dataIndex:"factible",key:"factible",render:function(t,a){return A.default.createElement("span",null,r<o&&l>o?A.default.createElement("span",null,A.default.createElement(f.default,{style:{marginRight:3,marginBottom:3},defaultChecked:!(!a.revision||"factible"!==a.revision.esFactible),checkedChildren:"Factible",unCheckedChildren:A.default.createElement(p.default,{type:"cross"}),onChange:function(t){return e.handleFactible(a.id,t)}}),A.default.createElement(h.default,{style:{marginLeft:3},icon:"exception",onClick:function(){return e.showInputCorreccion(a.id,a.detalles_alumno.usuario.correo)}},"Correción")):A.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}}];return A.default.createElement("div",null,A.default.createElement(v.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},A.default.createElement(u.default,{xs:24,lg:24},A.default.createElement(d.default,{bordered:!0,title:function(){return"Anteproyectos registrados"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1500}}))),A.default.createElement(G.default,{visible:this.state.visible_correcciones,id_docente:this.state.props_correcciones.id_docente,id_anteproyecto:this.state.props_correcciones.id_anteproyecto,correo_alumno:this.state.props_correcciones.correo_alumno}))}}]),t}(M.Component));t.default=B},1030:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(26),a(41)),f=n(s),m=(a(39),a(40)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),_=(a(11),a(21)),E=n(_),v=p.default.Item,g=f.default.TextArea,C=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Correcciones para anteproyecto",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(p.default,{layout:"vertical"},y.default.createElement(v,{label:"Correcciones del anteproyecto"},l("comentario",{rules:[{required:!0,message:"Debe indicar las correcciones."},{max:500,message:"Las correcciones no deben pasar 500 caracteres"}]})(y.default.createElement(g,{maxLength:"500",placeholder:"Escriba aqui las correcciones",autosize:{minRows:2,maxRows:6}})))))}),w=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.put("/api//anteproyecto/factibilidad/correciones",{id_docente:a.state.id_docente,id_anteproyecto:a.state.id_anteproyecto,comentario:n.comentario,correo_alumno:a.state.correo_alumno}).then(function(t){200===t.status?(u.default.success("Se han enviado las correcciones!"),e.resetFields(),a.setState({visible:!1})):d.default.error({title:"Error al enviar las correcciones. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})})},a.saveFormRef=function(e){a.form=e},a.state={id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:e.visible},a}return o(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(h.Component);t.default=w},1031:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(36)),u=n(i),c=(a(71),a(72)),d=n(c),s=(a(467),a(468)),f=n(s),m=(a(469),a(1034)),p=n(m),b=(a(46),a(19)),h=n(b),y=(a(45),a(42)),_=n(y),E=(a(29),a(30)),v=n(E),g=(a(37),a(38)),C=n(g),w=(a(26),a(41)),x=n(w),O=(a(32),a(33)),k=n(O),S=(a(27),a(28)),I=n(S),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=a(0),A=n(M),D=a(139),P=n(D),T=a(21),F=n(T),N=a(1),Y=n(N),q=I.default.Option,G=(I.default.OptGroup,function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){var t=e.nombre?e.nombre.match(r):null;return t?R({},e,{nombre:A.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[A.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){k.default.info({width:600,title:"Detalles del asesor externo",content:A.default.createElement(C.default,{gutter:16},A.default.createElement("p",null,"Nombre:"),A.default.createElement(x.default,{readOnly:!0,value:e.nombre}),A.default.createElement("p",{style:{marginTop:10}},"Puesto:"),A.default.createElement(x.default,{readOnly:!0,value:e.puesto}),A.default.createElement("p",{style:{marginTop:10}},"Correo:"),A.default.createElement(x.default,{readOnly:!0,value:e.correo}),A.default.createElement("p",{style:{marginTop:10}}," Empresa"),A.default.createElement(x.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){k.default.info({width:600,title:"Detalles del alumno",content:A.default.createElement(C.default,{gutter:16},A.default.createElement("p",null,"Numero de control:"),A.default.createElement(x.default,{readOnly:!0,value:e.no_control}),A.default.createElement("p",{style:{marginTop:10}},"Nombre:"),A.default.createElement(x.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){k.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:A.default.createElement("div",null,A.default.createElement(P.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.handleDictamen=function(e,t){var a=t?"aprobado":"no aprobado",n=e.nombre,r=e.asesor_interno,l=e.detalles_asesor_externo;null===n?v.default.warn("Para completar el proceso, falta el nombre del anteproyecto."):null===l?v.default.warn("Para completar el proceso, falta el asesor externo."):null===r?v.default.warn("Para completar el proceso, falta el asesor interno."):F.default.put("/api/anteproyecto/set_dictamen",{id_anteproyecto:e.id,dictamen:a}).then(function(e){200===e.status?v.default.success("Anteproyecto actualizado!"):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")})},a.handleAsesorInterno=function(e,t){F.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?v.default.success("Anteproyecto actualizado!"):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")})},a.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo},a}return o(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){this.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,l=n.fecha_fin_entrega_anteproyecto,o=(0,Y.default)().format("YYYY-MM-DD"),i=[{width:200,fixed:"left",className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:A.default.createElement("div",{className:"custom-filter-dropdown"},A.default.createElement(x.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),A.default.createElement(_.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:A.default.createElement(h.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(_.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(_.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(_.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),A.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},A.default.createElement(h.default,{type:"select"})))}},{className:"center-text",title:"% de factiblidad",dataIndex:"porcentaje_factibilidad",key:"porcentaje_factibilidad",render:function(e,t){return A.default.createElement("span",null,A.default.createElement(p.default,{content:t.revisiones,title:"Revisión de docentes"},A.default.createElement("p",{style:{color:"#4da1ff"}},t.porcentaje_factibilidad+" %")))}},{width:150,className:"center-text",title:"Dictamen",dataIndex:"dictamen",key:"dictamen",render:function(t,a){return A.default.createElement("span",null,r<o&&l>o?A.default.createElement(f.default,{checkedChildren:"Aprobado",defaultChecked:"aprobado"===a.dictamen,unCheckedChildren:"No aprobado",onChange:function(t){return e.handleDictamen(a,t)}}):A.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}},{width:300,className:"center-text",title:"Asesor interno",dataIndex:"asesor_interno",key:"asesor_inteno",render:function(t,a){return A.default.createElement("span",null,A.default.createElement(I.default,{placeholder:"Seleccionde al asesor interno",style:{width:"80%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.asesor_interno?""+a.asesor_interno.id:null},n.carrera.docentes_carreras.map(function(e,t){return A.default.createElement(q,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)})))}}];return A.default.createElement(C.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},A.default.createElement(u.default,{xs:24,lg:24},A.default.createElement(d.default,{bordered:!0,title:function(){return"Registro de dictamen y selección de asesores internos"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1500}})))}}]),t}(M.Component));t.default=G},1035:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(71),a(72)),u=n(i),c=(a(37),a(38)),d=n(c),s=(a(1036),a(1037)),f=n(s),m=(a(35),a(36)),p=n(m),b=(a(32),a(33)),h=n(b),y=(a(29),a(30)),_=n(y),E=(a(45),a(42)),v=n(E),g=(a(27),a(28)),C=n(g),w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(0),O=n(x),k=a(21),S=n(k),I=a(139),R=(n(I),a(1)),j=n(R),M=C.default.Option,A=C.default.OptGroup,D=v.default.Group,P=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){S.default.get("/api/periodo/"+e+"/dictamen").then(function(e){if(200===e.status)if(console.log(e),null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.nombre_titular+" \n "+e.asesor_externo.empresa.puesto_titular,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleGenerarDictamen=function(){var e=a.state.periodo;S.default.post("/api/periodo/generar_dictamen",{id_periodo:e.id}).then(function(e){200===e.status?(console.log(e.data),_.default.success("Dictamen generado satisfactoriamente!")):h.default.error({title:"Error al intentar generar el dictamen",content:O.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){_.default.error(e)})},a.state={usuario:e.usuario,departamento:e.departamento,periodo:null,dictamen_anteproyectos:null},a}return o(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.dictamen_anteproyectos,r=t.periodo,l=(0,j.default)().format("YYYY-MM-DD"),o=[{width:50,fixed:"left",className:"center-text",title:"NUM",dataIndex:"key",key:"key"},{width:100,fixed:"left",className:"center-text",title:"CONTROL",dataIndex:"no_control_alumno",key:"no_control_alumno"},{width:200,fixed:"left",className:"center-text",title:"NOMBRE DEL ESTUDIANTE",dataIndex:"nombre_alumno",key:"nombre_alumno"},{className:"center-text",title:"S",dataIndex:"sexo_alumno",key:"sexo_alumno"},{className:"center-text",title:"ANTEPROYECTO",dataIndex:"nombre_anteproyecto",key:"nombre_anteproyecto"},{className:"center-text",title:"NOMBRE Y CARGO DEL TITULAR DE LA EMPRESA",dataIndex:"nombre_titular_empresa",key:"nombre_titular_empresa"},{title:"ASESORES",children:[{className:"center-text",title:"INTERNO",dataIndex:"asesor_interno",key:"asesor_interno"},{className:"center-text",title:"EXTERNO",dataIndex:"asesor_externo",key:"asesor_externo"}]},{className:"center-text",title:"DICTAMEN",dataIndex:"dictamen",key:"dictamen"},{className:"center-text",title:"FECHA DE DICTAMEN",dataIndex:"fecha_dictamen",key:"fecha_dictamen"}],i=null,c=null;return null!=r&&(i=O.default.createElement(p.default,{xs:24,lg:24},O.default.createElement("h2",{style:{textAlign:"center"}},"DEPARTAMENTO DE ",r.carrera.departamento.nombre.toUpperCase()),O.default.createElement("h3",{style:{textAlign:"center"}},"CARRERA: ",r.carrera.nombre.toUpperCase())),c=l>r.fecha_inicio&&l<r.fecha_fin?null===r.filename_dictamen?O.default.createElement(f.default,{title:O.default.createElement("div",null,O.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados, "),O.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},O.default.createElement(v.default,{type:"primary",icon:"file-pdf"}," Generar dictamen ")):O.default.createElement(D,null,O.default.createElement(f.default,{title:O.default.createElement("div",null,O.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados"),O.default.createElement("p",null," y se sobrescribira el nuevo dictamen"),O.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},O.default.createElement(v.default,{icon:"file-pdf"}," Generar dictamen ")),O.default.createElement(v.default,{type:"primary",icon:"eye-o"}," ",O.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver"))):O.default.createElement(v.default,{type:"primary",icon:"eye-o"}," ",O.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver dictamen"))),O.default.createElement("div",null,O.default.createElement(d.default,{type:"flex"},O.default.createElement(p.default,{xs:24,lg:6},O.default.createElement("p",null,"Seleccione el periodo"),O.default.createElement(C.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},a.carreras.map(function(e,t){return O.default.createElement(A,{key:t,label:e.nombre},e.periodos.map(function(e,a){return O.default.createElement(M,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),O.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},i),O.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},O.default.createElement(p.default,{xs:24,lg:24,style:{marginBottom:20}},c),O.default.createElement(p.default,{xs:24,lg:24},O.default.createElement(u.default,{bordered:!0,title:function(){return"Dictamen"},dataSource:n,className:"full-width",columns:o,pagination:{pageSize:8},scroll:{x:1700}}))))}}]),t}(x.Component);t.default=P},1038:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(46),a(19)),u=n(i),c=(a(136),a(104)),d=n(c),s=(a(66),a(67)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(70)),_=a(21),E=n(_),v=a(137),g=a(138),C=n(g),w=a(1039),x=n(w),O=f.default.Header,k=f.default.Content,S=f.default.Footer,I=f.default.Sider,R=d.default.SubMenu,j=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(x.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,anteproyecto:null},e}return o(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"candidato_residente"===t.rol?E.default.get("/api/alumno/"+t.id_alumno+"/anteproyecto").then(function(a){200===a.status?e.setState({anteproyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(x.default,{anteproyecto:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(I,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Registrar anteproyecto")),b.default.createElement(R,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(O,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(k,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(S,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(C.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=j},1039:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(450),a(451)),f=n(s),m=(a(32),a(33)),p=n(m),b=(a(29),a(30)),h=n(b),y=(a(45),a(42)),_=n(y),E=(a(1040),a(1046)),v=n(E),g=(a(26),a(41)),C=n(g),w=(a(203),a(105)),x=n(w),O=(a(46),a(19)),k=n(O),S=(a(1066),a(1069)),I=n(S),R=(a(27),a(28)),j=n(R),M=(a(39),a(40)),A=n(M),D=(a(1076),a(1079)),P=n(D),T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=a(0),N=n(F),Y=a(21),q=n(Y),G=a(1),B=n(G),L=P.default.TreeNode,V=A.default.Item,z=(j.default.Option,I.default.Panel),H=A.default.create()(function(e){var t=e.handleSubmit,a=e.form,n=e.anteproyecto,r=e.empresas,l=e.normFile,o=e.beforeUpload,i=a.getFieldDecorator;return N.default.createElement(A.default,{layout:"vertical",onSubmit:t},N.default.createElement(V,{label:N.default.createElement("span",null,"Nombre del anteproyecto ",N.default.createElement(x.default,{title:"El nombre del anteproyecto debe tener un formato conciso."},N.default.createElement(k.default,{type:"question-circle-o"}))),hasFeedback:!0},i("nombre",{rules:[{required:!0,message:"El anteproyecto debe tener un nombre"}],initialValue:n.nombre?n.nombre:""})(N.default.createElement(C.default,{placeholder:"Ingrese el nombre del anteproyecto",type:"text"}))),N.default.createElement(V,{label:"Objetivo general del anteproyecto",hasFeedback:!0},i("objetivo_general",{rules:[{required:!0,message:"El anteproyecto debe tener un objetivo general."}],initialValue:n.objetivo_general?n.objetivo_general:""})(N.default.createElement(C.default.TextArea,{placeholder:"Escriba aqui el objetivo general",type:"text",autosize:{minRows:2,maxRows:6}}))),N.default.createElement(V,{label:N.default.createElement("span",null,"Asesor externo ",N.default.createElement(x.default,{title:"Si su asesor o empresa no esta en el catalogo,solicitar al jefe de su departamento."},N.default.createElement(k.default,{type:"question-circle-o"}))),hasFeedback:!0},i("id_asesor_externo",{rules:[{required:!0,message:"El anteproyecto debe tener un asesor externo"}],initialValue:n.id_asesor_externo?""+n.id_asesor_externo:""})(N.default.createElement(P.default,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Busque por nombre de empresa o el nombre de su asesor externo.",allowClear:!0,treeDefaultExpandAll:!0,filterTreeNode:function(e,t){return t.props.title.toLowerCase().indexOf(e.toLowerCase())>=0}},r?r.map(function(e,t){return N.default.createElement(L,{title:e.nombre,key:""+t,value:null,disabled:!0},e.asesor_externos.map(function(e,a){return N.default.createElement(L,{value:""+e.id,title:e.nombre,key:a+"_"+t})}))}):null))),N.default.createElement(V,{label:"Seleccione su anteproyecto"},N.default.createElement("div",{className:"dropbox"},i("file_anteproyecto",{valuePropName:"fileList",getValueFromEvent:l})(N.default.createElement(v.default.Dragger,{name:"fileAnteproyecto",action:"/api/alumno/file_anteproyecto/"+n.id,beforeUpload:o},N.default.createElement("p",{className:"ant-upload-drag-icon"},N.default.createElement(k.default,{type:"inbox"})),N.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),N.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))),N.default.createElement(_.default,{size:"large",icon:"save",type:"primary",htmlType:"submit",style:{marginTop:40,marginBottom:20}},"Guardar cambios"))}),W=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.saveFormRef=function(e){a.form=e},a.handleSubmit=function(e){e.preventDefault();var t=a.form,n=a.state.anteproyecto;t.validateFields(function(e,t){if(!e){var a=t.id_asesor_externo,r=t.nombre,l=t.objetivo_general;q.default.put("/api/alumno/"+n.id+"/anteproyecto",{id_asesor_externo:a,nombre:r,objetivo_general:l}).then(function(e){200===e.status?h.default.success("Anteproyecto actualizado satisfactoriamente!"):p.default.error({title:"Error no se pudieron guardar los cambios. Revisar los siguientes campos",content:N.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error(e)})}})},a.state={anteproyecto:e.anteproyecto,empresas:null},a}return o(t,e),T(t,[{key:"componentDidMount",value:function(){var e=this;q.default.get("/api/empresa").then(function(t){200==t.status&&e.setState({empresas:t.data.empresas})})}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||h.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||h.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.state,t=e.anteproyecto,a=e.empresas,n={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};t.periodo.fecha_inicio_entrega_anteproyecto,periodo.anteproyecto.fecha_fin_entrega_anteproyecto,(0,B.default)().format("YYYY-MM-DD");return console.warn(t),N.default.createElement("div",null,N.default.createElement(u.default,{type:"flex",justify:"center"},N.default.createElement(d.default,{xs:24,lg:20,style:{marginBottom:25}},"aprobado"===t.dictamen?N.default.createElement(f.default,{status:"success",text:"Dictamen: aprobado"}):N.default.createElement(f.default,{status:"error",text:"Dictamen: no aprobado"})),N.default.createElement(d.default,{xs:24,lg:20,style:{marginBottom:25}},N.default.createElement("h3",null,"Revisores"),N.default.createElement(I.default,{bordered:!1},t.revisiones.map(function(e,t){return N.default.createElement(z,{header:e.docente.nombre,key:t,style:n},"factible"===e.esFactible?N.default.createElement(f.default,{status:"success",text:"Proyecto factible"}):"","no_factible"===e.esFactible?N.default.createElement(f.default,{status:"error",text:"Proyecto no factible"}):"","corrección"===e.esFactible?N.default.createElement("div",null,N.default.createElement(f.default,{status:"processing",text:"Corregir los siguientes puntos y volver a subir anteproyecto"}),N.default.createElement("p",{style:{marginLeft:20,marginTop:10}},e.comentario)):"")}))),N.default.createElement(d.default,{xs:24,lg:20},N.default.createElement(H,{anteproyecto:t,handleSubmit:this.handleSubmit,ref:this.saveFormRef,empresas:a,normFile:this.normFile,beforeUpload:this.beforeUpload}))))}}]),t}(F.Component);t.default=W},1087:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(46),a(19)),u=n(i),c=(a(136),a(104)),d=n(c),s=(a(66),a(67)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(70)),_=a(21),E=n(_),v=a(137),g=a(138),C=n(g),w=a(449),x=n(w),O=a(1091),k=n(O),S=f.default.Header,I=f.default.Content,R=f.default.Footer,j=f.default.Sider,M=d.default.SubMenu,A=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state,r=n.departamento,l=n.usuario;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:b.default.createElement(x.default,{usuario:l,departamento:r})}})}else if(2==a){var o=e.state,i=o.departamento,u=o.usuario;console.log("this=>",u);var c=u.docente_carrera.find(function(e){return"presidente_academia"===e.rol});c?(console.log(c),e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Registro de candidato a residente",render:b.default.createElement(k.default,{departamento:i,presidente_academia:c})}})):e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Permiso denegado",render:b.default.createElement("p",null,"Permiso denegado, solo el presidente de academia puede realizar esta acción.")}})}else 3==a&&e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1})},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return o(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"docente"===t.rol?E.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Revisión de anteproyectos ",render:b.default.createElement(x.default,{usuario:t,departamento:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia;e.usuario,e.departamento;return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(j,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Revisión anteproyectos")),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"usergroup-add"}),b.default.createElement("span",null,"Agregar candidato a residente")),b.default.createElement(d.default.Divider,null),b.default.createElement(M,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(S,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(I,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(R,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(C.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=A},1088:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(382),a(383)),u=n(i),c=(a(37),a(38)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(66),a(67)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),_=(p.default.Content,p.default.Header,function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},key:"a"},y.default.createElement(f.default,{lg:16,xs:22},y.default.createElement(u.default,{style:{borderBottomRightRadius:10,borderBottomLeftRadius:10,borderTopLeftRadius:10,borderTopRightRadius:10,paddingTop:25,paddingBottom:25}},y.default.createElement(d.default,{type:"flex",justify:"center",align:"middle"},y.default.createElement(f.default,{lg:24,xs:24,style:{paddingLeft:20,paddingRight:20}},y.default.createElement("h1",{style:{fontSize:150,color:"#4da1ff",textAlign:"center"}},"404"),y.default.createElement("p",{style:{color:"#4da1ff",textAlign:"center"}},"Oops!!! Pagina no encontrada.")))))))}}]),t}(h.Component));t.default=_},1089:function(e,t,a){var n=a(1090);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(17)(n,r);n.locals&&(e.exports=n.locals)},1090:function(e,t,a){t=e.exports=a(16)(void 0),t.push([e.i,".logo-login{\n  width: 10em;\n  height: 10em;\n}\n\n.trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 16px;\n  cursor: pointer;\n  transition: color .3s;\n}\n\n.cerrar-sesion:hover {\n  color: red;\n  background-color: red;\n}\n.trigger:hover {\n  color: #108ee9;\n}\n\n.logo {\n  height: 32px;\n  /* background: #333; */\n  border-radius: 6px;\n  margin: 16px;\n}\n\n.full-width {\n  width: 100%;\n}\n.center-text{\n  text-align: center !important;\n}\n\n\n.dynamic-delete-button {\n  cursor: pointer;\n  position: relative;\n  top: 4px;\n  font-size: 24px;\n  color: #999;\n  transition: all .3s;\n}\n.dynamic-delete-button:hover {\n  color: #777;\n}\n.dynamic-delete-button[disabled] {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.custom-filter-dropdown {\n  padding: 8px;\n  border-radius: 6px;\n  background: #fff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\n}\n\n.custom-filter-dropdown input {\n  width: 130px;\n  margin-right: 8px;\n}\n\n.highlight {\n  color: #f50;\n}\n\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child {\n  padding: 0 48px 0 8px;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th {\n  border-bottom: 1px solid #e9e9e9;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-row td:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-row:last-child td {\n  border: none;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-thead > tr > th {\n  background: none;\n}\n\n.components-table-demo-nested .table-operation a:not(:last-child) {\n  margin-right: 24px;\n}\n.SimplePDF {\n  width: 350px; /* width of pdf document box should be != 0 */\n  height: 500px; /* height of pdf document box should be != 0 */\n  margin: 15px; /* optional */\n  padding: 15px; /* optional */\n  float: left; /* optional */\n}\n\n.pdf{\n  width: 100% !important;\n}",""])},1091:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(71),a(72)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(45),a(42)),p=n(m),b=(a(29),a(30)),h=n(b),y=(a(32),a(33)),_=n(y),E=(a(27),a(28)),v=n(E),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),w=n(C),x=a(21),O=n(x),k=a(1),S=n(k),I=a(204),R=n(I),j=a(974),M=n(j),A=(v.default.Option,function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showListaCandidatosResidente=function(e){O.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return w.default.createElement("li",{key:t},e.nombre+" "+e.ap_paterno+" "+e.ap_materno)});_.default.info({width:600,title:"Lista de candidatos a residente del periodo.",content:w.default.createElement("div",null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,id_periodo:e})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,id_periodo:null,presidente_academia:e.presidente_academia},a}return o(t,e),g(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.departamento,n=t.presidente_academia;console.warn(n);var r=a.carreras.find(function(e){return e.id===n.id_carrera});r&&O.default.get("/api/carrera/"+r.id+"/periodos").then(function(t){200===t.status?e.setState({carreraSeleccionada:t.data,visible_add_alumno:!1}):h.default.warning("Verificar los docentes asignados.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.departamento,t.carreraSeleccionada),n=t.visible_add_alumno,r=t.id_periodo,l=(t.visible_lista_candidatos_residente,a?a.periodos.map(function(e,t){return{id:e.id,key:R.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,S.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,S.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"sisisi"}}):null),o=[{title:"Periodo",key:"periodo",dataIndex:"periodo"},{title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(e,t){return w.default.createElement("span",null,t.fecha_inicio_entrega_anteproyecto+"- "+t.fecha_fin_entrega_anteproyecto)}},{className:"center-text",title:"Acciones",key:"acciones",dataIndex:"Acciones",render:function(t,a){return w.default.createElement("span",null,!0===a.acciones?w.default.createElement(p.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):w.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return w.default.createElement("span",null,w.default.createElement(p.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return w.default.createElement(u.default,null,w.default.createElement(f.default,{xs:24,lg:24,style:{marginBottom:20}},w.default.createElement("h2",null,"Carrera: ",a?a.nombre:"")),w.default.createElement(f.default,{xs:24,lg:24},w.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:l,className:"full-width",columns:o,pagination:{pageSize:8},scroll:{x:1e3}})),w.default.createElement(M.default,{visible:n,carrera:a,id_periodo:r}))}}]),t}(C.Component));t.default=A},137:function(e,t,a){"use strict";function n(){return l.default.get("/api/usuario/isAuth").then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAuth=void 0;var r=a(21),l=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getIsAuth=n},138:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(26),a(41)),f=n(s),m=(a(46),a(19)),p=n(m),b=(a(39),a(40)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(70),a(21)),g=n(v),C=h.default.Item,w=h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=r.getFieldDecorator;return E.default.createElement(d.default,{visible:t,title:"Cambiar contraseña",okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(h.default,{layout:"vertical"},E.default.createElement(C,{label:"Nueva contraseña"},l("nueva_contrasenia",{rules:[{required:!0,message:"Indique su nueva contraseña"}]})(E.default.createElement(f.default,{prefix:E.default.createElement(p.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Nueva contraseña"})))))}),x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.put("/api/usuario/cambiar_contrasenia",{nueva_contrasenia:n.nueva_contrasenia}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Contraseña actualizada satisfactoriamente"),a.setState({visible:!1,redirect:!0})):d.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,redirect:!1},a}return o(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=x},405:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(45),a(42)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(71),a(72)),p=n(m),b=(a(66),a(67)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(21)),g=n(v),C=a(888),w=n(C),x=a(904),O=n(x),k=a(428),S=n(k),I=a(905),R=n(I),j=(h.default.Content,h.default.Header,p.default.Column),M=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){g.default.get("/api/departamento/"+t).then(function(t){e.setState({visible_add_docente:!1,visible_add_carrera:!1,visible_form_departamento:!1,visible_form_edit_departamento:!0,departamento:t.data})})},e.showAddDocente=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!1,visible_add_docente:!0,props_add_docente:{id_departamento:t,nombre_departamento:a}})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_carrera:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,loadTable:!0},e}return o(t,e),y(t,[{key:"fetchDepartamento",value:function(){var e=this;g.default.get("/api/departamento").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){console.log(e.docentes);var a=e.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol});return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:a?a.titulo+" "+a.nombre+" "+a.ap_paterno+" "+a.ap_materno:"no asignado",acciones:"Editar departamento"}});e.setState({data:a,loadTable:!1,visible_form_edit_departamento:!1})}})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible_form_edit_departamento,n=t.visible_form_departamento,r=t.data,l=t.departamento,o=t.loadTable,i=t.visible_add_docente,c=t.props_add_docente,s=t.visible_add_carrera,m=t.props_add_carrera;return E.default.createElement("div",null,E.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},E.default.createElement(f.default,{style:{marginRight:20}},E.default.createElement("h1",null," Departamentos ")),E.default.createElement(f.default,null,E.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModalFormDepartamento},"Agregar"))),E.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},E.default.createElement(p.default,{dataSource:r,className:"full-width",pagination:{pageSize:5},loading:o,scroll:{x:800}},E.default.createElement(j,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),E.default.createElement(j,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),E.default.createElement(j,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),E.default.createElement(j,{title:"Acciones",key:"acciones",render:function(t,a){return E.default.createElement("span",null,E.default.createElement(d.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Departamento"),E.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddDocente(a.id,a.nombre)}},"docente"),E.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddCarrera(a.id,a.nombre)}},"carrera"))},className:"center-text"}))),E.default.createElement(w.default,{visible:n,onAddDepartamento:this.handleAddDepartamento.bind(this)}),E.default.createElement(O.default,{visible:a,onReloadDepartamentos:this.fetchDepartamento.bind(this),departamento:l}),E.default.createElement(S.default,{visible:i,departamento:c}),E.default.createElement(R.default,{visible:s,departamento:m}))}}]),t}(_.Component));t.default=M},428:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(46),a(19)),f=n(s),m=(a(27),a(28)),p=n(m),b=(a(26),a(41)),h=n(b),y=(a(39),a(40)),_=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),g=n(v),C=(a(11),a(21)),w=n(C),x=_.default.Item,O=(h.default.Group,p.default.Option),k=_.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.departamento,o=r.getFieldDecorator,i=o("titulo",{initialValue:"ING."})(g.default.createElement(p.default,{style:{width:60}},g.default.createElement(O,{value:"ING."},"ING."),g.default.createElement(O,{value:"DR."},"DR."),g.default.createElement(O,{value:"DRA."},"DRA."),g.default.createElement(O,{value:"MTRO."},"MTRO."),g.default.createElement(O,{value:"DIR."},"DIR."),g.default.createElement(O,{value:"DIRA."},"DIRA."),g.default.createElement(O,{value:"LIC."},"LIC."),g.default.createElement(O,{value:"ISC."},"ISC."),g.default.createElement(O,{value:"ISI."},"ISI."),g.default.createElement(O,{value:"MAI."},"MAI."),g.default.createElement(O,{value:"MBT."},"MTB."),g.default.createElement(O,{value:"MCT."},"MCT."),g.default.createElement(O,{value:"MTI."},"MTI."),g.default.createElement(O,{value:"M.A.T.I."},"M.A.T.I."),g.default.createElement(O,{value:"M.C."},"M.C.")));return g.default.createElement(d.default,{visible:t,title:"Agregar docente al departamento de "+l.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},g.default.createElement(_.default,{layout:"vertical"},g.default.createElement(x,{label:"Nombre"},o("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(g.default.createElement(h.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre del docente"}))),g.default.createElement(x,{label:"Apellido paterno"},o("ap_paterno",{rules:[{required:!0,message:"El docente debe tener un apellido paterno."}]})(g.default.createElement(h.default,{placeholder:"Apellido paterno del docente"}))),g.default.createElement(x,{label:"Apellido materno"},o("ap_materno",{rules:[{required:!0,message:"El docente debe tener un apellido materno."}]})(g.default.createElement(h.default,{placeholder:"Apellido materno del docente"}))),g.default.createElement(x,{label:"Correo electronico"},o("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(g.default.createElement(h.default,{prefix:g.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),w.default.post("/api/docente",{titulo:n.titulo,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_departamento:a.state.departamento.id_departamento,correo:n.correo}).then(function(t){console.log(t),200===t.status?(u.default.success("Docente agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar el docente. Revisar los siguientes campos",content:g.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return o(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(v.Component);t.default=S},429:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(45),a(42)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(71),a(72)),p=n(m),b=(a(66),a(67)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(21)),g=n(v),C=(h.default.Content,h.default.Header,p.default.Column),w=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModal=function(){e.setState({visible:!0})},e.state={data:[{key:"1",id:1,nombre:"Sistemas y computación",jefe_departamento:"Jose Angel Nava",acciones:"alv"}],visible:!1},e}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;g.default.get("/api/docente").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:"unasigned",acciones:"falta"}});e.setState({data:a})}})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.data);return E.default.createElement("div",null,E.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},E.default.createElement(f.default,{style:{marginRight:20}},E.default.createElement("h1",null," Docente ")),E.default.createElement(f.default,null,E.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),E.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},E.default.createElement(p.default,{dataSource:t,className:"full-width"},E.default.createElement(C,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),E.default.createElement(C,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),E.default.createElement(C,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),E.default.createElement(C,{title:"Acciones",key:"acciones",render:function(e,t){return E.default.createElement("span",null,E.default.createElement(d.default,{icon:"edit"}," Cambiar jefe de departamento "))},className:"center-text"}))))}}]),t}(_.Component));t.default=w},430:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(46),a(19)),f=n(s),m=(a(45),a(42)),p=n(m),b=(a(26),a(41)),h=n(b),y=(a(71),a(72)),_=n(y),E=(a(66),a(67)),v=n(E),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),x=n(w),O=(a(11),a(21)),k=n(O),S=a(911),I=n(S),R=a(912),j=n(R),M=a(913),A=n(M),D=(v.default.Content,v.default.Header,_.default.Column,_.default.ColumnGroup,function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?g({},e,{nombre:x.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[x.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.showModal=function(){e.setState({visible:!0,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!1})},e.showModalFormEditEmpresa=function(t){var a=e.state.empresas,n=a.find(function(e){return e.id===t});e.setState({visible:!1,visibleFormEditEmpresa:!0,visibleFormAddAsesorExterno:!1,props_edit_empresa:n})},e.showAddAsesorExterno=function(t,a){e.setState({visible:!1,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!0,props_add_asesor:{id_empresa:t,nombre_empresa:a}})},e.expandedRowRender=function(e){var t=[{title:"Nombre",dataIndex:"nombre"},{title:"Puesto",dataIndex:"puesto"}];return x.default.createElement("div",null,x.default.createElement("span",null,x.default.createElement("strong",null,"RFC"),x.default.createElement("p",null,e.detalles.rfc),x.default.createElement("strong",null,"Domicilio"),x.default.createElement("p",null,e.detalles.domicilio),x.default.createElement("strong",null,"Codigo postal"),x.default.createElement("p",null,e.detalles.codigo_postal)),x.default.createElement("span",null,x.default.createElement("strong",null,"Nombre y puesto del titular de la empresa"),x.default.createElement("p",null,e.detalles.nombre_titular+" "+e.detalles.puesto_titular),x.default.createElement("strong",null,"Nombre y puesto de quien firma el acuerdo con el ITCH"),x.default.createElement("p",null,e.detalles.nombre_firma_acuerdo+" "+e.detalles.puesto_firma_acuerdo)),x.default.createElement(_.default,{style:{marginTop:10},title:function(){return"Asesores externos de la empresa"},columns:t,size:"small",dataSource:e.detalles.asesores_externos.map(function(e,t){return{key:t,nombre:e.nombre,puesto:e.puesto}})}))},e.state={empresas:[],filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1,loadTable:!0,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,props_add_asesor:{id_empresa:null,nombre_empresa:null},props_edit_empresa:{detalles:null}},e}return o(t,e),C(t,[{key:"fetchEmpresas",value:function(){var e=this;k.default.get("/api/empresa").then(function(t){if(200===t.status){var a=t.data.empresas.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,clasificacion:e.clasificacion,detalles:{rfc:e.rfc,domicilio:e.domicilio+" colonia "+e.colonia,domicilio_only:e.domicilio,colonia:e.colonia,codigo_postal:e.codigo_postal,fax:e.fax,puesto_titular:e.puesto_titular,nombre_titular:e.nombre_titular,puesto_firma_acuerdo:e.puesto_firma_acuerdo,nombre_firma_acuerdo:e.nombre_firma_acuerdo,asesores_externos:e.asesor_externos},acciones:"acctions"}});e.setState({loadTable:!1,empresas:a,filterEmpresas:a,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1})}}).catch(function(t){e.setState({loadTable:!1})})}},{key:"componentDidMount",value:function(){this.fetchEmpresas()}},{key:"handleAddEmpresa",value:function(){this.fetchEmpresas(),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.filterEmpresas,r=t.loadTable,l=t.visibleFormAddAsesorExterno,o=t.props_add_asesor,i=t.visibleFormEditEmpresa,c=t.props_edit_empresa,s=[{title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:x.default.createElement("div",{className:"custom-filter-dropdown"},x.default.createElement(h.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),x.default.createElement(p.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:x.default.createElement(f.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{title:"Clasificación",dataIndex:"clasificacion",key:"clasificacion",filters:[{text:"Público",value:"público"},{text:"Privado",value:"privado"},{text:"Industrial",value:"industrial"},{text:"Servicios",value:"servicios"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.clasificacion.indexOf(e)}},{title:"Acciones",key:"acciones",render:function(t,a){return x.default.createElement("span",null,x.default.createElement(p.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditEmpresa(a.id)}},"Empresa"),x.default.createElement(p.default,{style:{marginLeft:5},icon:"team",onClick:function(){return e.showAddAsesorExterno(a.id,a.nombre)}},"Agregar asesor externo"))},className:"center-text"}];return x.default.createElement("div",null,x.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},x.default.createElement(d.default,{style:{marginRight:20}},x.default.createElement("h1",null," Empresas ")),x.default.createElement(d.default,null,x.default.createElement(p.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),x.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},x.default.createElement(_.default,{dataSource:n,className:"full-width",columns:s,pagination:{pageSize:5},loading:r,scroll:{x:800},expandedRowRender:this.expandedRowRender})),x.default.createElement(I.default,{visible:a,onAddEmpresa:this.handleAddEmpresa.bind(this)}),x.default.createElement(j.default,{visible:i,empresa:c,onReloadFetch:this.fetchEmpresas.bind(this)}),x.default.createElement(A.default,{visible:l,empresa:o,onReloadFetch:this.fetchEmpresas.bind(this)}))}}]),t}(w.Component));t.default=D},449:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(37),a(38)),c=n(u),d=(a(35),a(36)),s=n(d),f=(a(29),a(30)),m=n(f),p=(a(450),a(451)),b=n(p),h=(a(27),a(28)),y=n(h),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a(0),v=n(E),g=a(21),C=n(g),w=a(1),x=(n(w),a(139)),O=(n(x),a(204)),k=n(O),S=a(1025),I=n(S),R=a(1031),j=n(R),M=y.default.Option,A=y.default.OptGroup,D=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){C.default.put("/api/carrera/docente_habilitado",{id_docente:a.state.usuario.id_docente,id_periodo:e}).then(function(t){200===t.status&&!0===t.data.habilitado?"docente"===t.data.rol?C.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){return{key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,anteproyecto:e.path_file_anteproyecto,revision:e.revisiones.find(function(e){return e.id_docente===a.state.usuario.id_docente})}});a.setState({renderRevision:v.default.createElement(I.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):"presidente_academia"===t.data.rol&&C.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,l=v.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?v.default.createElement("p",{key:t},v.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?v.default.createElement("p",{key:t},v.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?v.default.createElement("p",{key:t},v.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:l,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:v.default.createElement(j.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):m.default.warning("Permiso denegado, solicite permisos al jefe de departamento.")})},a.state={usuario:e.usuario,departamento:e.departamento,renderRevision:null},a}return i(t,e),_(t,[{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.renderRevision;return v.default.createElement("div",null,v.default.createElement(c.default,{type:"flex"},v.default.createElement(s.default,{xs:24,lg:6},v.default.createElement("p",null,"Seleccione el periodo"),v.default.createElement(y.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},t.carreras.map(function(e,t){return v.default.createElement(A,{key:t,label:e.nombre},e.periodos.map(function(e,a){return v.default.createElement(M,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),a)}}]),t}(E.Component);t.default=D},477:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=(a(478),a(482)),l=n(r),o=a(0),i=n(o),u=a(11),c=a(70),d=a(634),s=a(635),f=n(s),m=a(1),p=n(m);a(178);var b=a(641),h=n(b);a(1089),p.default.locale("es"),(0,u.render)(i.default.createElement(l.default,{locale:f.default,className:"full-height"},i.default.createElement(c.BrowserRouter,{history:d.browserHistory},i.default.createElement(h.default,null))),document.getElementById("app"))},641:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),l=n(r),o=a(70),i=a(642),u=n(i),c=a(405),d=(n(c),a(906)),s=n(d),f=a(914),m=n(f),p=a(1038),b=n(p),h=a(1087),y=n(h),_=a(1088),E=n(_),v=function(){return l.default.createElement(o.Switch,null,l.default.createElement(o.Route,{exact:!0,path:"/usuario/auth",component:u.default}),l.default.createElement(s.default,{path:"/admin"}),l.default.createElement(m.default,{path:"/jefe_departamento"}),l.default.createElement(b.default,{path:"/candidato_residente"}),l.default.createElement(y.default,{path:"/docente"}),l.default.createElement(o.Route,{component:E.default}))};t.default=v},642:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(382),a(383)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(37),a(38)),f=n(s),m=(a(39),a(40)),p=n(m),b=(a(66),a(67)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(742)),g=n(v),C=(h.default.Content,h.default.Header,p.default.Item,function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(f.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%"}},E.default.createElement(d.default,{lg:16,xs:22},E.default.createElement(u.default,{style:{borderBottomRightRadius:7,borderBottomLeftRadius:7,borderTopLeftRadius:7,borderTopRightRadius:7,paddingTop:25,paddingBottom:25}},E.default.createElement(f.default,{type:"flex",justify:"center",align:"middle"},E.default.createElement(d.default,{lg:12,xs:22,style:{paddingLeft:20,paddingRight:20}},E.default.createElement(f.default,{className:"custom-image",type:"flex",justify:"center"},E.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",className:"logo-login"})),E.default.createElement("h2",{style:{marginTop:20,marginBottom:20,textAlign:"center",color:"#505962"},className:"color-font"}," SSRITCH v1 "),E.default.createElement("p",{style:{textAlign:"center"}},"Sistema de seguimiento de residencias del Instituto Tecnológico de Chilpancingo")),E.default.createElement(d.default,{lg:12,xs:22,className:"col-login",style:{marginTop:20}},E.default.createElement("h1",{style:{color:"#1f90e6",marginBottom:20}},"Autenticación de usuario"),E.default.createElement(g.default,null)))))))}}]),t}(_.Component));t.default=C},742:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(45),a(42)),u=n(i),c=(a(26),a(41)),d=n(c),s=(a(46),a(19)),f=n(s),m=(a(752),a(755)),p=n(m),b=(a(39),a(40)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=a(70),g=a(759),C=n(g),w=h.default.Item,x=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){var n=a.correo,r=a.contrasenia;t||C.default.post("/api/usuario/auth").send({correo:n,contrasenia:r}).end(function(t,a){if(console.log(a),200===a.status&&!0===a.body.isAuth){var n=a.body.rol;"admin"===n?e.setState({successAuth:E.default.createElement(v.Redirect,{to:"/admin"})}):"jefe_departamento"===n?e.setState({successAuth:E.default.createElement(v.Redirect,{to:"/jefe_departamento"})}):"candidato_residente"===n?e.setState({successAuth:E.default.createElement(v.Redirect,{to:"/candidato_residente"})}):"docente"===n&&e.setState({successAuth:E.default.createElement(v.Redirect,{to:"/docente"})})}else e.setState({successAuth:E.default.createElement(p.default,{message:"Error",description:"Error en la autenticación",type:"error",showIcon:!0,closable:!0})})})})},e.state={successAuth:E.default.createElement("div",null)},e}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return E.default.createElement(h.default,{onSubmit:this.handleSubmit,className:"login-form"},E.default.createElement(w,null,e("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(E.default.createElement(d.default,{prefix:E.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"}))),E.default.createElement(w,null,e("contrasenia",{rules:[{required:!0,message:"Necesita su contraseña para autentificarse en el sistema."}]})(E.default.createElement(d.default,{prefix:E.default.createElement(f.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),E.default.createElement(u.default,{icon:"login",type:"primary",htmlType:"submit",style:{maxWidth:100,marginTop:20,marginBottom:20}},"Ingresar"),this.state.successAuth)}}]),t}(_.Component),O=h.default.create()(x);t.default=O},888:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(27),a(28)),f=n(s),m=(a(26),a(41)),p=n(m),b=(a(39),a(40)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(21)),g=n(v),C=h.default.Item,w=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=r.getFieldDecorator;return E.default.createElement(d.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(h.default,{layout:"vertical"},E.default.createElement(C,{label:"Nombre del departamento"},l("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(E.default.createElement(p.default,{placeholder:"Nombre del departamento"})))))})),x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):d.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return o(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=x},904:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(27),a(28)),f=n(s),m=(a(26),a(41)),p=n(m),b=(a(39),a(40)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(21)),g=n(v),C=h.default.Item,w=(p.default.Group,f.default.Option),x=h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.departamento,o=r.getFieldDecorator,i=(o("titulo",{initialValue:"ING."})(E.default.createElement(f.default,{style:{width:60}},E.default.createElement(w,{value:"ING."},"ING."),E.default.createElement(w,{value:"DR."},"DR."),E.default.createElement(w,{value:"DRA."},"DRA."),E.default.createElement(w,{value:"MTRO."},"MTRO."),E.default.createElement(w,{value:"DIR."},"DIR."),E.default.createElement(w,{value:"DIRA."},"DIRA."),E.default.createElement(w,{value:"LIC."},"LIC."),E.default.createElement(w,{value:"ISC."},"ISC."),E.default.createElement(w,{value:"ISI."},"ISI."),E.default.createElement(w,{value:"MAI."},"MAI."),E.default.createElement(w,{value:"MBT."},"MTB."),E.default.createElement(w,{value:"MCT."},"MCT."),E.default.createElement(w,{value:"MTI."},"MTI."),E.default.createElement(w,{value:"M.A.T.I."},"M.A.T.I."),E.default.createElement(w,{value:"M.C."},"M.C."))),null);return l&&(i=l.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol})||null),E.default.createElement(d.default,{visible:t,title:"Editar departamento",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},E.default.createElement(h.default,{layout:"vertical"},E.default.createElement(C,{label:"Nombre del departamento",initialValue:"",hasFeedback:!0},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}],initialValue:l?l.nombre:""})(E.default.createElement(p.default,{placeholder:"Nombre del departamento"}))),E.default.createElement(C,{label:"Seleccione al jefe de departamento",hasFeedback:!0},o("id_jefe_departamento",{rules:[{required:!0,message:"El departamento debe tener un jefe."}],initialValue:i?""+i.id_usuario:""})(E.default.createElement(f.default,{placeholder:"Seleccione un docente"},l?l.docentes.map(function(e,t){return E.default.createElement(w,{key:t,value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):""))),E.default.createElement(C,{label:"Carreras"},o("carreras",{})(E.default.createElement(f.default,{placeholder:"Carreras del departamento"},l?l.carreras.map(function(e,t){return E.default.createElement(w,{key:t,value:""+e.id},""+e.nombre)}):"")))))}),O=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.departamento;e.validateFields(function(n,r){n||g.default.put("/api/departamento/"+t.id,{nombre_departamento:r.nombre_departamento,id_jefe_departamento:r.id_jefe_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):d.default.error({title:"Error al actualizar el departamento. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return o(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){var e=this.state.departamento;return E.default.createElement("div",null,E.default.createElement(x,{departamento:e,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=O},905:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(27),a(28)),f=n(s),m=(a(26),a(41)),p=n(m),b=(a(39),a(40)),h=n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),v=(a(11),a(21)),g=n(v),C=h.default.Item,w=(p.default.Group,f.default.Option,h.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.departamento,o=r.getFieldDecorator;return E.default.createElement(d.default,{visible:t,title:"Agregar carrera al departamento de "+l.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(h.default,{layout:"vertical"},E.default.createElement(C,{label:"Nombre de la carrera"},o("nombre",{rules:[{required:!0,message:"La carrera debe tener un nombre"}]})(E.default.createElement(p.default,{style:{width:"100%"},placeholder:"Nombre de la carrera"})))))})),x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/carrera",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Carrera agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la carrera. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return o(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(_.Component);t.default=x},906:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(46),a(19)),u=n(i),c=(a(136),a(104)),d=n(c),s=(a(66),a(67)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(70)),_=a(137),E=a(405),v=n(E),g=a(429),C=(n(g),a(430)),w=n(C),x=a(138),O=n(x),k=f.default.Header,S=f.default.Content,I=f.default.Footer,R=f.default.Sider,j=d.default.SubMenu,M=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a?e.setState({visibleCambiarContrasenia:!0}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1})},e.state={collapsed:!1,isAuth:!0,componentSelected:1,components:{1:{title:"Gestión de departamentos",render:b.default.createElement(v.default,null)},2:{title:"Gestión de empresas",render:b.default.createElement(w.default,null)}},visibleCambiarContrasenia:!1},e}return o(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,_.getIsAuth)().then(function(t){"admin"===t.rol?e.setState({isAuth:t.isAuth}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.components,r=e.visibleCambiarContrasenia,l=n[a];return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(R,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"appstore-o"}),b.default.createElement("span",null,"Departamentos")),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(d.default.Divider,null),b.default.createElement(j,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(k,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),l.title),b.default.createElement(S,{style:{margin:"24px 16px",padding:24,background:"#fff"}},l.render),b.default.createElement(I,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(O.default,{visible:r})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=M},911:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(37),a(38)),f=n(s),m=(a(35),a(36)),p=n(m),b=(a(27),a(28)),h=n(b),y=(a(26),a(41)),_=n(y),E=(a(39),a(40)),v=n(E),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),w=n(C),x=(a(11),a(21)),O=n(x),k=v.default.Item,S=(_.default.Group,h.default.Option),I=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=r.getFieldDecorator,o=l("titulo_titular",{initialValue:"ING."})(w.default.createElement(h.default,{style:{width:60}},w.default.createElement(S,{value:"ING."},"ING."),w.default.createElement(S,{value:"DR."},"DR."),w.default.createElement(S,{value:"DRA."},"DRA."),w.default.createElement(S,{value:"MTRO."},"MTRO."),w.default.createElement(S,{value:"DIR."},"DIR."),w.default.createElement(S,{value:"DIRA."},"DIRA."),w.default.createElement(S,{value:"LIC."},"LIC."),w.default.createElement(S,{value:"ISC."},"ISC."),w.default.createElement(S,{value:"ISI."},"ISI."),w.default.createElement(S,{value:"MAI."},"MAI."),w.default.createElement(S,{value:"MBT."},"MTB."),w.default.createElement(S,{value:"MCT."},"MCT."),w.default.createElement(S,{value:"MTI."},"MTI."),w.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),w.default.createElement(S,{value:"M.C."},"M.C."))),i=l("titulo_firma_acuerdo",{initialValue:"ING."})(w.default.createElement(h.default,{style:{width:60}},w.default.createElement(S,{value:"ING."},"ING."),w.default.createElement(S,{value:"DR."},"DR."),w.default.createElement(S,{value:"DRA."},"DRA."),w.default.createElement(S,{value:"MTRO."},"MTRO."),w.default.createElement(S,{value:"DIR."},"DIR."),w.default.createElement(S,{value:"DIRA."},"DIRA."),w.default.createElement(S,{value:"LIC."},"LIC."),w.default.createElement(S,{value:"ISC."},"ISC."),w.default.createElement(S,{value:"ISI."},"ISI."),w.default.createElement(S,{value:"MAI."},"MAI."),w.default.createElement(S,{value:"MBT."},"MTB."),w.default.createElement(S,{value:"MCT."},"MCT."),w.default.createElement(S,{value:"MTI."},"MTI."),w.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),w.default.createElement(S,{value:"M.C."},"M.C.")));return w.default.createElement(d.default,{visible:t,title:"Agregar nueva empresa",okText:"Guardar",onCancel:a,onOk:n,width:650,style:{top:20}},w.default.createElement(v.default,{layout:"vertical"},w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{lg:14,xs:24},w.default.createElement(k,{label:"Nombre de la empresa",hasFeedback:!0},l("nombre_empresa",{rules:[{required:!0,message:"La empresa debe tener un nombre."}]})(w.default.createElement(_.default,{placeholder:"Nombre de la empresa"})))),w.default.createElement(p.default,{lg:10,xs:24},w.default.createElement(k,{label:"Seleccione la clasificación de la empresa",hasFeedback:!0},l("clasificacion",{rules:[{required:!0,message:"Indique la clasificación de la empresa"}]})(w.default.createElement(h.default,{placeholder:"Selecciona la clasificación de la empresa"},w.default.createElement(S,{value:"industrial"},"Industrial"),w.default.createElement(S,{value:"servicios"},"Servicios"),w.default.createElement(S,{value:"publico"},"Publico"),w.default.createElement(S,{value:"privado"},"Privado")))))),w.default.createElement(k,{label:"RFC",hasFeedback:!0},l("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}]})(w.default.createElement(_.default,{placeholder:"RFC de la empresa"}))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:24,lg:12},w.default.createElement(k,{label:"Domicilio",hasFeedback:!0},l("domicilio",{rules:[{max:30,message:"El domicilio solo debe tener 30 caracteres"}]})(w.default.createElement(_.default,{placeholder:"Domicilio de la empresa"})))),w.default.createElement(p.default,{xs:24,lg:12},w.default.createElement(k,{label:"Colonia",hasFeedback:!0},l("colonia",{rules:[{max:30,message:"La colonia solo debe tener 30 caracteres"}]})(w.default.createElement(_.default,{placeholder:"Colonia de la empresa"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{lg:12,xs:24},w.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},l("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}]})(w.default.createElement(_.default,{placeholder:"Codigo postal de la empresa"})))),w.default.createElement(p.default,{lg:12,xs:24},w.default.createElement(k,{label:"Fax",hasFeedback:!0},l("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}]})(w.default.createElement(_.default,{placeholder:"Fax de la empresa"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:6,lg:6},w.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},l("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}]})(w.default.createElement(_.default,{placeholder:"Puesto del titular"})))),w.default.createElement(p.default,{xs:18,lg:18},w.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},l("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}]})(w.default.createElement(_.default,{addonBefore:o,placeholder:"Nombre completo del titular"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:6,lg:6},w.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},l("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}]})(w.default.createElement(_.default,{placeholder:"Puesto del que firma el acuerdo"})))),w.default.createElement(p.default,{xs:18,lg:18},w.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},l("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}]})(w.default.createElement(_.default,{addonBefore:i,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),R=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||O.default.post("/api/empresa",{nombre:n.nombre_empresa,clasificacion:n.clasificacion,rfc:n.rfc,domicilio:n.domicilio||"",colonia:n.colonia||"",codigo_postal:n.codigo_postal||"",fax:n.fax||"",puesto_titular:n.puesto_titular,nombre_titular:n.titulo_titular+" "+n.nombre_titular,puesto_firma_acuerdo:n.puesto_firma_acuerdo,nombre_firma_acuerdo:n.titulo_firma_acuerdo+" "+n.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa agregada satisfactoriamente"),a.setState({visible:!1}),a.props.onAddEmpresa()):d.default.error({title:"Error al guardar la empresa. Revisar los siguientes campos",content:w.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return o(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return w.default.createElement("div",null,w.default.createElement(I,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(C.Component);t.default=R},912:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(37),a(38)),f=n(s),m=(a(35),a(36)),p=n(m),b=(a(27),a(28)),h=n(b),y=(a(26),a(41)),_=n(y),E=(a(39),a(40)),v=n(E),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),w=n(C),x=(a(11),a(21)),O=n(x),k=v.default.Item,S=(_.default.Group,h.default.Option),I=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.empresa,o=r.getFieldDecorator;console.log("asas",l);var i=o("titulo_titular",{initialValue:"ING."})(w.default.createElement(h.default,{style:{width:60}},w.default.createElement(S,{value:"ING."},"ING."),w.default.createElement(S,{value:"DR."},"DR."),w.default.createElement(S,{value:"DRA."},"DRA."),w.default.createElement(S,{value:"MTRO."},"MTRO."),w.default.createElement(S,{value:"DIR."},"DIR."),w.default.createElement(S,{value:"DIRA."},"DIRA."),w.default.createElement(S,{value:"LIC."},"LIC."),w.default.createElement(S,{value:"ISC."},"ISC."),w.default.createElement(S,{value:"ISI."},"ISI."),w.default.createElement(S,{value:"MAI."},"MAI."),w.default.createElement(S,{value:"MBT."},"MTB."),w.default.createElement(S,{value:"MCT."},"MCT."),w.default.createElement(S,{value:"MTI."},"MTI."),w.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),w.default.createElement(S,{value:"M.C."},"M.C."))),u=o("titulo_firma_acuerdo",{initialValue:"ING."})(w.default.createElement(h.default,{style:{width:60}},w.default.createElement(S,{value:"ING."},"ING."),w.default.createElement(S,{value:"DR."},"DR."),w.default.createElement(S,{value:"DRA."},"DRA."),w.default.createElement(S,{value:"MTRO."},"MTRO."),w.default.createElement(S,{value:"DIR."},"DIR."),w.default.createElement(S,{value:"DIRA."},"DIRA."),w.default.createElement(S,{value:"LIC."},"LIC."),w.default.createElement(S,{value:"ISC."},"ISC."),w.default.createElement(S,{value:"ISI."},"ISI."),w.default.createElement(S,{value:"MAI."},"MAI."),w.default.createElement(S,{value:"MBT."},"MTB."),w.default.createElement(S,{value:"MCT."},"MCT."),w.default.createElement(S,{value:"MTI."},"MTI."),w.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),w.default.createElement(S,{value:"M.C."},"M.C.")));return w.default.createElement(d.default,{visible:t,title:"Editar la empresa "+l.nombre,okText:"Actualizar",onCancel:a,onOk:n,width:650,style:{top:20}},w.default.createElement(v.default,{layout:"vertical"},w.default.createElement(k,{label:"RFC",hasFeedback:!0},o("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}],initialValue:l.detalles?l.detalles.rfc:""})(w.default.createElement(_.default,{placeholder:"RFC de la empresa"}))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:24,lg:12},w.default.createElement(k,{label:"Domicilio",hasFeedback:!0},o("domicilio",{rules:[{max:30,message:"El domicilio solo debe tener 30 caracteres"}],initialValue:l.detalles?l.detalles.domicilio_only:""})(w.default.createElement(_.default,{placeholder:"Domicilio de la empresa"})))),w.default.createElement(p.default,{xs:24,lg:12},w.default.createElement(k,{label:"Colonia",hasFeedback:!0},o("colonia",{rules:[{max:30,message:"La colonia solo debe tener 30 caracteres"}],initialValue:l.detalles?l.detalles.colonia:""})(w.default.createElement(_.default,{placeholder:"Colonia de la empresa"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{lg:12,xs:24},w.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},o("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}],initialValue:l.detalles?l.detalles.codigo_postal:""})(w.default.createElement(_.default,{placeholder:"Codigo postal de la empresa"})))),w.default.createElement(p.default,{lg:12,xs:24},w.default.createElement(k,{label:"Fax",hasFeedback:!0},o("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}],initialValue:l.detalles?l.detalles.fax:""})(w.default.createElement(_.default,{placeholder:"Fax de la empresa"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:6,lg:6},w.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},o("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}],initialValue:l.detalles?l.detalles.puesto_titular:""})(w.default.createElement(_.default,{placeholder:"Puesto del titular"})))),w.default.createElement(p.default,{xs:18,lg:18},w.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},o("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}],initialValue:l.detalles?l.detalles.nombre_titular:""})(w.default.createElement(_.default,{addonBefore:i,placeholder:"Nombre completo del titular"}))))),w.default.createElement(f.default,{gutter:16},w.default.createElement(p.default,{xs:6,lg:6},w.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},o("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}],initialValue:l.detalles?l.detalles.puesto_firma_acuerdo:""})(w.default.createElement(_.default,{placeholder:"Puesto del que firma el acuerdo"})))),w.default.createElement(p.default,{xs:18,lg:18},w.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},o("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}],initialValue:l.detalles?l.detalles.nombre_firma_acuerdo:""})(w.default.createElement(_.default,{addonBefore:u,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),R=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.empresa;e.validateFields(function(n,r){n||O.default.put("/api/empresa/"+t.id,{rfc:r.rfc,domicilio:r.domicilio||"",colonia:r.colonia||"",codigo_postal:r.codigo_postal||"",fax:r.fax||"",puesto_titular:r.puesto_titular,nombre_titular:r.titulo_titular+" "+r.nombre_titular,puesto_firma_acuerdo:r.puesto_firma_acuerdo,nombre_firma_acuerdo:r.titulo_firma_acuerdo+" "+r.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa actualizada satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadFetch()):d.default.error({title:"Error al actualizar la empresa. Revisar los siguientes campos",content:w.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return o(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return w.default.createElement("div",null,w.default.createElement(I,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(C.Component);t.default=R},913:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(46),a(19)),f=n(s),m=(a(27),a(28)),p=n(m),b=(a(26),a(41)),h=n(b),y=(a(39),a(40)),_=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),g=n(v),C=(a(11),a(21)),w=n(C),x=_.default.Item,O=(h.default.Group,p.default.Option),k=_.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.empresa,o=r.getFieldDecorator,i=o("titulo",{initialValue:"ING."})(g.default.createElement(p.default,{style:{width:60}},g.default.createElement(O,{value:"ING."},"ING."),g.default.createElement(O,{value:"DR."},"DR."),g.default.createElement(O,{value:"DRA."},"DRA."),g.default.createElement(O,{value:"MTRO."},"MTRO."),g.default.createElement(O,{value:"DIR."},"DIR."),g.default.createElement(O,{value:"DIRA."},"DIRA."),g.default.createElement(O,{value:"LIC."},"LIC."),g.default.createElement(O,{value:"ISC."},"ISC."),g.default.createElement(O,{value:"ISI."},"ISI."),g.default.createElement(O,{value:"MAI."},"MAI."),g.default.createElement(O,{value:"MBT."},"MTB."),g.default.createElement(O,{value:"MCT."},"MCT."),g.default.createElement(O,{value:"MTI."},"MTI."),g.default.createElement(O,{value:"M.A.T.I."},"M.A.T.I."),g.default.createElement(O,{value:"M.C."},"M.C.")));return g.default.createElement(d.default,{visible:t,title:"Agregar asesor a la empresa "+l.nombre_empresa,okText:"Guardar",onCancel:a,onOk:n},g.default.createElement(_.default,{layout:"vertical"},g.default.createElement(x,{label:"Nombre completo del asesor externo"},o("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(g.default.createElement(h.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre completo del asesor externo"}))),g.default.createElement(x,{label:"Puesto del asesor externo"},o("puesto",{rules:[{required:!0,message:"El docente debe tener un puesto dentro de la empresa."}]})(g.default.createElement(h.default,{style:{width:"100%"},placeholder:"Puesto del asesor externo"}))),g.default.createElement(x,{label:"Correo del asesor externo"},o("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"El correo es obligatorio."}]})(g.default.createElement(h.default,{prefix:g.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),w.default.post("/api/asesor_externo",{nombre:n.titulo+" "+n.nombre,puesto:n.puesto,correo:n.correo,id_empresa:a.state.empresa.id_empresa}).then(function(t){console.log(t),200===t.status?(u.default.success("Asesor agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onReloadFetch()):d.default.error({title:"Error al guardar al asesor externo. Revisar los siguientes campos",content:g.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){console.log(e),u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return o(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(v.Component);t.default=S},914:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(46),a(19)),u=n(i),c=(a(136),a(104)),d=n(c),s=(a(66),a(67)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),h=(a(11),a(2)),y=(n(h),a(70)),_=a(21),E=n(_),v=a(137),g=a(429),C=(n(g),a(430)),w=n(C),x=a(915),O=n(x),k=a(138),S=n(k),I=a(428),R=n(I),j=a(919),M=n(j),A=a(975),D=n(A),P=a(449),T=n(P),F=a(1035),N=n(F),Y=f.default.Header,q=f.default.Content,G=f.default.Footer,B=f.default.Sider,L=d.default.SubMenu,V=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.departamento;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de departamento "+n.nombre,render:b.default.createElement(O.default,{departamento:n})}})}else if(2==a)e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de empresas",render:b.default.createElement(w.default,null)}});else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a){var r=e.state.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!0,props_add_docente:{id_departamento:r.id,nombre_departamento:r.nombre}})}else if(5==a){var l=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Registro de candidato a residente",render:b.default.createElement(M.default,{departamento:l})}})}else if(6==a){var o=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Apertura de periodo de residencia",render:b.default.createElement(D.default,{departamento:o})}})}else if(7==a){var i=e.state,u=i.departamento,c=i.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:b.default.createElement(T.default,{usuario:c,departamento:u})}})}else if(8==a){var d=e.state,s=d.departamento,f=d.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Dictamen",render:b.default.createElement(N.default,{usuario:f,departamento:s})}})}},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null}},e}return o(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"jefe_departamento"===t.rol?E.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Gestión de departamento "+a.data.nombre,render:b.default.createElement(O.default,{departamento:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia,r=(e.usuario,e.departamento,e.visible_add_docente),l=e.props_add_docente;return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(B,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(L,{key:"sub0",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"appstore"}),b.default.createElement("span",null,"Departamento"))},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"team"}),b.default.createElement("span",null,"Gestionar")),b.default.createElement(d.default.Item,{key:"4"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Agregar docente"),b.default.createElement(R.default,{visible:r,departamento:l}))),b.default.createElement(L,{key:"sub2",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Periodos de residencia"))},b.default.createElement(d.default.Item,{key:"5"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Agregar candidato")),b.default.createElement(d.default.Item,{key:"6"},b.default.createElement(u.default,{type:"plus"}),b.default.createElement("span",null,"Agregar periodo")),b.default.createElement(d.default.Item,{key:"7"},b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Revisión anteproyectos")),b.default.createElement(d.default.Item,{key:"8"},b.default.createElement(u.default,{type:"schedule"}),b.default.createElement("span",null,"Dictamen"))),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(d.default.Divider,null),b.default.createElement(L,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(Y,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(q,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(G,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(S.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=V},915:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(35),a(36)),d=n(c),s=(a(29),a(30)),f=n(s),m=(a(27),a(28)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=a(0),y=n(h),_=a(21),E=n(_),v=a(916),g=n(v),C=p.default.Option,w=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});E.default.get("/api/carrera/"+e+"/docentes_asignados").then(function(e){200===e.status?(console.log("alv",e.data),a.setState({carrera:y.default.createElement(g.default,{carrera:n,docentes:t.docentes,docentesAsignados:e.data})})):f.default.warning("Verificar los docentes asignados.")})},a.state={departamento:e.departamento,carrera:null,docentesAsigandos:null},a}return o(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:e.departamento,carrera:null,docentesAsigandos:null})}},{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.carrera;return y.default.createElement("div",null,y.default.createElement(u.default,null,y.default.createElement(d.default,{xs:24,lg:6},y.default.createElement("p",null,"Carrera: "),y.default.createElement(p.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},t.carreras.map(function(e,t){return y.default.createElement(C,{key:t,value:""+e.id},e.nombre)})))),a)}}]),t}(h.Component);t.default=w},916:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(71),a(72)),u=n(i),c=(a(37),a(38)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(32),a(33)),p=n(m),b=(a(29),a(30)),h=n(b),y=(a(46),a(19)),_=n(y),E=(a(26),a(41)),v=n(E),g=(a(45),a(42)),C=n(g),w=(a(39),a(40)),x=n(w),O=(a(27),a(28)),k=n(O),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),j=n(R),M=a(21),A=n(M),D=a(204),P=n(D),T=k.default.Option,F=x.default.Item,N=x.default.create()(function(e){var t=e.form,a=e.handleSubmit,n=e.docentes,r=e.checkDocenteDiferente,l=e.docentesAsignados,o=t.getFieldDecorator,i=l.find(function(e){return"presidente_academia"===e.rol})||null,u=l.find(function(e){return"jefe_proyecto"===e.rol})||null;return j.default.createElement(x.default,{layout:"horizontal",onSubmit:a},j.default.createElement(F,{hasFeedback:!0,label:"Presidente de la academia"},o("id_presidente_academia",{rules:[{required:!0,message:"Seleccione al presidente de academia"}],initialValue:i?""+n.find(function(e){return e.id===i.id_docente}).id:null})(j.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al presidente de la academia",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return j.default.createElement(T,{key:t,value:""+e.id},e.nombre)})))),j.default.createElement(F,{hasFeedback:!0,label:"Jefe de proyecto"},o("id_jefe_proyecto",{rules:[{validator:r}],initialValue:u?""+n.find(function(e){return e.id===u.id_docente}).id:null})(j.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al jefe de proyecto",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return j.default.createElement(T,{key:t,value:""+e.id},e.nombre)})))),j.default.createElement(C.default,{type:"primary",htmlType:"submit"},"Guardar"))}),Y=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));q.call(a);var n=e.docentes.map(function(e,t){return{id:e.id,key:P.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,acciones:"assign"}});return console.log("constructor",e.docentesAsignados),a.state={carrera:e.carrera,docentes:n,filterDocentes:n,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados},a}return o(t,e),I(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docentes.map(function(e,t){return{id:e.id,key:P.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,asignacion:"assign"}});console.log("update",e.docentesAsignados),this.setState({carrera:e.carrera,docentes:t,filterDocentes:t,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados})}},{key:"render",value:function(){var e=this,t=this.state,a=t.carrera,n=t.docentes,r=t.filterDocentes,l=t.docentesAsignados,o=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:j.default.createElement("div",{className:"custom-filter-dropdown"},j.default.createElement(v.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),j.default.createElement(C.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:j.default.createElement(_.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}}],i=l.find(function(e){return"presidente_academia"===e.rol})||null,c=l.find(function(e){return"jefe_proyecto"===e.rol})||null,s=function(e){return console.warn(l.find(function(t){return t.id_docente===e.id&&"docente"===t.rol})),!!l.find(function(t){return t.id_docente===e.id&&"docente"===t.rol})},m={onChange:function(e,t){console.log("selectedRowKeys: "+e,"selectedRows: ",t),A.default.post("/api/carrera/asignar_docentes",{id_carrera:a.id,array_docentes:t}).then(function(e){200===e.status?h.default.success("Docentes asignados :)!"):p.default.error({title:"Error al actualizar docentes. Revisar los siguientes campos",content:j.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error("Error en el servidor verificar con el encargado.")})},getCheckboxProps:function(e){return{disabled:(i?e.id===i.id_docente:null)||(c?e.id===c.id_docente:null),defaultChecked:s(e)}}};return j.default.createElement("div",null,j.default.createElement(d.default,{style:{marginTop:20}},j.default.createElement(f.default,{xs:24,lg:16},j.default.createElement(N,{ref:this.refForm,handleSubmit:this.handleSubmit,docentes:n,checkDocenteDiferente:this.checkDocenteDiferente,docentesAsignados:l}))),j.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},j.default.createElement(u.default,{bordered:!0,title:function(){return"Docentes que participan en la carrera"},rowSelection:m,dataSource:r,className:"full-width",columns:o,pagination:{pageSize:8},scroll:{x:800}})))}}]),t}(R.Component),q=function(){var e=this;this.refForm=function(t){e.form=t},this.checkDocenteDiferente=function(t,a,n){a===e.form.getFieldValue("id_presidente_academia")?n("El jefe de proyecto no puede ser el mismo que el presidente de academia"):n()},this.handleSubmit=function(t){t.preventDefault();var a=e.state.carrera;e.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),A.default.post("/api/carrera/asignar_encargados",{id_carrera:a.id,id_jefe_proyecto:t.id_jefe_proyecto||null,id_presidente_academia:t.id_presidente_academia}).then(function(e){200===e.status?h.default.success("Carrera actualizada!"):p.default.error({title:"Error al actualizar la carrera. Revisar los siguientes campos",content:j.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error("Error en el servidor verificar con el encargado.")}))})},this.onInputChange=function(t){e.setState({searchText:t.target.value})},this.onSearch=function(){var t=e.state,a=t.searchText,n=t.docentes,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterDocentes:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?S({},e,{nombre:j.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[j.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})}};t.default=Y},919:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(38)),u=n(i),c=(a(71),a(72)),d=n(c),s=(a(35),a(36)),f=n(s),m=(a(45),a(42)),p=n(m),b=(a(433),a(434)),h=n(b),y=(a(29),a(30)),_=n(y),E=(a(32),a(33)),v=n(E),g=(a(27),a(28)),C=n(g),w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(0),O=n(x),k=a(21),S=n(k),I=a(1),R=n(I),j=a(204),M=n(j),A=a(974),D=n(A),P=C.default.Option,T=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showListaCandidatosResidente=function(e){S.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return O.default.createElement("li",{key:t},e.nombre+" "+e.ap_paterno+" "+e.ap_materno)});v.default.info({width:600,title:"Lista de candidatos a residente del periodo.",content:O.default.createElement("div",null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,id_periodo:e})},a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});S.default.get("/api/carrera/"+n.id+"/periodos").then(function(e){200===e.status?a.setState({carreraSeleccionada:e.data,visible_add_alumno:!1}):_.default.warning("Verificar los docentes asignados.")})},a.handleChangeFechaFinEntregaAnteproyecto=function(e,t){S.default.put("/api/periodo/fecha_fin_entrega_anteproyecto",{fecha_fin_entrega_anteproyecto:e.format("YYYY-MM-DD"),id_periodo:t}).then(function(e){200===e.status?(_.default.success("Fecha de entrega de anteproyectos actualizada!"),window.location.reload()):_.default.warning("Ups, verificar conexión.")})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,id_periodo:null},a}return o(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.carreraSeleccionada,r=t.visible_add_alumno,l=t.id_periodo,o=(t.visible_lista_candidatos_residente,n?n.periodos.map(function(e,t){return{id:e.id,key:M.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,R.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,R.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"sisisi"}}):null),i=[{title:"Periodo",key:"periodo",dataIndex:"periodo"},{title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(t,a){return O.default.createElement("span",null,a.fecha_inicio_entrega_anteproyecto," - ",O.default.createElement(h.default,{onChange:function(t,n){e.handleChangeFechaFinEntregaAnteproyecto(t,a.id)},disabledDate:function(e){return e.format("YYYY-MM-DD")>(0,R.default)(a.fecha_fin,"YYYY-MM-DD").format("YYYY-MM-DD")||e.format("YYYY-MM-DD")<(0,R.default)(a.fecha_inicio_entrega_anteproyecto,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,R.default)(a.fecha_fin_entrega_anteproyecto,"YYYY-MM-DD")}))}},{className:"center-text",title:"Acciones",key:"acciones",dataIndex:"Acciones",render:function(t,a){return O.default.createElement("span",null,!0===a.acciones?O.default.createElement(p.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):O.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return O.default.createElement("span",null,O.default.createElement(p.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return O.default.createElement(u.default,{gutter:16},O.default.createElement(f.default,{xs:24,lg:4},O.default.createElement("p",null,"Seleccione la carrera: "),O.default.createElement(C.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},a.carreras.map(function(e,t){return O.default.createElement(P,{key:t,value:""+e.id},e.nombre)}))),O.default.createElement(f.default,{xs:24,lg:20},O.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:o,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1e3}})),O.default.createElement(D.default,{visible:r,carrera:n,id_periodo:l}))}}]),t}(x.Component);t.default=T},974:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(30)),u=n(i),c=(a(32),a(33)),d=n(c),s=(a(46),a(19)),f=n(s),m=(a(27),a(28)),p=n(m),b=(a(26),a(41)),h=n(b),y=(a(39),a(40)),_=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),g=n(v),C=(a(11),a(21)),w=n(C),x=_.default.Item,O=(h.default.Group,p.default.Option),k=_.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,l=e.carrera,o=r.getFieldDecorator;return g.default.createElement(d.default,{visible:t,title:"Agregar alumno a la carrera de "+(l?l.nombre:""),okText:"Guardar",onCancel:a,onOk:n},g.default.createElement(_.default,{layout:"vertical"},g.default.createElement(x,{label:"Número de control"},o("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}]})(g.default.createElement(h.default,{style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"}))),g.default.createElement(x,{label:"Nombre"},o("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}]})(g.default.createElement(h.default,{placeholder:"Ingrese el nombre(s) del alumno"}))),g.default.createElement(x,{label:"Apellido paterno"},o("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}]})(g.default.createElement(h.default,{placeholder:"Ingrese el apellido paterno del alumno"}))),g.default.createElement(x,{label:"Apellido materno"},o("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}]})(g.default.createElement(h.default,{placeholder:"Ingrese el apellido materno del alumno"}))),g.default.createElement(x,{label:"Sexo"},o("sexo",{rules:[{required:!0,message:"El alumno debe indicar su sexo."}]})(g.default.createElement(p.default,{placeholder:"Seleccione una opción"},g.default.createElement(O,{key:"H",value:"H"},"Hombre"),g.default.createElement(O,{key:"M",value:"M"},"Mujer")))),g.default.createElement(x,{label:"Correo electronico"},o("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(g.default.createElement(h.default,{prefix:g.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese el correo electronico del alumno"})))))}),S=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),w.default.post("/api/alumno",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_carrera:a.state.carrera.id,sexo:n.sexo,correo:n.correo,id_periodo:a.state.id_periodo}).then(function(t){console.log(t),200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:g.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,id_periodo:e.id_periodo},a}return o(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera;this.setState({visible:t,carrera:a,id_periodo:e.id_periodo})}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,carrera:this.state.carrera}))}}]),t}(v.Component);t.default=S},975:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(32),a(33)),u=n(i),c=(a(29),a(30)),d=n(c),s=(a(45),a(42)),f=n(s),m=(a(37),a(38)),p=n(m),b=(a(35),a(36)),h=n(b),y=(a(433),a(434)),_=n(y),E=(a(27),a(28)),v=n(E),g=(a(39),a(40)),C=n(g),w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(0),O=n(x),k=a(21),S=n(k),I=a(1),R=n(I),j=C.default.Item,M=v.default.Option,A=_.default.RangePicker,D=C.default.create()(function(e){var t=e.onCreate,a=e.form,n=e.departamento,r=e.checkPeriodoEntregaAnteproyecto,l=a.getFieldDecorator,o=2016,i={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]},u={rules:[{validator:r},{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]};return O.default.createElement("div",null,O.default.createElement(C.default,{layout:"vertical",onSubmit:t},O.default.createElement(p.default,null,O.default.createElement(h.default,{xs:24,lg:8},O.default.createElement(j,{label:"Carrera",hasFeedback:!0},l("id_carrera",{rules:[{required:!0,message:"Debe indicar la carrera"}]})(O.default.createElement(v.default,{placeholder:"Seleccione una carrera"},n.carreras.map(function(e,t){return O.default.createElement(M,{key:t,value:""+e.id},e.nombre)})))))),O.default.createElement(p.default,{gutter:16},O.default.createElement(h.default,{xs:18,lg:8},O.default.createElement(j,{label:"Periodo de residencia",hasFeedback:!0},l("periodo",{rules:[{required:!0,message:"Debe indicar el periodo de la residencia"}]})(O.default.createElement(v.default,{placeholder:"Seleccione un periodo"},O.default.createElement(M,{value:"FEBRERO-JUNIO"},"FEBRERO-JUNIO"),O.default.createElement(M,{value:"AGOSTO-DICIEMBRE"},"AGOSTO-DICIEMBRE"))))),O.default.createElement(h.default,{xs:6,lg:4},O.default.createElement(j,{label:"Ciclo",hasFeedback:!0},l("ciclo",{rules:[{required:!0,message:"Debe indicar el ciclo de la residencia"}]})(O.default.createElement(v.default,{placeholder:"Seleccione un ciclo"},Array(50).fill(1).map(function(e,t){return o++,O.default.createElement(M,{key:t,value:""+o},o)})))))),O.default.createElement(p.default,null,O.default.createElement(h.default,{xs:24,lg:8},O.default.createElement(j,{label:"Seleccione la fecha de inicio y fin del periodo",style:{width:"100%"}},l("fechas_periodo",i)(O.default.createElement(A,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,R.default)().format("YYYY-MM-DD")}}))))),O.default.createElement(p.default,null,O.default.createElement(h.default,{xs:24,lg:8},O.default.createElement(j,{label:"Seleccione la fecha de inicio y fin de la entrega de anteproyectos"},l("fechas_entrega_anteproyecto",u)(O.default.createElement(A,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,R.default)().format("YYYY-MM-DD")}}))))),O.default.createElement(f.default,{icon:"save",type:"primary",htmlType:"submit",style:{marginTop:20,marginBottom:20}},"Aperturar periodo")))}),P=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.checkPeriodoEntregaAnteproyecto=function(e,t,n){var r=a.form,l=r.getFieldValue("fechas_periodo");console.log(t),console.log(l),l?t[0].format("YYYY-MM-DD")<l[0].format("YYYY-MM-DD")?n("La fecha de inicio de entrega de anteproyecto debe ser despues de: "+l[0].format("ll")):t[1].format("YYYY-MM-DD")>l[1].format("YYYY-MM-DD")?n("La fecha de fin de entrega de anteproyecto debe ser antes que: "+l[1].format("ll")):n():n("Primero seleccione la fecha del periodo.")},a.handleCreate=function(e){e.preventDefault();var t=a.form;t.validateFields(function(e,a){if(!e){console.log("Received values of form: ",a);var n=a.id_carrera,r=a.periodo,l=a.ciclo,o=[a.fechas_periodo[0].format("YYYY-MM-DD"),a.fechas_periodo[1].format("YYYY-MM-DD")],i=[a.fechas_entrega_anteproyecto[0].format("YYYY-MM-DD"),a.fechas_entrega_anteproyecto[1].format("YYYY-MM-DD")];console.log(o),S.default.post("/api/carrera/periodo",{id_carrera:n,periodo_residencia:r,ciclo:l,fechas_periodo:o,fechas_entrega_anteproyecto:i}).then(function(e){console.log(e),200===e.status?(t.resetFields(),d.default.success("Periodo agregado satisfactoriamente!")):u.default.error({title:"Error al guardar el el periodo. Revisar los siguientes campos",content:O.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){d.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.state={departamento:e.departamento},a}return o(t,e),w(t,[{key:"render",value:function(){var e=this.state.departamento;return O.default.createElement("div",null,O.default.createElement(D,{ref:this.saveFormRef,onCreate:this.handleCreate,departamento:e,checkPeriodoEntregaAnteproyecto:this.checkPeriodoEntregaAnteproyecto}))}}]),t}(x.Component);t.default=P}},[477]);
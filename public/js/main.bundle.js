webpackJsonp([0],{100:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(18),a(22)),f=n(d),m=(a(35),a(13)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(62),a(12)),g=n(E),w=y.default.Item,O=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Cambiar contraseña",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Nueva contraseña"},o("nueva_contrasenia",{rules:[{required:!0,message:"Indique su nueva contraseña"}]})(_.default.createElement(f.default,{prefix:_.default.createElement(p.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Nueva contraseña"})))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.put("/api/usuario/cambiar_contrasenia",{nueva_contrasenia:n.nueva_contrasenia}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Contraseña actualizada satisfactoriamente"),a.setState({visible:!1,redirect:!0})):s.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,redirect:!1},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=C},1017:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(153),a(154)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=a(1),O=n(w),C=y.default.Item,x=(p.default.TextArea,f.default.RangePicker),k=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del seguimiento"}]};return _.default.createElement(s.default,{visible:t,title:"Agregar seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical",style:{width:"100%"}},_.default.createElement(C,{label:"Seleccione la fecha de inicio y fin del seguimiento",style:{width:"100%"}},o("fechas_seguimiento",l)(_.default.createElement(x,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,O.default)().format("YYYY-MM-DD")}})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.fechas_seguimiento[0].format("YYYY-MM-DD"),o=n.fechas_seguimiento[1].format("YYYY-MM-DD"),l=a.state.id_periodo;g.default.post("/api/periodo/seguimiento",{id_periodo:l,fecha_inicial:r,fecha_final:o}).then(function(t){200===t.status?(u.default.success("Seguimiento agregado satisfactoriamente!"),e.resetFields(),a.setState({visible:!1})):s.default.error({title:"Error al agregar el seguimiento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})}})},a.saveFormRef=function(e){a.form=e},a.state={id_periodo:e.id_periodo,visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_periodo;this.setState({id_periodo:a,visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=S},1018:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(28),a(29)),u=n(i),c=(a(15),a(16)),s=n(c),d=(a(37),a(36)),f=n(d),m=(a(33),a(34)),p=n(m),b=(a(31),a(32)),y=n(b),h=(a(153),a(154)),v=n(h),_=(a(24),a(25)),E=n(_),g=(a(19),a(20)),w=n(g),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),x=n(C),k=a(12),S=n(k),j=a(1),P=n(j),A=w.default.Item,I=E.default.Option,R=v.default.RangePicker,M=w.default.create()(function(e){var t=e.onCreate,a=e.form,n=e.departamento,r=e.checkPeriodoEntregaAnteproyecto,o=a.getFieldDecorator,l=2016,i={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]},u={rules:[{validator:r},{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]};return x.default.createElement("div",null,x.default.createElement(w.default,{layout:"vertical",onSubmit:t},x.default.createElement(p.default,null,x.default.createElement(y.default,{xs:24,lg:8},x.default.createElement(A,{label:"Carrera",hasFeedback:!0},o("id_carrera",{rules:[{required:!0,message:"Debe indicar la carrera"}]})(x.default.createElement(E.default,{placeholder:"Seleccione una carrera"},n.carreras.map(function(e,t){return x.default.createElement(I,{key:t,value:""+e.id},e.nombre)})))))),x.default.createElement(p.default,{gutter:16},x.default.createElement(y.default,{xs:18,lg:8},x.default.createElement(A,{label:"Periodo de residencia",hasFeedback:!0},o("periodo",{rules:[{required:!0,message:"Debe indicar el periodo de la residencia"}]})(x.default.createElement(E.default,{placeholder:"Seleccione un periodo"},x.default.createElement(I,{value:"FEBRERO-JUNIO"},"FEBRERO-JUNIO"),x.default.createElement(I,{value:"AGOSTO-DICIEMBRE"},"AGOSTO-DICIEMBRE"))))),x.default.createElement(y.default,{xs:6,lg:4},x.default.createElement(A,{label:"Ciclo",hasFeedback:!0},o("ciclo",{rules:[{required:!0,message:"Debe indicar el ciclo de la residencia"}]})(x.default.createElement(E.default,{placeholder:"Seleccione un ciclo"},Array(50).fill(1).map(function(e,t){return l++,x.default.createElement(I,{key:t,value:""+l},l)})))))),x.default.createElement(p.default,null,x.default.createElement(y.default,{xs:24,lg:8},x.default.createElement(A,{label:"Seleccione la fecha de inicio y fin del periodo",style:{width:"100%"}},o("fechas_periodo",i)(x.default.createElement(R,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,P.default)().format("YYYY-MM-DD")}}))))),x.default.createElement(p.default,null,x.default.createElement(y.default,{xs:24,lg:8},x.default.createElement(A,{label:"Seleccione la fecha de inicio y fin de la entrega de anteproyectos"},o("fechas_entrega_anteproyecto",u)(x.default.createElement(R,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,P.default)().format("YYYY-MM-DD")}}))))),x.default.createElement(f.default,{icon:"save",type:"primary",htmlType:"submit",style:{marginTop:20,marginBottom:20}},"Aperturar periodo")))}),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.checkPeriodoEntregaAnteproyecto=function(e,t,n){var r=a.form,o=r.getFieldValue("fechas_periodo");console.log(t),console.log(o),o?t[0].format("YYYY-MM-DD")<o[0].format("YYYY-MM-DD")?n("La fecha de inicio de entrega de anteproyecto debe ser despues de: "+o[0].format("ll")):t[1].format("YYYY-MM-DD")>o[1].format("YYYY-MM-DD")?n("La fecha de fin de entrega de anteproyecto debe ser antes que: "+o[1].format("ll")):n():n("Primero seleccione la fecha del periodo.")},a.handleCreate=function(e){e.preventDefault();var t=a.form;t.validateFields(function(e,a){if(!e){console.log("Received values of form: ",a);var n=a.id_carrera,r=a.periodo,o=a.ciclo,l=[a.fechas_periodo[0].format("YYYY-MM-DD"),a.fechas_periodo[1].format("YYYY-MM-DD")],i=[a.fechas_entrega_anteproyecto[0].format("YYYY-MM-DD"),a.fechas_entrega_anteproyecto[1].format("YYYY-MM-DD")];console.log(l),S.default.post("/api/carrera/periodo",{id_carrera:n,periodo_residencia:r,ciclo:o,fechas_periodo:l,fechas_entrega_anteproyecto:i}).then(function(e){console.log(e),200===e.status?(t.resetFields(),s.default.success("Periodo agregado satisfactoriamente!")):u.default.error({title:"Error al guardar el el periodo. Revisar los siguientes campos",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){s.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.state={departamento:e.departamento},a}return l(t,e),O(t,[{key:"render",value:function(){var e=this.state.departamento;return x.default.createElement("div",null,x.default.createElement(M,{ref:this.saveFormRef,onCreate:this.handleCreate,departamento:e,checkPeriodoEntregaAnteproyecto:this.checkPeriodoEntregaAnteproyecto}))}}]),t}(C.Component);t.default=T},1050:function(e,t){},1068:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(31),a(32)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(104),a(105)),f=n(d),m=(a(35),a(13)),p=n(m),b=(a(37),a(36)),y=n(b),h=(a(15),a(16)),v=n(h),_=(a(33),a(34)),E=n(_),g=(a(28),a(29)),w=n(g),O=(a(19),a(20)),C=n(O),x=(a(18),a(22)),k=n(x),S=(a(24),a(25)),j=n(S),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),R=n(I),M=a(121),T=n(M),D=a(12),F=n(D),N=a(1),Y=n(N),z=a(1073),L=n(z),B=(j.default.Option,j.default.OptGroup,k.default.TextArea,C.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){console.warn("record=> ",e);var t=e.nombre?e.nombre.match(r):null;return t?P({},e,{nombre:R.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[R.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){w.default.info({width:600,title:"Detalles del asesor externo",content:R.default.createElement(E.default,{gutter:16},R.default.createElement("p",null,"Nombre:"),R.default.createElement(k.default,{readOnly:!0,value:e.nombre}),R.default.createElement("p",{style:{marginTop:10}},"Puesto:"),R.default.createElement(k.default,{readOnly:!0,value:e.puesto}),R.default.createElement("p",{style:{marginTop:10}},"Correo:"),R.default.createElement(k.default,{readOnly:!0,value:e.usuario.correo}),R.default.createElement("p",{style:{marginTop:10}}," Empresa"),R.default.createElement(k.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){w.default.info({width:600,title:"Detalles del alumno",content:R.default.createElement(E.default,{gutter:16},R.default.createElement("p",null,"Numero de control:"),R.default.createElement(k.default,{readOnly:!0,value:e.no_control}),R.default.createElement("p",{style:{marginTop:10}},"Nombre:"),R.default.createElement(k.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){w.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:R.default.createElement("div",null,R.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}},a}return l(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){this.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}}}},{key:"showInputCorreccion",value:function(e,t){this.setState({visible_correcciones:!0,props_correcciones:{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,correo_alumno:t}})}},{key:"handleFactible",value:function(e,t){F.default.put("/api/anteproyecto/factibilidad",{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,esFactible:t?"factible":"no_factible"}).then(function(e){200===e.status?v.default.success("Anteproyecto actualizado !"):w.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,Y.default)().format("YYYY-MM-DD");console.warn(")>",a);var i=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:R.default.createElement("div",{className:"custom-filter-dropdown"},R.default.createElement(k.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),R.default.createElement(y.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:R.default.createElement(p.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(y.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(y.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(y.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),R.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},R.default.createElement(p.default,{type:"select"})))}},{className:"center-text",title:"Factible",dataIndex:"factible",key:"factible",render:function(t,a){return R.default.createElement("span",null,r<=l&&o>=l?R.default.createElement("span",null,R.default.createElement(f.default,{style:{marginRight:3,marginBottom:3},defaultChecked:!(!a.revision||"factible"!==a.revision.esFactible),checkedChildren:"Factible",unCheckedChildren:R.default.createElement(p.default,{type:"cross"}),onChange:function(t){return e.handleFactible(a.id,t)}}),R.default.createElement(y.default,{style:{marginLeft:3},icon:"exception",onClick:function(){return e.showInputCorreccion(a.id,a.detalles_alumno.usuario.correo)}},"Correción")):R.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}}];return R.default.createElement("div",null,R.default.createElement(E.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},R.default.createElement(u.default,{xs:24,lg:24},R.default.createElement(s.default,{bordered:!0,title:function(){return"Anteproyectos registrados"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:2500}}))),R.default.createElement(L.default,{visible:this.state.visible_correcciones,id_docente:this.state.props_correcciones.id_docente,id_anteproyecto:this.state.props_correcciones.id_anteproyecto,correo_alumno:this.state.props_correcciones.correo_alumno}))}}]),t}(I.Component));t.default=B},1073:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(18),a(22)),f=n(d),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=(a(11),a(12)),_=n(v),E=p.default.Item,g=f.default.TextArea,w=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return h.default.createElement(s.default,{visible:t,title:"Correcciones para anteproyecto",okText:"Guardar",onCancel:a,onOk:n},h.default.createElement(p.default,{layout:"vertical"},h.default.createElement(E,{label:"Correcciones del anteproyecto"},o("comentario",{rules:[{required:!0,message:"Debe indicar las correcciones."},{max:500,message:"Las correcciones no deben pasar 500 caracteres"}]})(h.default.createElement(g,{maxLength:"500",placeholder:"Escriba aqui las correcciones",autosize:{minRows:2,maxRows:6}})))))}),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||_.default.put("/api/anteproyecto/factibilidad/correciones",{id_docente:a.state.id_docente,id_anteproyecto:a.state.id_anteproyecto,comentario:n.comentario,correo_alumno:a.state.correo_alumno}).then(function(t){200===t.status?(u.default.success("Se han enviado las correcciones!"),e.resetFields(),a.setState({visible:!1})):s.default.error({title:"Error al enviar las correcciones. Revisar los siguientes campos",content:h.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})})},a.saveFormRef=function(e){a.form=e},a.state={id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:e.visible},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:t})}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(y.Component);t.default=O},1074:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(31),a(32)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(104),a(105)),f=n(d),m=(a(470),a(1075)),p=n(m),b=(a(35),a(13)),y=n(b),h=(a(37),a(36)),v=n(h),_=(a(15),a(16)),E=n(_),g=(a(33),a(34)),w=n(g),O=(a(18),a(22)),C=n(O),x=(a(28),a(29)),k=n(x),S=(a(24),a(25)),j=n(S),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),R=n(I),M=a(121),T=n(M),D=a(12),F=n(D),N=a(1),Y=n(N),z=j.default.Option,L=(j.default.OptGroup,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){var t=e.nombre?e.nombre.match(r):null;return t?P({},e,{nombre:R.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[R.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){k.default.info({width:600,title:"Detalles del asesor externo",content:R.default.createElement(w.default,{gutter:16},R.default.createElement("p",null,"Nombre:"),R.default.createElement(C.default,{readOnly:!0,value:e.nombre}),R.default.createElement("p",{style:{marginTop:10}},"Puesto:"),R.default.createElement(C.default,{readOnly:!0,value:e.puesto}),R.default.createElement("p",{style:{marginTop:10}},"Correo:"),R.default.createElement(C.default,{readOnly:!0,value:e.usuario.correo}),R.default.createElement("p",{style:{marginTop:10}}," Empresa"),R.default.createElement(C.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){k.default.info({width:600,title:"Detalles del alumno",content:R.default.createElement(w.default,{gutter:16},R.default.createElement("p",null,"Numero de control:"),R.default.createElement(C.default,{readOnly:!0,value:e.no_control}),R.default.createElement("p",{style:{marginTop:10}},"Nombre:"),R.default.createElement(C.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){k.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:R.default.createElement("div",null,R.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.handleDictamen=function(e,t){var a=t?"aprobado":"no aprobado",n=e.nombre,r=e.asesor_interno,o=e.detalles_asesor_externo;null===n?E.default.warn("Para completar el proceso, falta el nombre del anteproyecto."):null===o?E.default.warn("Para completar el proceso, falta el asesor externo."):null===r?E.default.warn("Para completar el proceso, falta el asesor interno."):F.default.put("/api/anteproyecto/set_dictamen",{id_anteproyecto:e.id,dictamen:a}).then(function(e){200===e.status?E.default.success("Anteproyecto actualizado!"):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error("Error en el servidor verificar con el encargado.")})},a.handleAsesorInterno=function(e,t){F.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?(E.default.success("Anteproyecto actualizado!"),a.props.updatePeriodo()):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error("Error en el servidor verificar con el encargado.")})},a.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo},a}return l(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){this.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,Y.default)().format("YYYY-MM-DD"),i=[{width:200,fixed:"left",className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:R.default.createElement("div",{className:"custom-filter-dropdown"},R.default.createElement(C.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),R.default.createElement(v.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:R.default.createElement(y.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(v.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(v.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(v.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),R.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},R.default.createElement(y.default,{type:"select"})))}},{className:"center-text",title:"% de factiblidad",dataIndex:"porcentaje_factibilidad",key:"porcentaje_factibilidad",render:function(e,t){return R.default.createElement("span",null,R.default.createElement(p.default,{content:t.revisiones,title:"Revisión de docentes"},R.default.createElement("p",{style:{color:"#4da1ff"}},t.porcentaje_factibilidad+" %")))}},{width:150,className:"center-text",title:"Dictamen",dataIndex:"dictamen",key:"dictamen",render:function(t,a){return R.default.createElement("span",null,r<=l&&o>=l?R.default.createElement(f.default,{checkedChildren:"Aprobado",defaultChecked:"aprobado"===a.dictamen,unCheckedChildren:"No aprobado",onChange:function(t){return e.handleDictamen(a,t)}}):R.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}},{width:300,className:"center-text",title:"Asesor interno",dataIndex:"asesor_interno",key:"asesor_inteno",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(j.default,{placeholder:"Seleccionde al asesor interno",style:{width:"80%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.asesor_interno?""+a.asesor_interno.id:null},n.carrera.docentes_carreras.map(function(e,t){return R.default.createElement(z,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)})))}}];return R.default.createElement(w.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},R.default.createElement(u.default,{xs:24,lg:24},R.default.createElement(s.default,{bordered:!0,title:function(){return"Registro de dictamen y selección de asesores internos"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:2500}})))}}]),t}(I.Component));t.default=L},1076:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(48),a(49)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(87),a(74)),p=n(m),b=(a(77),a(78)),y=n(b),h=(a(18),a(22)),v=n(h),_=(a(104),a(105)),E=n(_),g=(a(37),a(36)),w=n(g),O=(a(15),a(16)),C=n(O),x=(a(50),a(51)),k=n(x),S=(a(28),a(29)),j=n(S),P=(a(35),a(13)),A=n(P),I=(a(19),a(20)),R=n(I),M=(a(88),a(89)),T=n(M),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=a(0),N=n(F),Y=a(1),z=n(Y),L=a(45),B=n(L),G=a(12),q=n(G),V=a(495),U=n(V),W=T.default.TabPane,H=R.default.Item,X=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateProyecto=function(){a.props.updateProyecto()},a.showSoluciones=function(e){var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return N.default.createElement(A.default,{type:t.solucionado?"check":"close"})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],a=e.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});j.default.info({width:800,title:"Soluciones recomendadas",content:N.default.createElement("div",null,N.default.createElement(k.default,{size:"small",columns:t,dataSource:a,pagination:{pageSize:5}})),onOk:function(){}})},a.changeSeguimiento=function(e){a.setState({id_seguimiento:e,visible_observacion:!1})},a.showAddObservacionSeguimiento=function(){a.setState({visible_observacion:!0})},a.onChangeObservacion=function(e,t){q.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?C.default.success("La revisión se ha actulizado satisfactoriamente"):C.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.state={proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1},a}return l(t,e),D(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=t.usuario,r=t.id_seguimiento,o=t.visible_observacion,l=(0,z.default)().format("YYYY-MM-DD"),i=a.observaciones.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),c=a.observaciones.filter(function(e){return"cronograma"===e.tipo}).map(function(e){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),d=a.asesorias.map(function(e){return{key:B.default.v1(),id:e.id,fecha:(0,z.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:e.soluciones_recomendadas,permitir_generar_formato:e.permitir_generar_formato}}),m=a.seguimientos_proyecto.find(function(e){return e.id==r}),b=[];m&&(b=m.revisiones_seguimiento.map(function(e,t){return{key:B.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,z.default)(e.createdAt).utc().format("LL"),docente:e.docente}}));var h=[{title:"Observación",dataIndex:"observacion",key:"observacion"}],_=[{className:"center-text",title:"Fecha",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return N.default.createElement("a",{href:t.url_avance,target:"_blank"},"Archivo de avance",N.default.createElement(A.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return N.default.createElement("span",null,N.default.createElement(w.default,{style:{marginLeft:2,marginRight:2},icon:"bars",onClick:function(){return e.showSoluciones(a.soluciones_recomendadas)}},"Soluciones"))}}],g=[{className:"center-text",title:"Fecha de observación",dataIndex:"fecha",key:"fecha"},{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(t,a){return N.default.createElement("span",null,a.docente.id===n.id_docente?N.default.createElement(E.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionado,checkedChildren:"Solucionado",unCheckedChildren:N.default.createElement(A.default,{type:"cross"})}):N.default.createElement("p",null,a.solucionado?"Si":"No"))}},{className:"center-text",title:"Realizado por",dataIndex:"docente",key:"docente",render:function(e,t){return N.default.createElement("p",null,t.docente.titulo+" "+t.docente.nombre+" "+t.docente.ap_paterno+" "+t.docente.ap_materno)}},{className:"center-text",title:"Observación",dataIndex:"observacion",key:"observacion"}];return N.default.createElement(T.default,{style:{marginTop:30},key:".103.",defaultActiveKey:"1"},N.default.createElement(W,{tab:N.default.createElement("span",null,N.default.createElement(A.default,{type:"book"}),"Proyecto"),key:"proyecto"},N.default.createElement(R.default,null,N.default.createElement(H,{label:"Título: "},N.default.createElement(v.default,{value:a.anteproyecto.nombre,readOnly:!0})),N.default.createElement(H,{label:"Objetivo general: "},N.default.createElement(v.default,{value:a.anteproyecto.objetivo_general,readOnly:!0})),N.default.createElement(H,{label:"Anteproyecto: "},N.default.createElement(y.default,{listType:"picture-card",fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+a.anteproyecto.path_file_anteproyecto}]}))),N.default.createElement(s.default,{className:"border-top"},N.default.createElement(f.default,{xs:24,lg:6},N.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),N.default.createElement(H,{label:N.default.createElement("span",null,"Plan de trabajo ",N.default.createElement(p.default,{title:"Ultima fecha de actualización: "+(0,z.default)(a.updatedAt).utc().format("ll")},N.default.createElement(A.default,{type:"clock-circle-o"})))},N.default.createElement(y.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+a.filename_plan_trabajo}]}))),N.default.createElement(f.default,{xs:24,lg:18},N.default.createElement(k.default,{title:function(){return"Observaciones de plan de trabajo"},columns:h,dataSource:i,pagination:{pageSize:4}}))),N.default.createElement(s.default,{className:"border-top"},N.default.createElement(f.default,{xs:24,lg:6},N.default.createElement("h2",{style:{marginBottom:20}},"Cronograma de actividades"),N.default.createElement(H,{label:N.default.createElement("span",null,"Cronograma de actividades ",N.default.createElement(p.default,{title:"Ultima fecha de actualización: "+(0,z.default)(a.updatedAt).utc().format("ll")},N.default.createElement(A.default,{type:"clock-circle-o"})))},N.default.createElement(y.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+a.filename_cronograma}],onRemove:!1}))),N.default.createElement(f.default,{xs:24,lg:18},N.default.createElement(k.default,{title:function(){return"Observaciones del cronograma de actividades"},columns:h,dataSource:c,pagination:{pageSize:4}})))),N.default.createElement(W,{tab:N.default.createElement("span",null,N.default.createElement(A.default,{type:"solution"}),"Asesorías"),key:"asesorias"},N.default.createElement(s.default,null,N.default.createElement(f.default,{xs:24,lg:24},N.default.createElement(k.default,{title:function(){return"Asesorías"},columns:_,dataSource:d,pagination:{pageSize:5},scroll:{x:1200}})))),N.default.createElement(W,{tab:N.default.createElement("span",null,N.default.createElement(A.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},N.default.createElement(T.default,{key:"-99",tabPosition:"left",defaultActiveKey:"-1",onChange:function(t){return e.changeSeguimiento(t)}},a.seguimientos_proyecto.map(function(t,a){return N.default.createElement(W,{tab:N.default.createElement("span",null,N.default.createElement(A.default,{type:"schedule"}),"Seguimiento "+(a+1)),key:t.id},l>=t.seguimiento.fecha_inicial&&l<=t.seguimiento.fecha_final?N.default.createElement(s.default,null,N.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},t.url_seguimiento?N.default.createElement("div",null,N.default.createElement("p",null,"Link del seguimiento: "),N.default.createElement(y.default,{defaultFileList:[{uid:-2,name:"Seguimiento",status:"done",url:t.url_seguimiento}]})):N.default.createElement(u.default,{message:"El alumno no ha subido su seguimiento",type:"warning",showIcon:!0})),N.default.createElement(f.default,{xs:24,lg:24},N.default.createElement(w.default,{type:"primary",icon:"plus",onClick:function(){return e.showAddObservacionSeguimiento()}},"Agregar observación"),N.default.createElement(k.default,{title:function(){return"Observaciones del seguimiento"},columns:g,dataSource:b,pagination:{pageSize:4}})),N.default.createElement(U.default,{updateProyecto:e.updateProyecto.bind(e),updateSeguimientos:function(){return console.log("()")},usuario:n,visible:o,id_seguimiento:r})):N.default.createElement(u.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,z.default)(t.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,z.default)(t.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0}))}))))}}]),t}(F.Component);t.default=X},1101:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(50),a(51)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(48),a(49)),f=n(d),m=(a(469),a(471)),p=n(m),b=(a(31),a(32)),y=n(b),h=(a(28),a(29)),v=n(h),_=(a(15),a(16)),E=n(_),g=(a(37),a(36)),w=n(g),O=(a(24),a(25)),C=n(O),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=a(12),P=n(j),A=a(121),I=(n(A),a(1)),R=n(I),M=C.default.Option,T=C.default.OptGroup,D=w.default.Group,F=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){P.default.get("/api/periodo/"+e+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.nombre_titular+" \n "+e.asesor_externo.empresa.puesto_titular,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleAsesorInterno=function(e,t){P.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?E.default.success("Anteproyecto actualizado!"):v.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:S.default.createElement("div",null,e.data.errores),onOk:function(){}})})},a.updatePeriodo=function(){P.default.get("/api/periodo/"+a.state.periodo.id+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.nombre_titular+" \n "+e.asesor_externo.empresa.puesto_titular,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleGenerarDictamen=function(){var e=a.state.periodo;P.default.post("/api/periodo/generar_dictamen",{id_periodo:e.id}).then(function(e){200===e.status?(E.default.success("Dictamen generado satisfactoriamente!"),a.updatePeriodo()):v.default.error({title:"Error al intentar generar el dictamen",content:S.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})},a.state={usuario:e.usuario,departamento:e.departamento,periodo:null,dictamen_anteproyectos:null,docentes:null},a}return l(t,e),x(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.dictamen_anteproyectos,r=t.periodo,o=(0,R.default)().format("YYYY-MM-DD"),l=[{width:50,fixed:"left",className:"center-text",title:"NUM",dataIndex:"key",key:"key"},{width:100,fixed:"left",className:"center-text",title:"CONTROL",dataIndex:"no_control_alumno",key:"no_control_alumno"},{width:200,fixed:"left",className:"center-text",title:"NOMBRE DEL ESTUDIANTE",dataIndex:"nombre_alumno",key:"nombre_alumno"},{className:"center-text",title:"S",dataIndex:"sexo_alumno",key:"sexo_alumno"},{className:"center-text",title:"ANTEPROYECTO",dataIndex:"nombre_anteproyecto",key:"nombre_anteproyecto"},{className:"center-text",title:"NOMBRE Y CARGO DEL TITULAR DE LA EMPRESA",dataIndex:"nombre_titular_empresa",key:"nombre_titular_empresa"},{title:"ASESORES",children:[{width:300,className:"center-text",title:"INTERNO",dataIndex:"asesor_interno",key:"asesor_interno",render:function(t,a){return S.default.createElement(C.default,{placeholder:"Seleccione al asesor interno",style:{width:"100%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.id_asesor_interno?""+a.id_asesor_interno:null},null!==r?r.carrera.docentes_carreras.map(function(e,t){return S.default.createElement(M,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)}):null)}},{className:"center-text",title:"EXTERNO",dataIndex:"asesor_externo",key:"asesor_externo"}]},{className:"center-text",title:"DICTAMEN",dataIndex:"dictamen",key:"dictamen"},{className:"center-text",title:"FECHA DE DICTAMEN",dataIndex:"fecha_dictamen",key:"fecha_dictamen"}],i=null,c=null;return null!=r&&(i=S.default.createElement(y.default,{xs:24,lg:24},S.default.createElement("h2",{style:{textAlign:"center"}},"DEPARTAMENTO DE ",r.carrera.departamento.nombre.toUpperCase()),S.default.createElement("h3",{style:{textAlign:"center"}},"CARRERA: ",r.carrera.nombre.toUpperCase())),c=o>=r.fecha_inicio&&o<r.fecha_fin?null===r.filename_dictamen?S.default.createElement(p.default,{title:S.default.createElement("div",null,S.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados, "),S.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},S.default.createElement(w.default,{type:"primary",icon:"file-pdf"}," Generar dictamen ")):S.default.createElement(D,null,S.default.createElement(p.default,{title:S.default.createElement("div",null,S.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados"),S.default.createElement("p",null," y se sobrescribira el nuevo dictamen"),S.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},S.default.createElement(w.default,{icon:"file-pdf"}," Generar dictamen ")),S.default.createElement(w.default,{type:"primary",icon:"eye-o"}," ",S.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver"))):null===r.filename_dictamen?S.default.createElement(f.default,{message:"No se ha generado el dictamen y solo se puede generar en las fechas "+r.fecha_inicio+" al "+r.fecha_fin,type:"info",showIcon:!0}):S.default.createElement(w.default,{type:"primary",icon:"eye-o"}," ",S.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/pdf/"+r.filename_dictamen},"Ver dictamen"))),S.default.createElement("div",null,S.default.createElement(s.default,{type:"flex"},S.default.createElement(y.default,{xs:24,lg:6},S.default.createElement("p",null,"Seleccione el periodo"),S.default.createElement(C.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},a.carreras.map(function(e,t){return S.default.createElement(T,{key:t,label:e.nombre},e.periodos.map(function(e,a){return S.default.createElement(M,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),S.default.createElement(s.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},i),S.default.createElement(s.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},S.default.createElement(y.default,{xs:24,lg:24,style:{marginBottom:20}},c),S.default.createElement(y.default,{xs:24,lg:24},S.default.createElement(u.default,{bordered:!0,title:function(){return"Dictamen"},dataSource:n,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:1700}}))))}}]),t}(k.Component);t.default=F},1102:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(31),a(32)),s=n(c),d=(a(87),a(74)),f=n(d),m=(a(77),a(78)),p=n(m),b=(a(18),a(22)),y=n(b),h=(a(37),a(36)),v=n(h),_=(a(50),a(51)),E=n(_),g=(a(28),a(29)),w=n(g),O=(a(104),a(105)),C=n(O),x=(a(35),a(13)),k=n(x),S=(a(48),a(49)),j=n(S),P=(a(15),a(16)),A=n(P),I=(a(24),a(25)),R=n(I),M=(a(88),a(89)),T=n(M),D=(a(19),a(20)),F=n(D),N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Y=a(0),z=n(Y),L=a(12),B=n(L),G=a(1),q=n(G),V=a(45),U=n(V),W=a(1103),H=n(W),X=a(1104),K=n(X),J=a(1105),Z=n(J),Q=a(1107),$=n(Q),ee=F.default.Item,te=T.default.TabPane,ae=R.default.Option,ne=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateObservaciones=function(){var e=a.state.proyecto;B.default.get("/api/proyecto/"+e.id+"/observaciones").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1,observaciones:e.data})})},a.showAgregarObservacionPlanTrabajo=function(){a.state.proyecto;a.setState({tipo_observacion:"plan_de_trabajo",visibleAddObservacion:!0,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1})},a.showAgregarObservacionCronograma=function(){a.state.proyecto;a.setState({tipo_observacion:"cronograma",visibleAddObservacion:!0,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1})},a.onChangeObservacion=function(e,t){B.default.put("/api/proyecto/observacion",{id_observacion:e,solucionada:t}).then(function(e){200===e.status?A.default.success("Los cambios se han guardado."):A.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.onChangeTabSeguimiento=function(e){var t=a.state,n=t.seguimientos,r=t.usuario,o=(0,q.default)().format("YYYY-MM-DD");if("seguimiento_final"===e);else{var l=n.find(function(t){return t.id==e});o>=l.seguimiento.fecha_inicial&&o<=l.seguimiento.fecha_final?a.setState({renderSeguimiento:z.default.createElement(Z.default,{updateProyecto:a.updateProyecto.bind(a),updateSeguimientos:a.updateSeguimientos.bind(a),usuario:r,seguimiento:l}),visibleEvaluacionAsesorInterno:!1}):a.setState({renderSeguimiento:z.default.createElement(j.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,q.default)(l.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,q.default)(l.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0}),visibleEvaluacionAsesorInterno:!1})}},a.onChangeTab=function(e){var t=a.state.proyecto;"asesorias"===e?B.default.get("/api/proyecto/"+t.id+"/asesorias").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1,asesorias:e.data})}):"seguimientos"===e&&B.default.get("/api/proyecto/"+t.id+"/seguimientos").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1,seguimientos:e.data})})},a.updateSeguimientos=function(){var e=a.state.proyecto;B.default.get("/api/proyecto/"+e.id+"/seguimientos").then(function(e){200===e.status&&(console.warn("a>",e.data),a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,seguimientos:e.data,visibleEvaluacionAsesorInterno:!1}))})},a.showAddSolucion=function(e){a.setState({visibleEvaluacionAsesorInterno:!1,visibleAddObservacion:!1,visibleAddSolucion:!0,id_asesoria:e})},a.checkSolucion=function(e,t){B.default.put("/api/proyecto/asesoria/solucion_recomendada",{id_solucion:t,solucionado:e}).then(function(e){200===e.status?A.default.success("Se ha actualizado la solución."):A.default.error("Surgio un error al actualizar la solución. favor de reportarlo con el administrador.")})},a.checkPermitirGenerarFormato=function(e,t){B.default.put("/api/proyecto/asesoria_autorizar_formato",{permitir_generar_formato:e,id_asesoria:t}).then(function(e){200===e.status?A.default.success("Se ha realizado el cambio de autorizar el formato de asesoría"):A.default.error("Surgio un error al actualizar la autorización de la asesoría, favor de reportarlo con el administrador.")})},a.showSoluciones=function(e){B.default.get("/api/proyecto/asesoria/"+e+"/soluciones_recomendadas").then(function(e){if(200===e.status){console.warn("soluciones",e.data);var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return z.default.createElement(C.default,{defaultChecked:t.solucionado,checkedChildren:"Solucionado",onChange:function(e){return a.checkSolucion(e,t.id)},unCheckedChildren:z.default.createElement(k.default,{type:"cross"})})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],n=e.data.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});w.default.info({width:800,title:"Soluciones recomendadas",content:z.default.createElement("div",null,z.default.createElement(E.default,{size:"small",columns:t,dataSource:n,pagination:{pageSize:5}})),onOk:function(){}})}})},a.updateTipoAsesoria=function(e,t){B.default.put("/api/asesoria/tipo",{id_asesoria:e,tipo:t}).then(function(e){200===e.status?A.default.success("El tipo de asesoría se ha actualizado satisfactoriamente!"):A.default.error("Ops, hemos tenido un problema, favor de reportar al administrador.")})},a.showEvaluacionAsesorInterno=function(e){"2009-2010"===e.plan_estudios?B.default.get("/api/proyecto/evaluacionAnexoIII/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorInterno:!0,visibleAddObservacion:!1,visibleAddSolucion:!1}):A.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")}):"2015-2016"===e.plan_estudios&&B.default.get("/api/proyecto/evaluacionAnexoXXX/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorInterno:!0,visibleAddObservacion:!1,visibleAddSolucion:!1}):A.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.autorizarCartaDeLiberacionAsesorInterno=function(e,t){B.default.put("/api/proyecto/autorizar_carta_liberacion/asesor_interno",{id_proyecto:t,autorizar:e}).then(function(e){200===e.status?A.default.success("Se ha actualizado la autorización de la carta de liberación."):A.default.warn("Error al autorizar la carta de liberación consultar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.state={usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],seguimientos:[],visibleAddSolucion:!1,id_asesoria:null,renderSeguimiento:null,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[]},a}return l(t,e),N(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],visibleAddSolucion:!1,id_asesoria:null,seguimientos:[],renderSeguimiento:null,visibleEvaluacionAsesorInterno:!1})}},{key:"componentWillMount",value:function(){this.updateObservaciones()}},{key:"render",value:function(){var e=this,t=this.state,a=t.criterios_evaluacion,n=t.visibleEvaluacionAsesorInterno,r=t.proyecto,o=t.visibleAddObservacion,l=t.tipo_observacion,i=t.usuario,c=t.observaciones,d=t.asesorias,m=t.id_asesoria,b=t.visibleAddSolucion,h=t.seguimientos,_=t.renderSeguimiento,g=c.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e){return{key:U.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),w=c.filter(function(e){return"cronograma"===e.tipo}).map(function(e){return{key:U.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),O=[{title:"Solucionada",dataIndex:"solucionada",key:"solucionada",render:function(t,a){return z.default.createElement(C.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionada,checkedChildren:"Solucionada",unCheckedChildren:z.default.createElement(k.default,{type:"cross"})})}},{title:"Observación",dataIndex:"observacion",key:"observacion"}],x=[{className:"center-text",title:"Fecha",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return z.default.createElement("a",{href:t.url_avance,target:"_blank"},"Archivo de avance",z.default.createElement(k.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return z.default.createElement("span",null,z.default.createElement(v.default,{style:{marginLeft:2,marginRight:2},icon:"bars",onClick:function(){return e.showSoluciones(a.id)}},"Soluciones"),z.default.createElement(v.default,{style:{marginLeft:2,marginRight:2},icon:"plus",onClick:function(){return e.showAddSolucion(a.id)}},"Agregar solución"))}},{className:"center-text",title:"Tipo de asesoría",dataIndex:"tipo",key:"tipo",render:function(t,a){return z.default.createElement(R.default,{defaultValue:a.tipo,onChange:function(t){return e.updateTipoAsesoria(a.id,t)},style:{width:"100%"}},z.default.createElement(ae,{key:U.default.v4(),value:"virtual"},"Virtual"),z.default.createElement(ae,{key:U.default.v4(),value:"presencial"},"Presencial"))}},{className:"center-text",title:"Generar formato",dataIndex:"permitir_generar_formato",key:"permitir_generar_formato",render:function(t,a){return z.default.createElement(C.default,{defaultChecked:a.permitir_generar_formato,checkedChildren:"Autorizado",onChange:function(t){return e.checkPermitirGenerarFormato(t,a.id)},unCheckedChildren:"No autorizado"})}}],S=d.map(function(e){return{key:U.default.v1(),id:e.id,fecha:(0,q.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:"on",permitir_generar_formato:e.permitir_generar_formato,tipo:e.tipo}});return z.default.createElement("div",null,z.default.createElement(T.default,{animated:!0,key:".103.",defaultActiveKey:"1",onChange:function(t){return e.onChangeTab(t)}},z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"book"}),"Proyecto"),key:"proyecto"},z.default.createElement(F.default,null,z.default.createElement(ee,{label:"Título: "},z.default.createElement(y.default,{value:r.anteproyecto.nombre,readOnly:!0})),z.default.createElement(ee,{label:"Objetivo general: "},z.default.createElement(y.default,{value:r.anteproyecto.objetivo_general,readOnly:!0})),z.default.createElement(ee,{label:"Anteproyecto: "},z.default.createElement(p.default,{listType:"picture-card",fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+r.anteproyecto.path_file_anteproyecto}]}))),z.default.createElement(u.default,{className:"border-top"},z.default.createElement(s.default,{xs:24,lg:6},z.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),z.default.createElement(ee,{label:z.default.createElement("span",null,"Plan de trabajo ",z.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,q.default)(r.updatedAt).utc().format("ll")},z.default.createElement(k.default,{type:"clock-circle-o"})))},z.default.createElement(p.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+r.filename_plan_trabajo}]}))),z.default.createElement(s.default,{xs:24,lg:18},z.default.createElement(v.default,{style:{marginBottom:10,marginTop:45},icon:"plus",onClick:this.showAgregarObservacionPlanTrabajo},"Agregar observación"),z.default.createElement(E.default,{title:function(){return"Observaciones de plan de trabajo"},columns:O,dataSource:g,pagination:{pageSize:4}}))),z.default.createElement(u.default,{className:"border-top"},z.default.createElement(s.default,{xs:24,lg:6},z.default.createElement("h2",{style:{marginBottom:20}},"Cronograma de actividades"),z.default.createElement(ee,{label:z.default.createElement("span",null,"Cronograma de actividades ",z.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,q.default)(r.updatedAt).utc().format("ll")},z.default.createElement(k.default,{type:"clock-circle-o"})))},z.default.createElement(p.default,{className:"file-preview",style:{width:600},listType:"picture-card",fileList:[{uid:-1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+r.filename_cronograma}],onRemove:!1}))),z.default.createElement(s.default,{xs:24,lg:18},z.default.createElement(v.default,{style:{marginBottom:10,marginTop:45},icon:"plus",onClick:this.showAgregarObservacionCronograma},"Agregar observación"),z.default.createElement(E.default,{title:function(){return"Observaciones del cronograma de actividades"},columns:O,dataSource:w,pagination:{pageSize:4}})))),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"solution"}),"Asesorías"),key:"asesorias"},z.default.createElement(u.default,null,z.default.createElement(s.default,{xs:24,lg:24},z.default.createElement(E.default,{title:function(){return"Asesorías"},columns:x,dataSource:S,pagination:{pageSize:5},scroll:{x:1200}})))),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},z.default.createElement(T.default,{animated:!0,key:"-9kbasñdjboubj·#das9",tabPosition:"left",defaultActiveKey:"0",onChange:function(t){return e.onChangeTabSeguimiento(t)}},h.map(function(e,t){return z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e.id},_)}),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"schedule"}),"Seguimiento final"),key:"seguimiento_final"},z.default.createElement(u.default,{gutter:20},z.default.createElement(s.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},r.url_informe_tecnico?z.default.createElement("div",null,z.default.createElement("p",null,"Link del informe técnico: "),z.default.createElement(p.default,{defaultFileList:[{uid:-2,name:"informe_tecnico",status:"done",url:r.url_informe_tecnico}]})):z.default.createElement(j.default,{message:"El alumno no ha subido su informe técnico",type:"warning",showIcon:!0})),z.default.createElement(s.default,{xs:24,lg:24},r.url_informe_tecnico?z.default.createElement("div",null,z.default.createElement(v.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorInterno(r.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),z.default.createElement("h4",{style:{marginBottom:10}},"Autorizar carta de liberación"),z.default.createElement(f.default,{title:null===r.id_evaluacion_asesor_interno?"Antes de autorizar la carta de liberación debe realizar la evaluación.":""},z.default.createElement(C.default,{disabled:null===r.id_evaluacion_asesor_interno,defaultChecked:r.autorizar_carta_liberacion_asesor_interno,checkedChildren:"Autorizado",onChange:function(t){return e.autorizarCartaDeLiberacionAsesorInterno(t,r.id)},unCheckedChildren:z.default.createElement(k.default,{type:"cross"})}))):z.default.createElement(j.default,{message:"El alumno debe subir su informe técnico para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))))))),z.default.createElement(H.default,{updateObservaciones:this.updateObservaciones.bind(this),id_proyecto:r.id,tipo:l,usuario:i,visible:o}),z.default.createElement(K.default,{id_asesoria:m,visible:b}),z.default.createElement($.default,{updateProyecto:this.updateProyecto.bind(this),proyecto:r,visible:n,criterios_evaluacion:a}))}}]),t}(Y.Component);t.default=ne},1103:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option,y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.tipo,l=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Agregar observación al "+o,okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Descripción de la observación"},l("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/proyecto/observacion",{observacion:n.observacion,tipo:a.state.tipo,id_proyecto:a.state.id_proyecto,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),a.setState({visible:!1}),e.resetFields(),a.props.updateObservaciones()):s.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,tipo:e.tipo,id_proyecto:e.id_proyecto,usuario:e.usuario},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.tipo,n=e.id_proyecto,r=e.usuario;this.setState({visible:t,tipo:a,id_proyecto:n,usuario:r})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,tipo:this.state.tipo}))}}]),t}(v.Component);t.default=C},1104:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option,y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Agregar solución recomendada",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Solución"},o("solucion",{rules:[{required:!0,message:"La solucion debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la solución..",rows:4})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/proyecto/asesoria/solucion_recomendada",{solucion:n.solucion,id_asesoria:a.state.id_asesoria}).then(function(t){200===t.status?(u.default.success("Solución recomendada agregada correctamente"),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al agregar la solución. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_asesoria:e.id_asesoria},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_asesoria;this.setState({visible:t,id_asesoria:a})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=C},1105:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(37),a(36)),f=n(d),m=(a(31),a(32)),p=n(m),b=(a(48),a(49)),y=n(b),h=(a(77),a(78)),v=n(h),_=(a(104),a(105)),E=n(_),g=(a(35),a(13)),w=n(g),O=(a(15),a(16)),C=n(O),x=(a(19),a(20)),k=n(x),S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),P=n(j),A=a(45),I=n(A),R=a(1),M=n(R),T=a(12),D=n(T),F=a(495),N=n(F),Y=a(1106),z=n(Y),L=(k.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateSeguimientos=function(){a.props.updateSeguimientos()},a.onChangeObservacion=function(e,t){D.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?C.default.success("La revisión se ha actulizado satisfactoriamente"):C.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.showEvaluacionAsesorInterno=function(e){D.default.get("/api/proyecto/evaluacionAnexoXXIX/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visible_observacion:!1,visibleEvaluacionAsesorInterno:!0}):C.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.state={seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[]},a}return l(t,e),S(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[]})}},{key:"showAddObservacionSeguimiento",value:function(){this.setState({visible_observacion:!0,visibleEvaluacionAsesorInterno:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimiento,n=t.usuario,r=t.visible_observacion,o=t.visibleEvaluacionAsesorInterno,l=t.criterios_evaluacion,i=a.revisiones_seguimiento.map(function(e,t){return{key:I.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,M.default)(e.createdAt).utc().format("LL"),docente:e.docente}}),c=[{className:"center-text",title:"Fecha de observación",dataIndex:"fecha",key:"fecha"},{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(t,a){return P.default.createElement("span",null,a.docente.id==n.id_docente?P.default.createElement(E.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionado,checkedChildren:"Solucionado",unCheckedChildren:P.default.createElement(w.default,{type:"cross"})}):P.default.createElement("p",null,a.solucionado?"Si":"No"))}},{className:"center-text",title:"Realizada por",dataIndex:"docente",key:"docente",render:function(e,t){return P.default.createElement("p",null,t.docente.titulo+" "+t.docente.nombre+" "+t.docente.ap_paterno+" "+t.docente.ap_materno)}},{className:"center-text",title:"Observación",dataIndex:"observacion",key:"observacion"}];return P.default.createElement(u.default,null,P.default.createElement(p.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},a.url_seguimiento?P.default.createElement("div",null,P.default.createElement("p",null,"Link del seguimiento: "),P.default.createElement(v.default,{defaultFileList:[{uid:-2,name:"Seguimiento",status:"done",url:a.url_seguimiento}]})):P.default.createElement(y.default,{message:"El alumno no ha subido su seguimiento",type:"warning",showIcon:!0})),"2015-2016"===a.proyecto.anteproyecto.alumno.plan_estudios&&P.default.createElement("div",null,P.default.createElement(p.default,{className:"border-top",xs:24,lg:24},P.default.createElement("h3",null,"Evaluación del seguimiento de residencia"),a.url_seguimiento?P.default.createElement("div",null,P.default.createElement(f.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorInterno(a.proyecto.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),P.default.createElement(z.default,{seguimiento:a,visible:o,criterios_evaluacion:l})):P.default.createElement(y.default,{message:"El alumno debe subir el avance de su seguimiento para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))),P.default.createElement(p.default,{className:"border-top",xs:24,lg:24},P.default.createElement(f.default,{type:"primary",icon:"plus",onClick:function(){return e.showAddObservacionSeguimiento()}},"Agregar observación"),P.default.createElement(s.default,{title:function(){return"Observaciones del seguimiento"},columns:c,dataSource:i,pagination:{pageSize:4}})),P.default.createElement(N.default,{updateProyecto:this.updateProyecto.bind(this),updateSeguimientos:this.updateSeguimientos.bind(this),usuario:n,visible:r,id_seguimiento:a.id}))}}]),t}(j.Component));t.default=L},1106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option),C=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.seguimiento,i=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Evaluación de seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},_.default.createElement(y.default,{layout:"vertical"},null!==o?o.map(function(e,t){return _.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(_.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return _.default.createElement(O,{key:t,value:""+t},t)}))))}):null,_.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.observaciones:null})(_.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),g.default.put("/api/proyecto/evaluacion_seguimiento/asesor_interno",{id_seguimiento:a.state.seguimiento.id,observaciones:t.observaciones,criterios_evaluacion:t,criterios:a.state.criterios}).then(function(e){200===e.status?(u.default.success("Evaluación del seguimiento guardada!"),a.setState({visible:!1})):s.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:_.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,seguimiento:e.seguimiento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.seguimiento;this.setState({visible:t,criterios:a,seguimiento:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,seguimiento:this.state.seguimiento}))}}]),t}(v.Component);t.default=x},1107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option),C=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.proyecto,i=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Evaluación de residencia profesional",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},_.default.createElement(y.default,{layout:"vertical"},null!==o?o.map(function(e,t){return _.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(_.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return _.default.createElement(O,{key:t,value:""+t},t)}))))}):null,_.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.observaciones:null})(_.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),g.default.put("/api/proyecto/evaluacion/asesor_interno",{id_proyecto:a.state.proyecto.id,observaciones:n.observaciones,criterios_evaluacion:n,criterios:a.state.criterios}).then(function(t){200===t.status?(u.default.success("Evaluación guardada!"),a.props.updateProyecto(),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,proyecto:e.proyecto},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.proyecto;this.setState({visible:t,criterios:a,proyecto:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,proyecto:this.state.proyecto}))}}]),t}(v.Component);t.default=x},1108:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(13)),u=n(i),c=(a(98),a(86)),s=n(c),d=(a(65),a(66)),f=n(d),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),y=(a(11),a(2)),h=(n(y),a(62)),v=a(12),_=n(v),E=a(99),g=a(100),w=n(g),O=a(497),C=n(O),x=f.default.Header,k=f.default.Content,S=f.default.Footer,j=f.default.Sider,P=s.default.SubMenu,A=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(C.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,anteproyecto:null},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,E.getIsAuth)().then(function(t){"candidato_residente"===t.rol?_.default.get("/api/alumno/"+t.id_alumno+"/anteproyecto").then(function(a){200===a.status?e.setState({anteproyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Registrar anteproyecto",render:b.default.createElement(C.default,{anteproyecto:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(j,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(s.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(s.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Registrar anteproyecto")),b.default.createElement(P,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(s.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(s.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(x,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(k,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(S,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(w.default,{visible:n})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=A},1127:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(13)),u=n(i),c=(a(48),a(49)),s=n(c),d=(a(98),a(86)),f=n(d),m=(a(65),a(66)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=(a(11),a(2)),_=(n(v),a(62)),E=a(12),g=n(E),w=a(99),O=a(100),C=n(O),x=a(474),k=n(x),S=a(1128),j=n(S),P=a(496),A=n(P),I=a(490),R=n(I),M=p.default.Header,T=p.default.Content,D=p.default.Footer,F=p.default.Sider,N=f.default.SubMenu,Y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state,r=n.departamento,o=n.usuario;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:h.default.createElement(k.default,{usuario:o,departamento:r})}})}else if(2==a){var l=e.state,i=l.departamento,u=l.usuario,c=u.docente_carrera.find(function(e){return"presidente_academia"===e.rol});c?e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Registro de candidato a residente",render:h.default.createElement(j.default,{departamento:i,presidente_academia:c})}}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Permiso denegado",render:h.default.createElement(s.default,{message:"Permiso denegado, solo el presidente de academia o jefe de departamento puede realizar esta acción.",type:"warning",showIcon:!0})}})}else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a)g.default.get("/api/proyectos/asesor_interno/"+e.state.usuario.id_docente).then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Proyectos de residencia asignados",render:h.default.createElement(A.default,{proyectos:t.data,usuario:e.state.usuario})}})});else if(5==a){var d=e.state,f=d.departamento,m=d.usuario,p=m.docente_carrera.find(function(e){return"presidente_academia"===e.rol||"jefe_proyecto"===e.rol});if(p){var b=f.carreras.filter(function(e){return e.id===p.id_carrera});e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de seguimientos",render:h.default.createElement(R.default,{carreras:b,usuario:p})}})}else e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Permiso denegado",render:h.default.createElement(s.default,{message:"Permiso denegado, solo el presidente de academia, jefe de departamento, jefe de proyecto ó el asesor interno del proyecto puede realizar esta acción.",type:"warning",showIcon:!0})}})}},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"docente"===t.rol||"subdirector_academico"===t.rol?g.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?(console.warn("departamento",a.data),e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Revisión de anteproyectos ",render:h.default.createElement(k.default,{usuario:t,departamento:a.data})}})):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia;e.usuario,e.departamento;return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement(F,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("div",{className:"logo",style:{textAlign:"center"}},h.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("span",null,"Revisión anteproyectos")),h.default.createElement(f.default.Item,{key:"2"},h.default.createElement(u.default,{type:"usergroup-add"}),h.default.createElement("span",null,"Agregar candidato a residente")),h.default.createElement(f.default.Item,{key:"4"},h.default.createElement(u.default,{type:"book"}),h.default.createElement("span",null,"Proyectos de residencia")),h.default.createElement(f.default.Item,{key:"5"},h.default.createElement(u.default,{type:"calendar"}),h.default.createElement("span",null,"Revisión de seguimientos")),h.default.createElement(f.default.Divider,null),h.default.createElement(N,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,{key:"3"},"Cambiar contraseña"),h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"}," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(M,{style:{background:"#fff",padding:0}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),h.default.createElement(T,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),h.default.createElement(D,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),h.default.createElement(C.default,{visible:n})):h.default.createElement(_.Redirect,{to:"/usuario/auth"})}}]),t}(y.Component);t.default=Y},1128:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(37),a(36)),p=n(m),b=(a(15),a(16)),y=n(b),h=(a(28),a(29)),v=n(h),_=(a(119),a(120)),E=n(_),g=(a(35),a(13)),w=n(g),O=(a(24),a(25)),C=n(O),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=a(12),P=n(j),A=a(1),I=n(A),R=a(45),M=n(R),T=a(472),D=n(T),F=(C.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showListaCandidatosResidente=function(e){P.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return S.default.createElement(E.default.Item,{key:t,color:"green",dot:S.default.createElement(w.default,{type:"check-circle-o",style:{fontSize:"16px"}})},e.nombre+" "+e.ap_paterno+" "+e.ap_materno)});v.default.info({width:600,title:"Lista de candidatos a residente del periodo.",content:S.default.createElement(E.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,id_periodo:e})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,id_periodo:null,presidente_academia:e.presidente_academia,alumnos_rechazados_por_carrera:[]},a}return l(t,e),x(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.departamento,n=t.presidente_academia;console.warn(n);var r=a.carreras.find(function(e){return e.id===n.id_carrera});r&&P.default.get("/api/carrera/"+r.id+"/periodos").then(function(t){200===t.status?P.default.get("/api/alumnos/"+r.id+"/rechazados").then(function(a){200===a.status&&e.setState({alumnos_rechazados_por_carrera:a.data._alumnos,carreraSeleccionada:t.data,visible_add_alumno:!1})}):y.default.warning("Verificar conexión.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.departamento,t.carreraSeleccionada),n=t.visible_add_alumno,r=t.id_periodo,o=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),l=a?a.periodos.map(function(e,t){return{id:e.id,key:M.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,I.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,I.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"sisisi"}}):null,i=[{title:"Periodo",key:"periodo",dataIndex:"periodo"},{title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(e,t){return S.default.createElement("span",null,t.fecha_inicio_entrega_anteproyecto+"- "+t.fecha_fin_entrega_anteproyecto)}},{className:"center-text",title:"Acciones",key:"acciones",dataIndex:"Acciones",render:function(t,a){return S.default.createElement("span",null,!0===a.acciones?S.default.createElement(p.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):S.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return S.default.createElement("span",null,S.default.createElement(p.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return S.default.createElement(u.default,null,S.default.createElement(f.default,{xs:24,lg:24,style:{marginBottom:20}},S.default.createElement("h2",null,"Carrera: ",a?a.nombre:"")),S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(s.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:l,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1e3}})),S.default.createElement(D.default,{visible:n,carrera:a,id_periodo:r,alumnos_rechazados_por_carrera:o}))}}]),t}(k.Component));t.default=F},1129:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(13)),u=n(i),c=(a(98),a(86)),s=n(c),d=(a(65),a(66)),f=n(d),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),y=(a(11),a(62)),h=a(12),v=n(h),_=a(99),E=a(100),g=n(E),w=a(497),O=(n(w),a(1130)),C=n(O),x=f.default.Header,k=f.default.Content,S=f.default.Footer,j=f.default.Sider,P=s.default.SubMenu,A=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,_.getIsAuth)().then(function(t){"asesor_externo"===t.rol?v.default.get("/api/proyectos/asesor_externo/"+t.id_asesor_externo).then(function(a){200===a.status&&e.setState({isAuth:t.isAuth,usuario:t,visibleCambiarContrasenia:!1,componentRender:{title:"Proyectos de residencia",render:b.default.createElement(C.default,{proyectos:a.data,usuario:e.state.usuario})}})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(j,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(s.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(s.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Menu1")),b.default.createElement(P,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(s.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(s.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(x,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(k,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(S,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(g.default,{visible:n})):b.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=A},1130:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(148),a(150)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(24),a(25)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=a(12),_=n(v),E=a(45),g=n(E),w=a(1131),O=n(w),C=p.default.Option,x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeResidente=function(e){a.setState({spin:!0}),_.default.get("/api/alumno/proyecto_para_asesor_externo/"+e).then(function(t){200===t.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:g.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:t.data,usuario:a.state.usuario}),id_proyecto:e,spin:!1})})},a.updateProyecto=function(){a.setState({spin:!0}),_.default.get("/api/alumno/proyecto_para_asesor_externo/"+a.state.id_proyecto).then(function(e){200===e.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:g.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:e.data,usuario:a.state.usuario}),spin:!1})})},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null,id_proyecto:null,spin:!1},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null,id_proyecto:null,spin:!1})}},{key:"render",value:function(){var e=this.state,t=e.proyectos,a=e.renderProyecto,n=e.spin;return h.default.createElement(u.default,null,h.default.createElement(f.default,{xs:24,lg:24},h.default.createElement(p.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400}},t.map(function(e,t){return h.default.createElement(C,{key:g.default.v4(),value:""+e.id},e.anteproyecto.alumno.no_control+" - "+e.anteproyecto.alumno.nombre+" "+e.anteproyecto.alumno.ap_paterno+" "+e.anteproyecto.alumno.ap_materno)}))),h.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:25}},h.default.createElement("div",{style:{textAlign:"center"}},!0===n?h.default.createElement(s.default,{size:"large",tip:"Cargando..."}):null),a))}}]),t}(y.Component);t.default=x},1131:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(87),a(74)),u=n(i),c=(a(104),a(105)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(37),a(36)),p=n(m),b=(a(31),a(32)),y=n(b),h=(a(48),a(49)),v=n(h),_=(a(77),a(78)),E=n(_),g=(a(33),a(34)),w=n(g),O=(a(18),a(22)),C=n(O),x=(a(15),a(16)),k=n(x),S=(a(88),a(89)),j=n(S),P=(a(19),a(20)),A=n(P),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),M=n(R),T=a(12),D=n(T),F=a(1),N=(n(F),a(45)),Y=n(N),z=a(1132),L=n(z),B=a(1133),G=n(B),q=(A.default.Item,j.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showEvaluacionAsesorExterno=function(e){"2009-2010"===e.plan_estudios?D.default.get("/api/proyecto/evaluacionAnexoIII/criterios/asesor_externo").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorExterno:!0}):k.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")}):"2015-2016"===e.plan_estudios&&D.default.get("/api/proyecto/evaluacionAnexoXXX/criterios/asesor_externo").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorExterno:!0}):k.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.autorizarCartaDeLiberacionAsesorExterno=function(e,t){D.default.put("/api/proyecto/autorizar_carta_liberacion/asesor_externo",{id_proyecto:t,autorizar:e}).then(function(e){200===e.status?k.default.success("Se ha actualizado la autorización de la carta de liberación."):k.default.warn("Error al autorizar la carta de liberación consultar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.state={usuario:e.usuario,proyecto:e.proyecto,renderSeguimiento:null,criterios_evaluacion:null,visibleEvaluacionAsesorExterno:!1},a}return l(t,e),I(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({usuario:e.usuario,proyecto:e.proyecto,renderSeguimiento:null,criterios_evaluacion:null,visibleEvaluacionAsesorExterno:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.criterios_evaluacion,n=t.visibleEvaluacionAsesorExterno,r=t.proyecto;t.usuario,t.renderSeguimiento;return M.default.createElement("div",null,M.default.createElement("h2",null,"Proyecto de residencia"),M.default.createElement("p",{style:{marginTop:20}},"Nombre: "),M.default.createElement(C.default,{style:{marginTop:5},value:""+r.anteproyecto.nombre,readOnly:!0}),M.default.createElement("p",{style:{marginTop:20}},"Objetivo general: "),M.default.createElement(C.default,{style:{marginTop:5},value:""+r.anteproyecto.objetivo_general,readOnly:!0}),"2015-2016"===r.anteproyecto.alumno.plan_estudios&&M.default.createElement(w.default,{gutter:16},r.seguimientos_proyecto.map(function(e,t){return M.default.createElement(G.default,{key:Y.default.v4(),proyecto:r,seguimiento:e,numero:t})})),M.default.createElement("h2",{style:{marginTop:20},className:"border-top"},"Seguimiento final"),M.default.createElement(w.default,{gutter:20},M.default.createElement(y.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},r.url_informe_tecnico?M.default.createElement("div",null,M.default.createElement("p",null,"Link del informe técnico: "),M.default.createElement(E.default,{defaultFileList:[{uid:-2,name:"informe_tecnico",status:"done",url:r.url_informe_tecnico}]})):M.default.createElement(v.default,{message:"El alumno no ha subido su informe técnico",type:"warning",showIcon:!0})),M.default.createElement(y.default,{xs:24,lg:24},r.url_informe_tecnico?M.default.createElement("div",null,M.default.createElement(p.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorExterno(r.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),M.default.createElement("h4",{style:{marginBottom:10}},"Autorizar carta de liberación"),M.default.createElement(u.default,{title:null===r.id_evaluacion_asesor_externo?"Antes de autorizar la carta de liberación debe realizar la evaluación.":""},M.default.createElement(s.default,{disabled:null===r.id_evaluacion_asesor_externo,defaultChecked:r.autorizar_carta_liberacion_asesor_externo,checkedChildren:"Autorizado",onChange:function(t){return e.autorizarCartaDeLiberacionAsesorExterno(t,r.id)},unCheckedChildren:M.default.createElement(f.default,{type:"cross"})}))):M.default.createElement(v.default,{message:"El alumno debe subir su informe técnico para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))),M.default.createElement(L.default,{updateProyecto:this.updateProyecto.bind(this),proyecto:r,visible:n,criterios_evaluacion:a}))}}]),t}(R.Component));t.default=q},1132:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option),C=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.proyecto,i=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Evaluación de residencia profesional",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},_.default.createElement(y.default,{layout:"vertical"},null!==o?o.map(function(e,t){return _.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(_.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return _.default.createElement(O,{key:t,value:""+t},t)}))))}):null,_.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.observaciones:null})(_.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),g.default.put("/api/proyecto/evaluacion/asesor_externo",{id_proyecto:a.state.proyecto.id,observaciones:n.observaciones,criterios_evaluacion:n,criterios:a.state.criterios}).then(function(t){200===t.status?(u.default.success("Evaluación guardada!"),a.props.updateProyecto(),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,proyecto:e.proyecto},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.proyecto;this.setState({visible:t,criterios:a,proyecto:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,proyecto:this.state.proyecto}))}}]),t}(v.Component);t.default=x},1133:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(31),a(32)),u=n(i),c=(a(37),a(36)),s=n(c),d=(a(48),a(49)),f=n(d),m=(a(77),a(78)),p=n(m),b=(a(15),a(16)),y=n(b),h=(a(88),a(89)),v=n(h),_=(a(19),a(20)),E=n(_),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),C=a(12),x=n(C),k=a(1),S=(n(k),a(45)),j=n(S),P=a(1134),A=n(P),I=(E.default.Item,v.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showEvaluacionSeguimientoAsesorExterno=function(e){x.default.get("/api/proyecto/evaluacionAnexoXXIX/criterios/asesor_externo/").then(function(e){200===e.status?a.setState({criterios_evaluacion_seguimiento:e.data,visibleEvaluacionSeguimientoAsesorExterno:!0}):y.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.state={numero:e.numero,seguimiento:e.seguimiento,proyecto:e.proyecto,criterios_evaluacion_seguimiento:null,visibleEvaluacionSeguimientoAsesorExterno:!1},a}return l(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({numero:e.numero,proyecto:e.proyecto,seguimiento:e.seguimiento,visibleEvaluacionSeguimientoAsesorExterno:!1,criterios_evaluacion_seguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.criterios_evaluacion_seguimiento,n=t.visibleEvaluacionSeguimientoAsesorExterno,r=t.seguimiento,o=t.numero,l=t.proyecto;return O.default.createElement(u.default,{xs:24,lg:24},O.default.createElement("h2",{style:{marginTop:20,marginBottom:10},className:"border-top"},"Seguimiento "+(o+1)),r.url_seguimiento?O.default.createElement("div",{style:{marginTop:10,marginBottom:10}},O.default.createElement("p",null,"Link del seguimiento: "),O.default.createElement(p.default,{defaultFileList:[{uid:-2,name:"seguimiento de residencia",status:"done",url:r.url_seguimiento}]})):O.default.createElement(f.default,{style:{marginTop:10,marginBottom:10},message:"El alumno no ha subido el avance de su seguimiento de residencia",type:"warning",showIcon:!0}),r.url_seguimiento?O.default.createElement("div",{style:{marginTop:10,marginBottom:10}},O.default.createElement(s.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionSeguimientoAsesorExterno(l.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),O.default.createElement(A.default,{key:j.default.v4(),seguimiento:r,visible:n,criterios_evaluacion:a})):O.default.createElement(f.default,{style:{marginTop:10,marginBottom:10},message:"El alumno debe subir su avance del seguimiento de residencia para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))}}]),t}(w.Component));t.default=I},1134:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option),C=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.seguimiento,i=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Evaluación de seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},_.default.createElement(y.default,{layout:"vertical"},null!==o?o.map(function(e,t){return _.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(_.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return _.default.createElement(O,{key:t,value:""+t},t)}))))}):null,_.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.observaciones:null})(_.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),g.default.put("/api/proyecto/evaluacion_seguimiento/asesor_externo",{id_seguimiento:a.state.seguimiento.id,observaciones:t.observaciones,criterios_evaluacion:t,criterios:a.state.criterios}).then(function(e){200===e.status?(u.default.success("Evaluación del seguimiento guardada!"),a.setState({visible:!1})):s.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:_.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,seguimiento:e.seguimiento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.seguimiento;this.setState({visible:t,criterios:a,seguimiento:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,seguimiento:this.state.seguimiento}))}}]),t}(v.Component);t.default=x},1135:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(48),a(49)),u=n(i),c=(a(35),a(13)),s=n(c),d=(a(37),a(36)),f=n(d),m=(a(98),a(86)),p=n(m),b=(a(65),a(66)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(2)),g=(n(E),a(62)),w=a(12),O=n(w),C=a(45),x=n(C),k=a(99),S=a(100),j=n(S),P=a(1136),A=n(P),I=a(1137),R=n(I),M=a(1140),T=n(M),D=a(1142),F=n(D),N=y.default.Header,Y=y.default.Content,z=y.default.Footer,L=y.default.Sider,B=p.default.SubMenu,G=f.default.Group,q=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1,visibleCancelacion:!1})},e.updateAsesorias=function(){var t=e.state.usuario;O.default.get("/api/alumno/"+t.id_alumno+"/_proyecto").then(function(a){200===a.status&&e.setState({visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:"Asesorías",render:_.default.createElement(T.default,{key:x.default.v1(),updateAsesorias:e.updateAsesorias.bind(e),usuario:t,proyecto:a.data})}})})},e.handleMenu=function(t){var a=(t.item,t.key),n=(t.selectedKeys,e.state),r=n.usuario,o=n.proyecto;1==a?O.default.get("/api/alumno/"+r.id_alumno+"/_proyecto").then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,proyecto:t.data,componentRender:{title:"Proyecto de residencia",render:_.default.createElement(R.default,{proyecto:t.data})}})}):2==a?O.default.get("/api/alumno/"+r.id_alumno+"/_proyecto").then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:"Asesorías",render:_.default.createElement(T.default,{key:x.default.v1(),updateAsesorias:e.updateAsesorias.bind(e),usuario:r,proyecto:t.data})}})}):4==a?O.default.put("/api/proyecto/seguimientos",{id_proyecto:o.id,id_periodo:o.anteproyecto.id_periodo}).then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:"Seguimientos",render:_.default.createElement(F.default,{seguimientos:t.data})}})}):3==a&&e.setState({visibleCambiarContrasenia:!0,visibleCancelacion:!1})},e.showFormCancelacion=function(){e.setState({visibleCambiarContrasenia:!1,visibleCancelacion:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,proyecto:null,cancelacion:null,visibleCancelacion:!1},e}return l(t,e),h(t,[{key:"getIsAuth",value:function(){var e=this;(0,k.getIsAuth)().then(function(t){"residente"===t.rol?O.default.get("/api/alumno/"+t.id_alumno+"/_proyecto").then(function(a){200===a.status?e.setState({proyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Proyecto de residencia",render:_.default.createElement(R.default,{proyecto:a.data})}}):e.setState({isAuth:!1})}).catch(function(a){O.default.get("/api/alumno/"+t.id_alumno+"/cancelacion").then(function(t){200===t.status&&e.setState({cancelacion:t.data})})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visibleCancelacion,n=t.cancelacion,r=t.isAuth,o=(t.componentSelected,t.componentRender),l=(t.usuario,t.visibleCambiarContrasenia),i=t.proyecto;return r?_.default.createElement(y.default,{style:{minHeight:"100vh"}},_.default.createElement(L,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},_.default.createElement("div",{className:"logo",style:{textAlign:"center"}},_.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),_.default.createElement(p.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},_.default.createElement(p.default.Item,{key:"1"},_.default.createElement(s.default,{type:"inbox"}),_.default.createElement("span",null,"Proyecto")),_.default.createElement(p.default.Item,{key:"2"},_.default.createElement(s.default,{type:"solution"}),_.default.createElement("span",null,"Asesorías")),_.default.createElement(p.default.Item,{key:"4"},_.default.createElement(s.default,{type:"calendar"}),_.default.createElement("span",null,"Seguimientos")),_.default.createElement(B,{key:"sub1",title:_.default.createElement("span",null,_.default.createElement(s.default,{type:"user"}),_.default.createElement("span",null,"Usuario"))},_.default.createElement(p.default.Item,{key:"3"},"Cambiar contraseña"),_.default.createElement(p.default.Item,null,_.default.createElement("a",{href:"/api/usuario/logout"}," ",_.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),_.default.createElement(y.default,null,_.default.createElement(N,{style:{background:"#fff",padding:0}},_.default.createElement(s.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),o.title),_.default.createElement(Y,{style:{margin:"24px 16px",padding:24,background:"#fff"}},o.render,i?null:_.default.createElement("div",null,_.default.createElement(u.default,{message:"Residente, usted no tiene proyecto, probablemente hubo una cancelación ó su anteproyecto no fue factible, para mas información preguntar al presidente de academia o jefe de departamento.",type:"error",showIcon:!0}),null===n?null:_.default.createElement("div",null,_.default.createElement(G,null,_.default.createElement(f.default,{onClick:function(){return e.showFormCancelacion()},style:{marginTop:20},icon:"plus"},"Agregar justificación de cancelación de residencia"),_.default.createElement(f.default,{type:"primary",icon:"file-pdf"},_.default.createElement("a",{style:{color:"white"},href:"/api/alumno/"+n.id+"/generarFormatoDeCancelacion",target:"_blank"},"Generar formato"))),_.default.createElement(A.default,{cancelacion:n,visible:a})))),_.default.createElement(z,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),_.default.createElement(j.default,{visible:l})):_.default.createElement(g.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=q},1136:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(18),a(22)),f=n(d),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=(a(11),a(62),a(12)),_=n(v),E=p.default.Item,g=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.cancelacion,l=r.getFieldDecorator;return h.default.createElement(s.default,{visible:t,title:"Justificación de cancelación del proyecto: "+o.nombre_proyecto,okText:"Guardar",onCancel:a,onOk:n,width:700},h.default.createElement(p.default,{layout:"vertical"},h.default.createElement(E,{label:"Justificación de cancelación"},l("justificacion",{rules:[{required:!0,message:"Debé describir la justificación de la cancelación del proyecto."}],initialValue:o.justificacion})(h.default.createElement(f.default.TextArea,{autosize:{minRows:3,maxRows:6},type:"text",placeholder:"Justificación..."})))))}),w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||_.default.put("/api/alumno/cancelacion_justificacion",{id_cancelacion:a.state.cancelacion.id,justificacion:t.justificacion}).then(function(e){console.log(e),200===e.status?(u.default.success("Justificación guardada satisfactoriamente"),a.setState({visible:!1})):s.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:h.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,cancelacion:e.cancelacion},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.cancelacion;this.setState({visible:t,cancelacion:a})}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(g,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,cancelacion:this.state.cancelacion}))}}]),t}(y.Component);t.default=w},1137:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(119),a(120)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(35),a(13)),p=n(m),b=(a(18),a(22)),y=n(b),h=(a(19),a(20)),v=n(h),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a(0),g=n(E),w=a(12),O=(n(w),a(1)),C=(n(O),a(1138)),x=n(C),k=a(1139),S=n(k),j=v.default.Item,P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={proyecto:e.proyecto},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto})}},{key:"render",value:function(){var e=this.state.proyecto;return console.log("proyecto => ",this.state.proyecto),g.default.createElement("div",null,g.default.createElement(v.default,null,g.default.createElement(j,{label:"Título"},g.default.createElement(y.default,{value:e.anteproyecto.nombre,readOnly:!0})),g.default.createElement(j,{label:"Objetivo general"},g.default.createElement(y.default,{value:e.anteproyecto.objetivo_general,readOnly:!0})),g.default.createElement(j,{label:"Anteproyecto"},g.default.createElement("a",{style:{color:"#4da1ff"},href:"/api/anteproyecto/pdf/"+e.anteproyecto.path_file_anteproyecto,target:"_blank"}," Ver anteproyecto ",g.default.createElement(p.default,{type:"file-pdf",style:{color:"#4da1ff"}})))),g.default.createElement(u.default,{className:"border-top"},g.default.createElement(f.default,{xs:24,lg:24},g.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),g.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/plan_de_trabajo.docx"},"Plantilla de plan de trabajo ",g.default.createElement(p.default,{type:"cloud-download"}))),g.default.createElement(f.default,{xs:24,lg:12},g.default.createElement(x.default,{proyecto:e})),g.default.createElement(f.default,{xs:24,lg:12},g.default.createElement("p",{style:{marginLeft:40,marginBottom:15}},"Observaciones del plan de trabajo"),g.default.createElement(s.default,{className:"center-block",style:{marginLeft:40,overflow:"scroll",height:180,paddingLeft:20,paddingTop:20}},e.observaciones.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e,t){return g.default.createElement(s.default.Item,{key:t,color:e.solucionada?"green":"red",dot:e.solucionada?g.default.createElement(p.default,{type:"check-circle-o"}):g.default.createElement(p.default,{type:"clock-circle-o",style:{fontSize:"16px"}})},e.observacion)})))),g.default.createElement(u.default,{className:"border-top"},g.default.createElement(f.default,{xs:24,lg:24},g.default.createElement("h2",{style:{marginBottom:20}},"Cronograma"),g.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/cronograma.docx"},"Plantilla de cronograma de actividades ",g.default.createElement(p.default,{type:"cloud-download"}))),g.default.createElement(f.default,{xs:24,lg:12},g.default.createElement(S.default,{proyecto:e})),g.default.createElement(f.default,{xs:24,lg:12},g.default.createElement("p",{style:{marginLeft:40,marginBottom:15}},"Observaciones del cronograma de actividades"),g.default.createElement(s.default,{className:"center-block",style:{marginLeft:40,overflow:"scroll",height:180,paddingLeft:20,paddingTop:20}},e.observaciones.filter(function(e){return"cronograma"===e.tipo}).map(function(e,t){return g.default.createElement(s.default.Item,{key:t,color:e.solucionada?"green":"red",dot:e.solucionada?g.default.createElement(p.default,{type:"check-circle-o"}):g.default.createElement(p.default,{type:"clock-circle-o",style:{fontSize:"16px"}})},e.observacion)})))))}}]),t}(E.Component);t.default=P},1138:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(77),a(78)),u=n(i),c=(a(35),a(13)),s=n(c),d=(a(15),a(16)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=(n(E),a(1)),w=(n(g),y.default.Item),O=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),h(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return _.default.createElement(y.default,{onSubmit:this.handleSubmit},_.default.createElement("div",{className:"dropbox"},_.default.createElement(w,{label:"Seleccione su plan de trabajo"},e("file_plan_trabajo",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_plan_trabajo?[{uid:1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+t.filename_plan_trabajo}]:[]})(_.default.createElement(u.default.Dragger,{name:"filePlanTrabajo",action:"/api/alumno/file_plan_trabajo/"+t.id,beforeUpload:this.beforeUpload},_.default.createElement("p",{className:"ant-upload-drag-icon"},_.default.createElement(s.default,{type:"inbox"})),_.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),_.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(v.Component)),C=y.default.create({mapPropsToFields:function(e){return{props:e}}})(O);t.default=C},1139:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(77),a(78)),u=n(i),c=(a(35),a(13)),s=n(c),d=(a(15),a(16)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=(n(E),a(1)),w=(n(g),y.default.Item),O=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),h(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return _.default.createElement(y.default,{onSubmit:this.handleSubmit},_.default.createElement("div",{className:"dropbox"},_.default.createElement(w,{label:"Seleccione su cronograma de actividades"},e("file_cronograma",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_cronograma?[{uid:1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+t.filename_cronograma}]:[]})(_.default.createElement(u.default.Dragger,{name:"fileCronograma",action:"/api/alumno/cronograma/"+t.id,beforeUpload:this.beforeUpload},_.default.createElement("p",{className:"ant-upload-drag-icon"},_.default.createElement(s.default,{type:"inbox"})),_.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),_.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(v.Component)),C=y.default.create({mapPropsToFields:function(e){return{props:e}}})(O);t.default=C},1140:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(48),a(49)),p=n(m),b=(a(156),a(157)),y=n(b),h=(a(37),a(36)),v=n(h),_=(a(119),a(120)),E=n(_),g=(a(35),a(13)),w=n(g),O=(a(28),a(29)),C=n(O),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=a(1),P=n(j),A=a(1141),I=n(A),R=a(45),M=n(R),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showAddAsesoria=function(){a.setState({visibleRegistrarAsesoria:!0})},a.showTutorialSubirAsesoria=function(){C.default.info({width:800,title:"Tutorial para subir y compartir archivos en google drive",content:S.default.createElement("div",null,S.default.createElement("video",{style:{width:"100%",marginTop:10},controls:!0,src:"/video/upload_drive.mp4"})),onOk:function(){}})},a.updateAsesorias=function(){a.props.updateAsesorias()},a.showSolucionesRecomendadas=function(e){C.default.info({width:600,title:"Soluciones recomendadas en la asesoría",content:S.default.createElement("div",{style:{overflow:"scroll",height:300}},S.default.createElement(E.default,{style:{marginTop:30,marginLeft:30}},e.map(function(e,t){return S.default.createElement(E.default.Item,{key:t,dot:e.solucionado?S.default.createElement(w.default,{type:"check-circle-o"}):S.default.createElement(w.default,{type:"clock-circle-o",style:{fontSize:"16px"}}),color:e.solucionado?"green":"red"},e.solucion)}))),onOk:function(){}})},a.state={proyecto:e.proyecto,visibleRegistrarAsesoria:!1,usuario:e.usuario},a}return l(t,e),x(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=t.visibleRegistrarAsesoria,r=(t.usuario,[{className:"center-text",title:"Fecha de asesoría",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return S.default.createElement("a",{href:t.url_avance,target:"_blank"},"Avance ",S.default.createElement(w.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return S.default.createElement("span",null,S.default.createElement(y.default,{count:a.soluciones_recomendadas.filter(function(e){return console.log(e),!e.solucionado}).length},S.default.createElement(v.default,{onClick:function(){return e.showSolucionesRecomendadas(a.soluciones_recomendadas)}},"Ver soluciones")))}},{className:"center-text",title:"Tipo",dataIndex:"tipo",key:"tipo"},{width:300,className:"center-text",title:"Formato de asesoría",dataIndex:"formato_asesoria",key:"formato_asesoria",render:function(e,t){return S.default.createElement("span",null,t.asesoria.permitir_generar_formato?S.default.createElement("a",{href:"/api/asesoria/"+t.asesoria.id+"/generar_formato/",target:"_blank"},S.default.createElement(v.default,{icon:"file-pdf",type:"primary"},"Generar formato")):S.default.createElement(p.default,{message:"El asesor interno debe autorizar el formato",type:"warning",showIcon:!0}))}}]),o=a.asesorias.map(function(e,t){return{key:M.default.v1(),fecha:(0,P.default)(e.fecha,"YYYY-MM-DD").format("ll"),asesoria:e,temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:e.soluciones_recomendadas,tipo:e.tipo}});return S.default.createElement("div",null,S.default.createElement(u.default,null,S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(v.default,{icon:"plus",type:"primary",onClick:this.showAddAsesoria},"Agregar asesoría")),S.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:10}},S.default.createElement(v.default,{icon:"video-camera",onClick:this.showTutorialSubirAsesoria},"Tutorial para subir archivos y compartir en drive")),S.default.createElement(f.default,{xs:24,lg:24},S.default.createElement(s.default,{title:function(){return"Lista de asesorías registradas"},columns:r,dataSource:o,pagination:{pageSize:5},scroll:{x:1200}}))),S.default.createElement(I.default,{updateAsesorias:this.updateAsesorias.bind(this),proyecto:a,visible:n}))}}]),t}(k.Component);t.default=T},1141:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(153),a(154)),f=n(d),m=(a(87),a(74)),p=n(m),b=(a(35),a(13)),y=n(b),h=(a(88),a(89)),v=n(h),_=(a(24),a(25)),E=n(_),g=(a(18),a(22)),w=n(g),O=(a(19),a(20)),C=n(O),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),S=n(k),j=(a(11),a(12)),P=n(j),A=a(1),I=n(A),R=C.default.Item,M=(w.default.Group,E.default.Option,v.default.TabPane,C.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=(e.carrera,e.alumnos_rechazados,e.addToPeriodo,r.getFieldDecorator);return S.default.createElement(s.default,{visible:t,title:"Registrar asesoría",okText:"Guardar",onCancel:a,onOk:n,width:600},S.default.createElement(C.default,{layout:"vertical"},S.default.createElement(R,{label:S.default.createElement("span",null,"Fecha de asesoría ",S.default.createElement(p.default,{title:"La fecha de asesoría tiene 3 dias habiles."},S.default.createElement(y.default,{type:"question-circle-o"})))},o("fecha",{rules:[{required:!0,message:"La fecha de asesoría es obligatoria."}]})(S.default.createElement(f.default,{format:"ll",disabledDate:function(e){return(0,I.default)(e).format("YYYY-MM-DD")<(0,I.default)().format("YYYY-MM-DD")||(0,I.default)(e).format("YYYY-MM-DD")>(0,I.default)().add(3,"days").format("YYYY-MM-DD")}}))),S.default.createElement(R,{label:"Temas a asesorar"},o("temas_a_asesorar",{rules:[{required:!0,message:"Los temas a asesorar son obligatorios."},{min:5,message:"El minimo de caracteres es 5."},{max:500,message:"El maximo de caracteres es 500."}]})(S.default.createElement(w.default.TextArea,{placeholder:"Describa los temas a asesorar",rows:4}))),S.default.createElement(R,{label:"URL del avance de google drive"},o("url_avance",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/.*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(S.default.createElement(w.default,{prefix:S.default.createElement(y.default,{type:"global",style:{fontSize:13}}),placeholder:"URL del sitio donde esta almacenado el archivo del avance ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"})))))})),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.state.proyecto,t=a.form;t.validateFields(function(n,r){n||P.default.post("/api/proyecto/asesoria",{id_proyecto:e.id,id_asesor_interno:e.anteproyecto.id_asesor_interno,fecha:r.fecha,url_avance:r.url_avance,temas_a_asesorar:r.temas_a_asesorar}).then(function(e){200===e.status?(u.default.success("Asesoría registrada satisfactoriamente"),a.setState({visible:!1}),t.resetFields(),a.props.updateAsesorias()):s.default.error({title:"Error al registrar asesoría. Revisar los siguientes campos",content:S.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,proyecto:e.proyecto},a}return l(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.proyecto;e.usuario;this.setState({visible:t,proyecto:a})}},{key:"render",value:function(){return S.default.createElement("div",null,S.default.createElement(M,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(k.Component);t.default=T},1142:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(31),a(32)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(48),a(49)),p=n(m),b=(a(88),a(89)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=a(45),g=(n(E),a(1)),w=n(g),O=a(1143),C=n(O),x=a(1144),k=n(x),S=y.default.TabPane,j=a(1149),P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeSeguimiento=function(e){var t=a.state.seguimientos,n=(0,w.default)().format("YYYY-MM-DD");if("seguimiento_final"===e){var r=t[0][0].proyecto.anteproyecto.periodo;n>=(0,w.default)(r.fecha_fin,"YYYY-MM-DD").subtract(j.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD")&&n<=(0,w.default)(r.fecha_fin,"YYYY-MM-DD").add(j.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD")?a.setState({renderSeguimiento:_.default.createElement(k.default,{proyecto:t[0][0].proyecto})}):a.setState({renderSeguimiento:_.default.createElement(p.default,{message:"El seguimiento final no esta disponible,\n Fecha inicial: "+(0,w.default)(r.fecha_fin,"YYYY-MM-DD").subtract(j.periodo_residencia.dias_habiles_seguimiento_final,"days").format("LL")+" - Fecha final: "+(0,w.default)(r.fecha_fin,"YYYY-MM-DD").add(j.periodo_residencia.dias_habiles_seguimiento_final,"days").format("LL"),type:"warning",showIcon:!0})})}else{var o=t.find(function(t){return t[0].id==e})[0];n>=o.seguimiento.fecha_inicial&&n<=o.seguimiento.fecha_final?a.setState({renderSeguimiento:_.default.createElement(C.default,{seguimiento:o})}):a.setState({renderSeguimiento:_.default.createElement(p.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,w.default)(o.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,w.default)(o.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0})})}},a.state={seguimientos:e.seguimientos,renderSeguimiento:null},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimientos:e.seguimientos,renderSeguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimientos,n=t.renderSeguimiento;return _.default.createElement("div",null,_.default.createElement(u.default,null,_.default.createElement(s.default,{xs:24,lg:4},_.default.createElement(y.default,{defaultActiveKey:"-1",tabPosition:"left",onChange:function(t){return e.onChangeSeguimiento(t)}},a.map(function(e,t){return console.log("key",e[0].id),_.default.createElement(S,{tab:_.default.createElement("span",null,_.default.createElement(f.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e[0].id})}),_.default.createElement(S,{tab:_.default.createElement("span",null,_.default.createElement(f.default,{type:"schedule"}),"Seguimiento final"),key:"seguimiento_final"}))),_.default.createElement(s.default,{xs:24,lg:20},n)))}}]),t}(v.Component);t.default=P},1143:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(156),a(157)),u=n(i),c=(a(48),a(49)),s=n(c),d=(a(37),a(36)),f=n(d),m=(a(35),a(13)),p=n(m),b=(a(15),a(16)),y=n(b),h=(a(230),a(231)),v=n(h),_=(a(18),a(22)),E=n(_),g=(a(19),a(20)),w=n(g),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),x=n(C),k=(a(11),a(12)),S=n(k),j=a(1),P=n(j),A=w.default.Item,I=(E.default.TextArea,v.default.Panel),R=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||S.default.put("/api/proyecto/seguimiento",{id_seguimiento:n.props.seguimiento.id,url_seguimiento:t.url_seguimiento}).then(function(e){200===e.status?y.default.success("Seguimiento actualizado satisfactoriamente"):y.default.error("Error al actualizar al seguimiento, favor de reportar al administrador.")})})},l=a,o(n,l)}return l(t,e),O(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.seguimiento,a={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};return x.default.createElement("div",null,x.default.createElement(w.default,{onSubmit:this.handleSubmit},x.default.createElement("div",{className:"dropbox"},x.default.createElement(A,{label:"URL del seguimiento en google drive"},e("url_seguimiento",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/[^\\s]*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(x.default.createElement(E.default,{prefix:x.default.createElement(p.default,{type:"global",style:{fontSize:13}}),addonAfter:t.url_seguimiento?x.default.createElement("a",{href:t.url_seguimiento?t.url_seguimiento:"#",target:"_blank"},x.default.createElement(p.default,{type:"cloud"}),"Ver seguimiento"):null,placeholder:"URL del sitio donde esta almacenado el archivo del seguimiento ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}))),x.default.createElement(f.default,{type:"primary",htmlType:"submit"},"Actualizar"))),"2015-2016"===t.proyecto.anteproyecto.alumno.plan_estudios&&x.default.createElement("div",null,x.default.createElement("h3",{className:"border-top",style:{marginTop:20}},"Evaluación"),null!==t.id_evaluacion_asesor_interno&null!==t.id_evaluacion_asesor_externo?x.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/formato_evaluacion/anexoXXIX"},x.default.createElement(f.default,{type:"primary",icon:"file-pdf"},"Generar formato de evaluación")):x.default.createElement(s.default,{message:(null===t.id_evaluacion_asesor_interno?"El asesor interno no ha realizado la evaluación":"")+"\n"+(null===t.id_evaluacion_asesor_externo?", El asesor externo no ha realizado la evaluación":""),type:"warning",showIcon:!0})),x.default.createElement("h3",{className:"border-top",style:{marginTop:20}},"Observaciones"),x.default.createElement("div",{style:{overflowY:"scroll",height:300}},x.default.createElement(v.default,{bordered:!1},t.revisiones_seguimiento.map(function(e,t){return x.default.createElement(I,{header:x.default.createElement("div",null,e.solucionado?x.default.createElement(u.default,{status:"success",text:"Fecha: "+(0,P.default)(e.createdAt).utc().format("LL")+" - Revisión por: "+e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno}):x.default.createElement(u.default,{text:"Fecha: "+(0,P.default)(e.createdAt).utc().format("LL")+" - Revisión por: "+e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno,status:"processing"})),key:t,style:a},x.default.createElement("h3",null,"Observación: "),x.default.createElement("p",null,e.observacion))}))))}}]),t}(C.Component),M=w.default.create({mapPropsToFields:function(e){return{props:e}}})(R);t.default=M},1144:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(48),a(49)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(37),a(36)),p=n(m),b=(a(35),a(13)),y=n(b),h=(a(15),a(16)),v=n(h),_=(a(1145),a(1148)),E=n(_),g=(a(230),a(231)),w=n(g),O=(a(18),a(22)),C=n(O),x=(a(19),a(20)),k=n(x),S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),P=n(j),A=(a(11),a(12)),I=n(A),R=a(1),M=(n(R),k.default.Item),T=(C.default.TextArea,w.default.Panel,E.default.TreeNode),D=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),I.default.put("/api/proyecto/informe_tecnico",{id_proyecto:n.props.proyecto.id,url_informe_tecnico:t.url_informe_tecnico}).then(function(e){200===e.status?v.default.success("Informe técnico actualizado satisfactoriamente"):v.default.error("Error al actualizar al informe técnico, favor de reportar al administrador.")}))})},l=a,o(n,l)}return l(t,e),S(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return P.default.createElement("div",null,P.default.createElement(s.default,{gutter:16},P.default.createElement(f.default,{xs:24,lg:12},P.default.createElement(k.default,{onSubmit:this.handleSubmit},P.default.createElement(M,{label:"URL del informe técnico en google drive"},e("url_informe_tecnico",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/[^\\s]*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(P.default.createElement(C.default,{prefix:P.default.createElement(y.default,{type:"global",style:{fontSize:13}}),placeholder:"URL del sitio donde esta almacenado el archivo del seguimiento ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ",addonAfter:t.url_informe_tecnico?P.default.createElement("a",{href:t.url_informe_tecnico?t.url_informe_tecnico:"#",target:"_blank"},P.default.createElement(y.default,{type:"cloud"}),"Ver informe técnico"):null}))),P.default.createElement(p.default,{type:"primary",htmlType:"submit"},"Actualizar"))),P.default.createElement(f.default,{xs:24,lg:12},P.default.createElement("h3",null,"Estructura del informe técnico"),P.default.createElement(E.default,{showLine:!0},P.default.createElement(T,{title:"Informe técnico",key:"0"},P.default.createElement(T,{title:"Portada",key:"1"},P.default.createElement(T,{title:"Periodo de residencia",key:"1-0"}),P.default.createElement(T,{title:"Nombre de proyecto",key:"1-1"})))))),P.default.createElement(s.default,{gutter:20,style:{marginTop:30}},P.default.createElement(f.default,{xs:24,lg:24,className:"border-bottom"},P.default.createElement("h3",null,"Formato de evaluación")),P.default.createElement(f.default,{xs:24,lg:24},null!==t.id_evaluacion_asesor_interno&null!==t.id_evaluacion_asesor_externo?P.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/formato_evaluacion/"+("2009-2010"===t.anteproyecto.alumno.plan_estudios?"anexoIII":"anexoXXX")},P.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar formato de evaluación")):P.default.createElement(u.default,{message:(null===t.id_evaluacion_asesor_interno?"El asesor interno no ha realizado la evaluación":"")+"\n"+(null===t.id_evaluacion_asesor_externo?", El asesor externo no ha realizado la evaluación":""),type:"warning",showIcon:!0}))),P.default.createElement(s.default,{gutter:20,style:{marginTop:30}},P.default.createElement(f.default,{xs:24,lg:24,className:"border-bottom"},P.default.createElement("h3",null,"Cartas de liberación")),P.default.createElement(f.default,{xs:24,lg:12},P.default.createElement("h4",null,"Asesor interno"),t.autorizar_carta_liberacion_asesor_interno?P.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/carta_liberacion/asesor_interno"},P.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar carta de liberación")):P.default.createElement(u.default,{message:"Tu asesor interno no ha autorizado tu carta de liberación",type:"warning",showIcon:!0})),P.default.createElement(f.default,{xs:24,lg:12},P.default.createElement("h4",null,"Asesor externo"),t.autorizar_carta_liberacion_asesor_externo?P.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/carta_liberacion/asesor_externo"},P.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar carta de liberación")):P.default.createElement(u.default,{message:"Tu asesor externo no ha autorizado tu carta de liberación",type:"warning",showIcon:!0}))))}}]),t}(j.Component),F=k.default.create({mapPropsToFields:function(e){return{props:e}}})(D);t.default=F},1149:function(e,t){e.exports={periodo_residencia:{dias_habiles_seguimiento_final:15},jefe_departamento_de_vinculacion:"M.A.T.I. JESÚS MARÍN ROBLES",uuid_app:"c3bda844-1489-427b-91b1-b93744ebc086"}},1150:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(404),a(405)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(65),a(66)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=(p.default.Content,p.default.Header,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),b(t,[{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(s.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},key:"a"},h.default.createElement(f.default,{lg:16,xs:22},h.default.createElement(u.default,{style:{borderBottomRightRadius:10,borderBottomLeftRadius:10,borderTopLeftRadius:10,borderTopRightRadius:10,paddingTop:25,paddingBottom:25}},h.default.createElement(s.default,{type:"flex",justify:"center",align:"middle"},h.default.createElement(f.default,{lg:24,xs:24,style:{paddingLeft:20,paddingRight:20}},h.default.createElement("h1",{style:{fontSize:150,color:"#4da1ff",textAlign:"center"}},"404"),h.default.createElement("p",{style:{color:"#4da1ff",textAlign:"center"}},"Oops!!! Pagina no encontrada.")))))))}}]),t}(y.Component));t.default=v},1151:function(e,t,a){var n=a(1152);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(27)(n,r);n.locals&&(e.exports=n.locals)},1152:function(e,t,a){t=e.exports=a(26)(void 0),t.push([e.i,".logo-login{\n  width: 10em;\n  height: 10em;\n}\n\n.trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 16px;\n  cursor: pointer;\n  transition: color .3s;\n}\n\n.cerrar-sesion:hover {\n  color: red;\n  background-color: red;\n}\n.trigger:hover {\n  color: #108ee9;\n}\n\n.logo {\n  height: 32px;\n  /* background: #333; */\n  border-radius: 6px;\n  margin: 16px;\n}\n\n.full-width {\n  width: 100%;\n}\n.center-text{\n  text-align: center !important;\n}\n\n\n.dynamic-delete-button {\n  cursor: pointer;\n  position: relative;\n  top: 4px;\n  font-size: 24px;\n  color: #999;\n  transition: all .3s;\n}\n.dynamic-delete-button:hover {\n  color: #777;\n}\n.dynamic-delete-button[disabled] {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.custom-filter-dropdown {\n  padding: 8px;\n  border-radius: 6px;\n  background: #fff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\n}\n\n.custom-filter-dropdown input {\n  width: 130px;\n  margin-right: 8px;\n}\n\n.highlight {\n  color: #f50;\n}\n\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child {\n  padding: 0 48px 0 8px;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th {\n  border-bottom: 1px solid #e9e9e9;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-row td:first-child {\n  padding-left: 0;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-row:last-child td {\n  border: none;\n}\n\n.components-table-demo-nested .ant-table-expanded-row .ant-table-thead > tr > th {\n  background: none;\n}\n\n.components-table-demo-nested .table-operation a:not(:last-child) {\n  margin-right: 24px;\n}\n.SimplePDF {\n  width: 350px; /* width of pdf document box should be != 0 */\n  height: 500px; /* height of pdf document box should be != 0 */\n  margin: 15px; /* optional */\n  padding: 15px; /* optional */\n  float: left; /* optional */\n}\n\n.pdf{\n  width: 100% !important;\n}\n\n.file-preview {\n  width: 600px !important;\n}\n\n.center-block{\n  justify-content: center;\n  overflow-y: 50px;\n}\n\n.border-top{\n  border-top: 1px solid #d7d9db;\n  margin-top: 20px;\n  padding-top: 10px;\n}\n.border-bottom{\n  border-bottom: 1px solid #d7d9db;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n}",""])},429:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(37),a(36)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(15),a(16)),p=n(m),b=(a(24),a(25)),y=n(b),h=(a(50),a(51)),v=n(h),_=(a(65),a(66)),E=n(_),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),C=(a(11),a(12)),x=n(C),k=a(45),S=n(k),j=a(918),P=n(j),A=a(928),I=n(A),R=a(452),M=n(R),T=a(929),D=n(T),F=a(930),N=(n(F),E.default.Content,E.default.Header,v.default.Column),Y=(v.default.ColumnGroup,y.default.Option),z=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){x.default.get("/api/departamento/"+t).then(function(t){e.setState({visible_add_docente:!1,visible_add_carrera:!1,visible_form_departamento:!1,visible_form_edit_departamento:!0,departamento:t.data})})},e.showAddDocente=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!1,visible_add_docente:!0,props_add_docente:{id_departamento:t,nombre_departamento:a}})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.changeSubdirectorAcademico=function(e){x.default.put("/api/docente/subdirector_academico",{id_usuario:e||null}).then(function(e){200===e.status?p.default.success("Subdirector academico actualizado satisfactoriamente"):p.default.error("Tuvimos un error al asignar al subdirector academico.")}).catch(function(e){p.default.error("Error al asignar al subdirector academico")})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_carrera:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,loadTable:!0,docentes:[]},e}return l(t,e),g(t,[{key:"fetchDepartamento",value:function(){var e=this;x.default.get("/api/departamento").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){console.log(e.docentes);var a=e.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol});return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:a?a.titulo+" "+a.nombre+" "+a.ap_paterno+" "+a.ap_materno:"no asignado",acciones:"Editar departamento"}});x.default.get("/api/docentes").then(function(t){200===t.status?e.setState({docentes:t.data,data:a,loadTable:!1,visible_form_edit_departamento:!1}):e.setState({data:a,loadTable:!1,visible_form_edit_departamento:!1})})}})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible_form_edit_departamento,n=t.visible_form_departamento,r=t.docentes,o=t.data,l=t.departamento,i=t.loadTable,c=t.visible_add_docente,d=t.props_add_docente,m=t.visible_add_carrera,p=t.props_add_carrera,b=r.find(function(e){return"subdirector_academico"===e.usuario.rol});return O.default.createElement("div",null,O.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},O.default.createElement(f.default,{style:{marginRight:20}},O.default.createElement("h1",null," Departamentos ")),O.default.createElement(f.default,null,O.default.createElement(s.default,{type:"primary",icon:"plus",onClick:this.showModalFormDepartamento},"Agregar"))),O.default.createElement(u.default,{style:{marginTop:20,marginBottom:20}},O.default.createElement(f.default,{xs:24,lg:8},O.default.createElement("h3",null,"Seleccione al subdirector academico"),O.default.createElement(y.default,{key:S.default.v4(),style:{width:"100%"},showSearch:!0,placeholder:"Seleccione al subdirector academico",optionFilterProp:"children",allowClear:!0,onChange:function(t){return e.changeSubdirectorAcademico(t)},defaultValue:b?b.titulo+" "+b.nombre+" "+b.ap_materno+" "+b.ap_paterno:null},r.map(function(e,t){return O.default.createElement(Y,{key:S.default.v1(),value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_materno+" "+e.ap_paterno)})))),O.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},O.default.createElement(v.default,{dataSource:o,className:"full-width",pagination:{pageSize:5},loading:i,scroll:{x:800}},O.default.createElement(N,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),O.default.createElement(N,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),O.default.createElement(N,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),O.default.createElement(N,{title:"Acciones",key:"acciones",render:function(t,a){return O.default.createElement("span",null,O.default.createElement(s.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Departamento"),O.default.createElement(s.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddDocente(a.id,a.nombre)}},"docente"),O.default.createElement(s.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddCarrera(a.id,a.nombre)}},"carrera"))},className:"center-text"}))),O.default.createElement(P.default,{visible:n,onAddDepartamento:this.handleAddDepartamento.bind(this)}),O.default.createElement(I.default,{visible:a,onReloadDepartamentos:this.fetchDepartamento.bind(this),departamento:l}),O.default.createElement(M.default,{visible:c,departamento:d}),O.default.createElement(D.default,{visible:m,departamento:p}))}}]),t}(w.Component);t.default=z},452:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(24),a(25)),p=n(m),b=(a(18),a(22)),y=n(b),h=(a(19),a(20)),v=n(h),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a(0),g=n(E),w=(a(11),a(12)),O=n(w),C=v.default.Item,x=(y.default.Group,p.default.Option),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator,i=l("titulo",{initialValue:"ING."})(g.default.createElement(p.default,{style:{width:60}},g.default.createElement(x,{value:"ING."},"ING."),g.default.createElement(x,{value:"DR."},"DR."),g.default.createElement(x,{value:"DRA."},"DRA."),g.default.createElement(x,{value:"MTRO."},"MTRO."),g.default.createElement(x,{value:"DIR."},"DIR."),g.default.createElement(x,{value:"DIRA."},"DIRA."),g.default.createElement(x,{value:"LIC."},"LIC."),g.default.createElement(x,{value:"ISC."},"ISC."),g.default.createElement(x,{value:"ISI."},"ISI."),g.default.createElement(x,{value:"MAI."},"MAI."),g.default.createElement(x,{value:"MBT."},"MTB."),g.default.createElement(x,{value:"MCT."},"MCT."),g.default.createElement(x,{value:"MTI."},"MTI."),g.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),g.default.createElement(x,{value:"M.C."},"M.C.")));return g.default.createElement(s.default,{visible:t,title:"Agregar docente al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},g.default.createElement(v.default,{layout:"vertical"},g.default.createElement(C,{label:"Nombre"},l("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(g.default.createElement(y.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre del docente"}))),g.default.createElement(C,{label:"Apellido paterno"},l("ap_paterno",{rules:[{required:!0,message:"El docente debe tener un apellido paterno."}]})(g.default.createElement(y.default,{placeholder:"Apellido paterno del docente"}))),g.default.createElement(C,{label:"Apellido materno"},l("ap_materno",{rules:[{required:!0,message:"El docente debe tener un apellido materno."}]})(g.default.createElement(y.default,{placeholder:"Apellido materno del docente"}))),g.default.createElement(C,{label:"Correo electronico"},l("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(g.default.createElement(y.default,{prefix:g.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),O.default.post("/api/docente",{titulo:n.titulo,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_departamento:a.state.departamento.id_departamento,correo:n.correo}).then(function(t){console.log(t),200===t.status?(u.default.success("Docente agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al guardar el docente. Revisar los siguientes campos",content:g.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(E.Component);t.default=S},453:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(37),a(36)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(50),a(51)),p=n(m),b=(a(65),a(66)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=(y.default.Content,y.default.Header,p.default.Column),O=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModal=function(){e.setState({visible:!0})},e.state={data:[{key:"1",id:1,nombre:"Sistemas y computación",jefe_departamento:"Jose Angel Nava",acciones:"alv"}],visible:!1},e}return l(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;g.default.get("/api/docente").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:"unasigned",acciones:"falta"}});e.setState({data:a})}})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.data);return _.default.createElement("div",null,_.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},_.default.createElement(f.default,{style:{marginRight:20}},_.default.createElement("h1",null," Docente ")),_.default.createElement(f.default,null,_.default.createElement(s.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),_.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},_.default.createElement(p.default,{dataSource:t,className:"full-width"},_.default.createElement(w,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),_.default.createElement(w,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),_.default.createElement(w,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),_.default.createElement(w,{title:"Acciones",key:"acciones",render:function(e,t){return _.default.createElement("span",null,_.default.createElement(s.default,{icon:"edit"}," Cambiar jefe de departamento "))},className:"center-text"}))))}}]),t}(v.Component));t.default=O},454:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(31),a(32)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(37),a(36)),p=n(m),b=(a(18),a(22)),y=n(b),h=(a(50),a(51)),v=n(h),_=(a(65),a(66)),E=n(_),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=a(0),C=n(O),x=(a(11),a(12)),k=n(x),S=a(936),j=n(S),P=a(937),A=n(P),I=a(938),R=n(I),M=(E.default.Content,E.default.Header,v.default.Column,v.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?g({},e,{nombre:C.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[C.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.showModal=function(){e.setState({visible:!0,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!1})},e.showModalFormEditEmpresa=function(t){var a=e.state.empresas,n=a.find(function(e){return e.id===t});e.setState({visible:!1,visibleFormEditEmpresa:!0,visibleFormAddAsesorExterno:!1,props_edit_empresa:n})},e.showAddAsesorExterno=function(t,a){e.setState({visible:!1,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!0,props_add_asesor:{id_empresa:t,nombre_empresa:a}})},e.expandedRowRender=function(e){var t=[{title:"Nombre",dataIndex:"nombre"},{title:"Puesto",dataIndex:"puesto"}];return C.default.createElement("div",null,C.default.createElement("span",null,C.default.createElement("strong",null,"RFC"),C.default.createElement("p",null,e.detalles.rfc),C.default.createElement("strong",null,"Domicilio"),C.default.createElement("p",null,e.detalles.domicilio),C.default.createElement("strong",null,"Codigo postal"),C.default.createElement("p",null,e.detalles.codigo_postal)),C.default.createElement("span",null,C.default.createElement("strong",null,"Nombre y puesto del titular de la empresa"),C.default.createElement("p",null,e.titular.titulo+" "+e.titular.nombre+" "+e.titular.puesto),C.default.createElement("strong",null,"Nombre y puesto de quien firma el acuerdo con el ITCH"),C.default.createElement("p",null,e.representante_legal.titulo+" "+e.representante_legal.nombre+" "+e.representante_legal.puesto)),C.default.createElement(v.default,{style:{marginTop:10},title:function(){return"Asesores externos de la empresa"},columns:t,size:"small",dataSource:e.detalles.asesores_externos.map(function(e,t){return{key:t,nombre:e.nombre,puesto:e.puesto}})}))},e.state={empresas:[],filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1,loadTable:!0,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,props_add_asesor:{id_empresa:null,nombre_empresa:null},props_edit_empresa:{detalles:null}},e}return l(t,e),w(t,[{key:"fetchEmpresas",value:function(){var e=this;k.default.get("/api/empresa").then(function(t){if(200===t.status){var a=t.data.empresas.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,clasificacion:e.clasificacion,titular:e.titular,representante_legal:e.representante_legal,detalles:{rfc:e.rfc,domicilio:e.domicilio+" colonia "+e.colonia,domicilio_only:e.domicilio,colonia:e.colonia,codigo_postal:e.codigo_postal,fax:e.fax,mision:e.mision,puesto_titular:e.puesto_titular,nombre_titular:e.nombre_titular,puesto_firma_acuerdo:e.puesto_firma_acuerdo,nombre_firma_acuerdo:e.nombre_firma_acuerdo,asesores_externos:e.asesor_externos},acciones:"acctions"}});e.setState({loadTable:!1,empresas:a,filterEmpresas:a,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1})}}).catch(function(t){e.setState({loadTable:!1})})}},{key:"componentDidMount",value:function(){this.fetchEmpresas()}},{key:"handleAddEmpresa",value:function(){this.fetchEmpresas(),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.filterEmpresas,r=t.loadTable,o=t.visibleFormAddAsesorExterno,l=t.props_add_asesor,i=t.visibleFormEditEmpresa,c=t.props_edit_empresa,d=[{title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:C.default.createElement("div",{className:"custom-filter-dropdown"},C.default.createElement(y.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),C.default.createElement(p.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:C.default.createElement(f.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1},function(){return e.searchInput.focus()})}},{title:"Clasificación",dataIndex:"clasificacion",key:"clasificacion",filters:[{text:"Público",value:"público"},{text:"Privado",value:"privado"},{text:"Industrial",value:"industrial"},{text:"Servicios",value:"servicios"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.clasificacion.indexOf(e)}},{title:"Acciones",key:"acciones",render:function(t,a){return C.default.createElement("span",null,C.default.createElement(p.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditEmpresa(a.id)}},"Empresa"),C.default.createElement(p.default,{style:{marginLeft:5},icon:"team",onClick:function(){return e.showAddAsesorExterno(a.id,a.nombre)}},"Agregar asesor externo"))},className:"center-text"}];return C.default.createElement("div",null,C.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},C.default.createElement(s.default,{style:{marginRight:20}},C.default.createElement("h1",null," Empresas ")),C.default.createElement(s.default,null,C.default.createElement(p.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),C.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},C.default.createElement(v.default,{dataSource:n,className:"full-width",columns:d,pagination:{pageSize:5},loading:r,scroll:{x:1200},expandedRowRender:this.expandedRowRender})),C.default.createElement(j.default,{visible:a,onAddEmpresa:this.handleAddEmpresa.bind(this)}),C.default.createElement(A.default,{visible:i,empresa:c,onReloadFetch:this.fetchEmpresas.bind(this)}),C.default.createElement(R.default,{visible:o,empresa:l,onReloadFetch:this.fetchEmpresas.bind(this)}))}}]),t}(O.Component));t.default=M},472:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(119),a(120)),f=n(d),m=(a(37),a(36)),p=n(m),b=(a(33),a(34)),y=n(b),h=(a(31),a(32)),v=n(h),_=(a(35),a(13)),E=n(_),g=(a(88),a(89)),w=n(g),O=(a(24),a(25)),C=n(O),x=(a(18),a(22)),k=n(x),S=(a(19),a(20)),j=n(S),P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),I=n(A),R=(a(11),a(12)),M=n(R),T=j.default.Item,D=(k.default.Group,C.default.Option),F=w.default.TabPane,N=j.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.alumnos_rechazados,i=e.addToPeriodo,u=r.getFieldDecorator,c=u("id_tipo_seguro",{})(I.default.createElement(C.default,{style:{width:80}},I.default.createElement(D,{value:"1"},"IMMS."),I.default.createElement(D,{value:"2"},"ISSTE"),I.default.createElement(D,{value:"3"},"METLIFE"),I.default.createElement(D,{value:"4"},"GNP"),I.default.createElement(D,{value:"5"},"QUÁLITAS"),I.default.createElement(D,{value:"6"},"INBURSA"),I.default.createElement(D,{value:"7"},"OTRO")));return I.default.createElement(s.default,{visible:t,title:"Agregar alumno a la carrera de "+(o?o.nombre:""),okText:"Guardar",onCancel:a,onOk:n,style:{top:10},width:600},I.default.createElement(w.default,{defaultActiveKey:"1"},I.default.createElement(F,{tab:I.default.createElement("span",null,I.default.createElement(E.default,{type:"user-add"}),"Nuevo candidato"),key:"1"},I.default.createElement(j.default,{layout:"vertical"},I.default.createElement(y.default,null,I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(y.default,{gutter:16},I.default.createElement(v.default,{xs:24,lg:12},I.default.createElement(T,{label:"Número de control"},u("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}]})(I.default.createElement(k.default,{style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"})))),I.default.createElement(v.default,{xs:24,lg:12},I.default.createElement(T,{label:"Plan de estudios"},u("plan_estudios",{rules:[{required:!0,message:"El plan de estudio es obligatorio."}]})(I.default.createElement(C.default,null,I.default.createElement(D,{key:"2009-2010",value:"2009-2010"},"2009-2010"),I.default.createElement(D,{key:"2015-2016",value:"2015-2016"},"2015-2016"))))))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Nombre"},u("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}]})(I.default.createElement(k.default,{placeholder:"Ingrese el nombre(s) del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Apellido paterno"},u("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}]})(I.default.createElement(k.default,{placeholder:"Ingrese el apellido paterno del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Apellido materno"},u("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}]})(I.default.createElement(k.default,{placeholder:"Ingrese el apellido materno del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(y.default,{gutter:16},I.default.createElement(v.default,{xs:24,lg:12},I.default.createElement(T,{label:"Sexo"},u("sexo",{rules:[{required:!0,message:"El alumno debe indicar su sexo."}]})(I.default.createElement(C.default,{placeholder:"Seleccione una opción"},I.default.createElement(D,{key:"H",value:"H"},"Hombre"),I.default.createElement(D,{key:"M",value:"M"},"Mujer"))))),I.default.createElement(v.default,{xs:24,lg:12},I.default.createElement(T,{label:"Seguridad social"},u("no_seguro",{rules:[{required:!0,message:"Debe indicar el número de seguro del alumno."}]})(I.default.createElement(k.default,{addonBefore:c,style:{width:"100%"},placeholder:"Número de seguro"})))))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Ciudad"},u("ciudad",{rules:[{required:!0,message:"El alumno debe indicar su ciudad."}]})(I.default.createElement(k.default,{placeholder:"Ingrese la ciudad del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Domicilio"},u("domicilio",{rules:[{required:!0,message:"El alumno debe indicar su domicilio."}]})(I.default.createElement(k.default,{placeholder:"Ingrese el domicilio del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Correo electronico"},u("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(I.default.createElement(k.default,{prefix:I.default.createElement(E.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese el correo electronico del alumno"})))),I.default.createElement(v.default,{xs:24,lg:24},I.default.createElement(T,{label:"Télefono (no celular)"},u("numero_celular",{rules:[{required:!0,message:"Ingrese el número de telefono celular del alumno."}]})(I.default.createElement(k.default,{prefix:I.default.createElement(E.default,{type:"phone",style:{fontSize:13}}),placeholder:"Ingrese el número de telefono celular del alumno"}))))))),I.default.createElement(F,{tab:I.default.createElement("span",null,I.default.createElement(E.default,{type:"usergroup-delete"}),"Candidato a residente rechazado"),key:"2"},I.default.createElement(f.default,{style:{marginLeft:10}},l.map(function(e,t){return I.default.createElement(f.default.Item,{dot:I.default.createElement(E.default,{type:"exclamation-circle-o",style:{fontSize:"16px"}}),color:"red",key:t},I.default.createElement("p",null,e.no_control+" - "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno),I.default.createElement(p.default,{onClick:function(){return i(e.id)}},"Agregar al periodo"))})))))}),Y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.addToPeriodo=function(e){M.default.put("/api/alumno/retry_anteproyecto",{id_alumno:e,id_periodo:a.state.id_periodo}).then(function(e){200===e.status?(u.default.success("Alumno agregado al periodo !"),a.setState({visible:!1})):s.default.error({title:"Error al actualizar al alumno. Revisar los siguientes campos",content:I.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||M.default.post("/api/alumno",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_carrera:a.state.carrera.id,sexo:n.sexo,correo:n.correo,id_periodo:a.state.id_periodo,domicilio:n.domicilio,ciudad:n.ciudad,numero_celular:n.numero_celular,no_seguro:n.no_seguro,id_tipo_seguro:n.id_tipo_seguro,plan_estudios:n.plan_estudios}).then(function(t){200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:I.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera},a}return l(t,e),P(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera;this.setState({visible:t,carrera:a,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera})}},{key:"render",value:function(){return I.default.createElement("div",null,I.default.createElement(N,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,carrera:this.state.carrera,addToPeriodo:this.addToPeriodo,alumnos_rechazados:this.state.alumnos_rechazados}))}}]),t}(A.Component);t.default=Y},474:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(33),a(34)),c=n(u),s=(a(31),a(32)),d=n(s),f=(a(15),a(16)),m=n(f),p=(a(156),a(157)),b=n(p),y=(a(24),a(25)),h=n(y),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),E=n(_),g=a(12),w=n(g),O=a(1),C=(n(O),a(121)),x=(n(C),a(45)),k=n(x),S=a(1068),j=n(S),P=a(1074),A=n(P),I=h.default.Option,R=h.default.OptGroup,M=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){w.default.put("/api/carrera/docente_habilitado",{id_docente:a.state.usuario.id_docente,id_periodo:e}).then(function(t){200===t.status&&!0===t.data.habilitado?"docente"===t.data.rol||"jefe_proyecto"===t.data.rol?w.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){return{key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,anteproyecto:e.path_file_anteproyecto,revision:e.revisiones.find(function(e){return e.id_docente===a.state.usuario.id_docente})}});a.setState({renderRevision:E.default.createElement(j.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):"presidente_academia"===t.data.rol&&w.default.get("/api/periodo/"+e).then(function(t){if(200===t.status){var n=t.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,o=E.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:o,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:E.default.createElement(A.default,{updatePeriodo:a.updatePeriodo.bind(a),periodo:t.data,usuario:a.state.usuario,anteproyectos:n}),id_periodo:e})}}):m.default.warning("Permiso denegado, solicite permisos al jefe de departamento.")})},a.updatePeriodo=function(){w.default.get("/api/periodo/"+a.state.id_periodo).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,o=E.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?E.default.createElement("p",{key:t},E.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:o,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:E.default.createElement(A.default,{updatePeriodo:a.updatePeriodo.bind(a),periodo:e.data,usuario:a.state.usuario,anteproyectos:t}),id_periodo:a.state.id_periodo})}})},a.state={usuario:e.usuario,departamento:e.departamento,renderRevision:null,id_periodo:null},a}return i(t,e),v(t,[{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.renderRevision;return E.default.createElement("div",null,E.default.createElement(c.default,{type:"flex"},E.default.createElement(d.default,{xs:24,lg:6},E.default.createElement("p",null,"Seleccione el periodo"),E.default.createElement(h.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},t.carreras.map(function(e,t){return E.default.createElement(R,{key:t,label:e.nombre},e.periodos.map(function(e,a){return E.default.createElement(I,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),a)}}]),t}(_.Component);t.default=M},490:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(148),a(150)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(15),a(16)),p=n(m),b=(a(24),a(25)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=a(12),g=n(E),w=a(1),O=(n(w),a(121)),C=(n(O),a(45)),x=n(C),k=a(1076),S=n(k),j=y.default.Option,P=y.default.OptGroup,A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){g.default.get("/api/periodo/"+e+"/proyectos").then(function(e){200===e.status&&a.setState({periodo:e.data})})},a.handleChangeResidente=function(e){a.setState({spin:!0,renderProyecto:null});var t=a.state.usuario;g.default.get("/api/alumno/revision_seguimiento/"+e).then(function(n){200===n.status?a.setState({renderProyecto:_.default.createElement(S.default,{key:x.default.v1(),updateProyecto:a.updateProyecto.bind(a),proyecto:n.data,usuario:t}),id_proyecto:e,spin:!1}):p.default.warning("Ops, ocurrio un error interno, favor de reportar al administrador.")})},a.updateProyecto=function(){a.setState({spin:!0,renderProyecto:null});var e=a.state,t=e.usuario,n=e.id_proyecto;g.default.get("/api/alumno/revision_seguimiento/"+n).then(function(e){200===e.status?a.setState({renderProyecto:_.default.createElement(S.default,{key:x.default.v1(),updateProyecto:a.updateProyecto.bind(a),proyecto:e.data,usuario:t}),id_proyecto:n,spin:!1}):p.default.warning("Ops, ocurrio un error interno, favor de reportar al administrador.")})},a.state={usuario:e.usuario,carreras:e.carreras,renderProyecto:null,periodo:null,id_proyecto:null,spin:!1},a}return l(t,e),h(t,[{key:"render",value:function(){var e=this.state,t=e.carreras,a=e.renderProyecto,n=e.periodo,r=e.spin;return _.default.createElement("div",null,_.default.createElement(s.default,{type:"flex",gutter:30},_.default.createElement(f.default,{xs:24,lg:6},_.default.createElement("p",null,"Seleccione el periodo"),_.default.createElement(y.default,{placeholder:"Seleccione un periodo",onChange:this.handleChangePeriodo,style:{width:"100%"}},t.map(function(e,t){return _.default.createElement(P,{key:t,label:e.nombre},e.periodos.map(function(e,t){return _.default.createElement(j,{key:x.default.v1(),value:""+e.id},e.periodo+" "+e.ciclo)}))}))),_.default.createElement(f.default,{xs:24,lg:10},_.default.createElement("p",null,"Seleccione un residente "),_.default.createElement(y.default,{showSearch:!0,placeholder:"Seleccione un residente",onChange:this.handleChangeResidente,optionFilterProp:"children",style:{width:"100%"}},n?n.anteproyectos.map(function(e,t){return _.default.createElement(j,{key:x.default.v1(),value:""+e.alumno.id}," "+e.alumno.no_control+" - "+e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno)}):null))),_.default.createElement(s.default,null,_.default.createElement(f.default,{xs:24,lg:24,style:{textAlign:"center"}},!0===r?_.default.createElement(u.default,{style:{marginTop:20,marginBottom:20},size:"large",tip:"Cargado..."}):null)),a)}}]),t}(v.Component);t.default=A},495:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option,y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Agregar observación del seguimiento",okText:"Guardar",onCancel:a,onOk:n,width:600},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Descripción de la observación"},o("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(_.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/proyecto/seguimiento/observacion",{observacion:n.observacion,id_seguimiento:a.state.id_seguimiento,id_docente:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),a.setState({visible:!1}),e.resetFields(),a.props.updateSeguimientos(),a.props.updateProyecto()):s.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_seguimiento:e.id_seguimiento,usuario:e.usuario},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_seguimiento,n=e.usuario;this.setState({visible:t,id_seguimiento:a,usuario:n})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=C},496:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(148),a(150)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(24),a(25)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=a(12),_=n(v),E=a(45),g=n(E),w=a(1102),O=n(w),C=p.default.Option,x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeResidente=function(e){a.setState({spin:!0,renderProyecto:null}),_.default.get("/api/alumno/proyecto_para_asesor_interno/"+e).then(function(t){200===t.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:g.default.v1(),updateProyecto:a.updateProyectoResidente.bind(a),proyecto:t.data,usuario:a.state.usuario}),id_proyecto:e,spin:!1})})},a.updateProyectoResidente=function(){a.setState({spin:!0,renderProyecto:null}),_.default.get("/api/alumno/proyecto_para_asesor_interno/"+a.state.id_proyecto).then(function(e){200===e.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:g.default.v1(),updateProyecto:a.updateProyectoResidente.bind(a),proyecto:e.data,usuario:a.state.usuario}),spin:!1})})},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null,id_proyecto:null,spin:!1},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null,id_proyecto:null,spin:!1})}},{key:"render",value:function(){var e=this.state,t=e.proyectos,a=e.renderProyecto,n=e.spin;return h.default.createElement(u.default,null,h.default.createElement(f.default,{xs:24,lg:24},h.default.createElement(p.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400}},t.map(function(e,t){return h.default.createElement(C,{key:t,value:""+e.id},e.anteproyecto.alumno.no_control+" - "+e.anteproyecto.alumno.nombre+" "+e.anteproyecto.alumno.ap_paterno+" "+e.anteproyecto.alumno.ap_materno)}))),h.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:25}},h.default.createElement(u.default,null,h.default.createElement(f.default,{xs:24,lg:24,style:{textAlign:"center"}},!0===n?h.default.createElement(s.default,{style:{marginTop:20,marginBottom:20},size:"large",tip:"Cargando..."}):null)),a))}}]),t}(y.Component);t.default=x},497:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(156),a(157)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(15),a(16)),f=n(d),m=(a(33),a(34)),p=n(m),b=(a(31),a(32)),y=n(b),h=(a(48),a(49)),v=n(h),_=(a(37),a(36)),E=n(_),g=(a(77),a(78)),w=n(g),O=(a(18),a(22)),C=n(O),x=(a(87),a(74)),k=n(x),S=(a(35),a(13)),j=n(S),P=(a(230),a(231)),A=n(P),I=(a(24),a(25)),R=n(I),M=(a(19),a(20)),T=n(M),D=(a(1117),a(1120)),F=n(D),N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Y=a(0),z=n(Y),L=a(12),B=n(L),G=a(1),q=n(G),V=F.default.TreeNode,U=T.default.Item,W=R.default.Option,H=A.default.Panel,X=T.default.create()(function(e){var t=e.handleSubmit,a=e.form,n=e.anteproyecto,r=e.empresas,o=e.normFile,l=e.beforeUpload,i=a.getFieldDecorator;return z.default.createElement(T.default,{layout:"vertical",onSubmit:t},z.default.createElement(U,{label:z.default.createElement("span",null,"Nombre del anteproyecto ",z.default.createElement(k.default,{title:"El nombre del anteproyecto debe tener un formato conciso."},z.default.createElement(j.default,{type:"question-circle-o"}))),hasFeedback:!0},i("nombre",{rules:[{required:!0,message:"El anteproyecto debe tener un nombre"}],initialValue:n.nombre?n.nombre:""})(z.default.createElement(C.default,{placeholder:"Ingrese el nombre del anteproyecto",type:"text"}))),z.default.createElement(U,{label:"Objetivo general del anteproyecto",hasFeedback:!0},i("objetivo_general",{rules:[{required:!0,message:"El anteproyecto debe tener un objetivo general."}],initialValue:n.objetivo_general?n.objetivo_general:""})(z.default.createElement(C.default.TextArea,{placeholder:"Escriba aqui el objetivo general",type:"text",autosize:{minRows:2,maxRows:6}}))),z.default.createElement(U,{label:"Origen del proyecto",hasFeedback:!0},i("origen",{rules:[{required:!0,message:"Debe indicar el origen del anteproyecto."}],initialValue:n.origen?n.origen:""})(z.default.createElement(R.default,{placeholder:"Seleccione el origen de su proyecto"},z.default.createElement(W,{value:"Banco de proyectos"},"Banco de proyectos"),z.default.createElement(W,{value:"Propuesta propia"},"Propuesta propia"),z.default.createElement(W,{value:"Trabajador"},"Trabajador")))),z.default.createElement(U,{label:z.default.createElement("span",null,"Asesor externo ",z.default.createElement(k.default,{title:"Si su asesor o empresa no esta en el catalogo,solicitar al jefe de su departamento."},z.default.createElement(j.default,{type:"question-circle-o"}))),hasFeedback:!0},i("id_asesor_externo",{rules:[{required:!0,message:"El anteproyecto debe tener un asesor externo"}],initialValue:n.id_asesor_externo?""+n.id_asesor_externo:""})(z.default.createElement(F.default,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Busque por nombre de empresa o el nombre de su asesor externo.",allowClear:!0,treeDefaultExpandAll:!0,filterTreeNode:function(e,t){return t.props.title.toLowerCase().indexOf(e.toLowerCase())>=0}},r?r.map(function(e,t){return z.default.createElement(V,{title:e.nombre,key:""+t,value:null,disabled:!0},e.asesor_externos.map(function(e,a){return z.default.createElement(V,{value:""+e.id,title:e.nombre,key:a+"_"+t})}))}):null))),z.default.createElement(U,{label:"Seleccione su anteproyecto"},z.default.createElement("div",{className:"dropbox"},i("file_anteproyecto",{valuePropName:"fileList",getValueFromEvent:o})(z.default.createElement(w.default.Dragger,{name:"fileAnteproyecto",action:"/api/alumno/file_anteproyecto/"+n.id,beforeUpload:l},z.default.createElement("p",{className:"ant-upload-drag-icon"},z.default.createElement(j.default,{type:"inbox"})),z.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),z.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))),z.default.createElement(E.default,{size:"large",icon:"save",type:"primary",htmlType:"submit",style:{marginTop:40,marginBottom:20}},"Guardar cambios"),z.default.createElement(p.default,null,z.default.createElement(y.default,{lg:24,xs:24},null!=n.nombre&null!=n.origen&null!=n.id_asesor_externo?z.default.createElement(E.default,{icon:"file-pdf"},z.default.createElement("a",{href:"/api/alumno/"+n.id_alumno+"/solicitud_residencia",target:"_blank"},"Generar solicitud de residencia")):z.default.createElement(v.default,{type:"info",message:"Faltan algunos datos para poder generar su solicitud de residencia",showIcon:!0}))))}),K=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.saveFormRef=function(e){a.form=e},a.handleSubmit=function(e){e.preventDefault();var t=a.form,n=a.state.anteproyecto;t.validateFields(function(e,t){if(!e){var a=t.id_asesor_externo,r=t.nombre,o=t.origen,l=t.objetivo_general;B.default.put("/api/alumno/"+n.id+"/anteproyecto",{id_asesor_externo:a,nombre:r,objetivo_general:l,origen:o}).then(function(e){200===e.status?f.default.success("Anteproyecto actualizado satisfactoriamente!"):s.default.error({title:"Error no se pudieron guardar los cambios. Revisar los siguientes campos",content:z.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){f.default.error(e)})}})},a.state={anteproyecto:e.anteproyecto,empresas:null},a}return l(t,e),N(t,[{key:"componentDidMount",value:function(){var e=this;B.default.get("/api/empresa").then(function(t){200==t.status&&e.setState({empresas:t.data.empresas})})}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.state,t=e.anteproyecto,a=e.empresas,n={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};t.periodo.fecha_inicio_entrega_anteproyecto,t.periodo.fecha_fin_entrega_anteproyecto,(0,q.default)().format("YYYY-MM-DD");return z.default.createElement("div",null,z.default.createElement(p.default,{type:"flex",justify:"center"},z.default.createElement(y.default,{xs:24,lg:20,style:{marginBottom:25}},"aprobado"===t.dictamen?z.default.createElement(u.default,{status:"success",text:"Dictamen: aprobado"}):z.default.createElement(u.default,{status:"error",text:"Dictamen: no aprobado"})),z.default.createElement(y.default,{xs:24,lg:20,style:{marginBottom:25}},z.default.createElement("h3",null,"Revisores"),z.default.createElement(A.default,{bordered:!1},t.revisiones.map(function(e,t){return z.default.createElement(H,{header:e.docente.nombre,key:t,style:n},"factible"===e.esFactible?z.default.createElement(u.default,{status:"success",text:"Proyecto factible"}):"","no_factible"===e.esFactible?z.default.createElement(u.default,{status:"error",text:"Proyecto no factible"}):"","corrección"===e.esFactible?z.default.createElement("div",null,z.default.createElement(u.default,{status:"processing",text:"Corregir los siguientes puntos y volver a subir anteproyecto"}),z.default.createElement("p",{style:{marginLeft:20,marginTop:10}},e.comentario)):"")}))),z.default.createElement(y.default,{xs:24,lg:20},z.default.createElement(X,{anteproyecto:t,handleSubmit:this.handleSubmit,ref:this.saveFormRef,empresas:a,normFile:this.normFile,beforeUpload:this.beforeUpload}))))}}]),t}(Y.Component);t.default=K},502:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=(a(503),a(507)),o=n(r),l=a(0),i=n(l),u=a(11),c=a(62),s=a(659),d=a(660),f=n(d),m=a(1),p=n(m);a(196);var b=a(666),y=n(b);a(1151),p.default.locale("es"),(0,u.render)(i.default.createElement(o.default,{locale:f.default,className:"full-height"},i.default.createElement(c.BrowserRouter,{history:s.browserHistory},i.default.createElement(y.default,null))),document.getElementById("app"))},666:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=n(r),l=a(62),i=a(667),u=n(i),c=a(429),s=(n(c),a(931)),d=n(s),f=a(940),m=n(f),p=a(1108),b=n(p),y=a(1127),h=n(y),v=a(1129),_=n(v),E=a(1135),g=n(E),w=a(1150),O=n(w),C=function(){return o.default.createElement(l.Switch,null,o.default.createElement(l.Route,{exact:!0,path:"/usuario/auth",component:u.default}),o.default.createElement(d.default,{path:"/admin"}),o.default.createElement(m.default,{path:"/jefe_departamento"}),o.default.createElement(b.default,{path:"/candidato_residente"}),o.default.createElement(g.default,{path:"/residente"}),o.default.createElement(h.default,{path:"/docente"}),o.default.createElement(_.default,{path:"/asesor_externo"}),o.default.createElement(l.Route,{component:O.default}))};t.default=C},667:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(404),a(405)),u=n(i),c=(a(31),a(32)),s=n(c),d=(a(33),a(34)),f=n(d),m=(a(19),a(20)),p=n(m),b=(a(65),a(66)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(766)),g=n(E),w=a(767),O=n(w),C=(y.default.Content,y.default.Header,p.default.Item,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),h(t,[{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(g.default,{style:{background:"#282c34",position:"absolute",backgroundSize:"cover",backgroundRepeat:"no-repeat"},params:a(788)}),_.default.createElement(f.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0}},_.default.createElement(s.default,{lg:16,xs:22},_.default.createElement(u.default,{style:{borderBottomRightRadius:7,borderBottomLeftRadius:7,borderTopLeftRadius:7,borderTopRightRadius:7,paddingTop:30,paddingBottom:30}},_.default.createElement(f.default,{type:"flex",justify:"center",align:"middle"},_.default.createElement(s.default,{lg:12,xs:22,style:{paddingLeft:20,paddingRight:20}},_.default.createElement(f.default,{className:"custom-image",type:"flex",justify:"center"},_.default.createElement("img",{src:"/img/tec_Logo.png",alt:"logo_tec",className:"logo-login"})),_.default.createElement("h2",{style:{marginTop:20,marginBottom:20,textAlign:"center",color:"#505962"},className:"color-font"}," SSRITCH v1 "),_.default.createElement("p",{style:{textAlign:"center"}},"Sistema de seguimiento de residencias del Instituto Tecnológico de Chilpancingo")),_.default.createElement(s.default,{lg:12,xs:22,className:"col-login",style:{marginTop:20}},_.default.createElement("h1",{style:{color:"#1f90e6",marginBottom:20}},"Autenticación de usuario"),_.default.createElement(O.default,null)))))))}}]),t}(v.Component));t.default=C},767:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(36)),u=n(i),c=(a(18),a(22)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(48),a(49)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=a(62),g=a(782),w=n(g),O=y.default.Item,C="efda6eec-c3d4-414d-8c1e-eede8c03a2b3",x=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){var n=a.correo,r=a.contrasenia;t||w.default.post("/api/usuario/auth").send({correo:n,contrasenia:r,UUID:C}).end(function(t,a){if(console.log(a),200===a.status&&!0===a.body.isAuth){var n=a.body.rol;"admin"===n?e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/admin"})}):"jefe_departamento"===n?e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/jefe_departamento"})}):"candidato_residente"===n?e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/candidato_residente"})}):"docente"===n||"subdirector_academico"===n?e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/docente"})}):"asesor_externo"===n?e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/asesor_externo"})}):"residente"===n&&e.setState({successAuth:_.default.createElement(E.Redirect,{to:"/residente"})})}else e.setState({successAuth:_.default.createElement(p.default,{message:"Error",description:"Error en la ",type:"error",showIcon:!0,closable:!0})})})})},e.state={successAuth:_.default.createElement("div",null)},e}return l(t,e),h(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return _.default.createElement(y.default,{onSubmit:this.handleSubmit,className:"login-form"},_.default.createElement(O,null,e("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(_.default.createElement(s.default,{prefix:_.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"}))),_.default.createElement(O,null,e("contrasenia",{rules:[{required:!0,message:"Necesita su contraseña para autentificarse en el sistema."}]})(_.default.createElement(s.default,{prefix:_.default.createElement(f.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Intruduca su contraseña"}))),_.default.createElement(u.default,{icon:"login",type:"primary",htmlType:"submit",style:{maxWidth:100,marginTop:20,marginBottom:20}},"Ingresar"),this.state.successAuth)}}]),t}(v.Component),k=y.default.create()(x);t.default=k},788:function(e,t){e.exports={particles:{number:{value:30,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},918:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option,y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre del departamento"},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(_.default.createElement(p.default,{placeholder:"Nombre del departamento"})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):s.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=C},928:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option),C=y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator,i=(l("titulo",{initialValue:"ING."})(_.default.createElement(f.default,{style:{width:60}},_.default.createElement(O,{value:"ING."},"ING."),_.default.createElement(O,{value:"DR."},"DR."),_.default.createElement(O,{value:"DRA."},"DRA."),_.default.createElement(O,{value:"MTRO."},"MTRO."),_.default.createElement(O,{value:"DIR."},"DIR."),_.default.createElement(O,{value:"DIRA."},"DIRA."),_.default.createElement(O,{value:"LIC."},"LIC."),_.default.createElement(O,{value:"ISC."},"ISC."),_.default.createElement(O,{value:"ISI."},"ISI."),_.default.createElement(O,{value:"MAI."},"MAI."),_.default.createElement(O,{value:"MBT."},"MTB."),_.default.createElement(O,{value:"MCT."},"MCT."),_.default.createElement(O,{value:"MTI."},"MTI."),_.default.createElement(O,{value:"M.A.T.I."},"M.A.T.I."),_.default.createElement(O,{value:"M.C."},"M.C."))),null);return o&&(i=o.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol})||null),_.default.createElement(s.default,{visible:t,title:"Editar departamento",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre del departamento",initialValue:"",hasFeedback:!0},l("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}],initialValue:o?o.nombre:""})(_.default.createElement(p.default,{placeholder:"Nombre del departamento"}))),_.default.createElement(w,{label:"Seleccione al jefe de departamento",hasFeedback:!0},l("id_jefe_departamento",{rules:[{required:!0,message:"El departamento debe tener un jefe."}],initialValue:i?""+i.id_usuario:""})(_.default.createElement(f.default,{placeholder:"Seleccione un docente"},o?o.docentes.map(function(e,t){return _.default.createElement(O,{key:t,value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):""))),_.default.createElement(w,{label:"Carreras"},l("carreras",{})(_.default.createElement(f.default,{placeholder:"Carreras del departamento"},o?o.carreras.map(function(e,t){return _.default.createElement(O,{key:t,value:""+e.id},""+e.nombre)}):"")))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.departamento;e.validateFields(function(n,r){n||g.default.put("/api/departamento/"+t.id,{nombre_departamento:r.nombre_departamento,id_jefe_departamento:r.id_jefe_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):s.default.error({title:"Error al actualizar el departamento. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){var e=this.state.departamento;return _.default.createElement("div",null,_.default.createElement(C,{departamento:e,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=x},929:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(18),a(22)),p=n(m),b=(a(19),a(20)),y=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),_=n(v),E=(a(11),a(12)),g=n(E),w=y.default.Item,O=(p.default.Group,f.default.Option,y.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator;return _.default.createElement(s.default,{visible:t,title:"Agregar carrera al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},_.default.createElement(y.default,{layout:"vertical"},_.default.createElement(w,{label:"Nombre de la carrera"},l("nombre",{rules:[{required:!0,message:"La carrera debe tener un nombre"}]})(_.default.createElement(p.default,{style:{width:"100%"},placeholder:"Nombre de la carrera"})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||g.default.post("/api/carrera",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Carrera agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):s.default.error({title:"Error al guardar la carrera. Revisar los siguientes campos",content:_.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(v.Component);t.default=C},930:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(37),a(36)),u=n(i),c=(a(18),a(22)),s=n(c),d=(a(24),a(25)),f=n(d),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=p.default.Item,_=f.default.Option,E=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||alert("alv")})},l=a,o(n,l)}return l(t,e),b(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=e("titulo",{initialValue:"ING."})(h.default.createElement(f.default,{style:{width:90}},h.default.createElement(_,{value:"ING."},"ING."),h.default.createElement(_,{value:"DR."},"DR."),h.default.createElement(_,{value:"DRA."},"DRA."),h.default.createElement(_,{value:"MTRO."},"MTRO."),h.default.createElement(_,{value:"DIR."},"DIR."),h.default.createElement(_,{value:"DIRA."},"DIRA."),h.default.createElement(_,{value:"LIC."},"LIC."),h.default.createElement(_,{value:"ISC."},"ISC."),h.default.createElement(_,{value:"ISI."},"ISI."),h.default.createElement(_,{value:"MAI."},"MAI."),h.default.createElement(_,{value:"MBT."},"MTB."),h.default.createElement(_,{value:"MCT."},"MCT."),h.default.createElement(_,{value:"MTI."},"MTI."),h.default.createElement(_,{value:"M.A.T.I."},"M.A.T.I."),h.default.createElement(_,{value:"M.C."},"M.C.")));return h.default.createElement(p.default,{onSubmit:this.handleSubmit},h.default.createElement(v,{label:"Nombre completo del subdirector academico: "},e("nombre",{rules:[{required:!0,message:"El subdirector academico debe tener un nombre."}]})(h.default.createElement(s.default,{addonBefore:t,style:{width:"100%"},placeholder:"Nombre completo del subdirector academico"}))),h.default.createElement(u.default,{htmlType:"submit"},"Guardar"))}}]),t}(y.Component),g=p.default.create()(E);t.default=g},931:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(13)),u=n(i),c=(a(98),a(86)),s=n(c),d=(a(65),a(66)),f=n(d),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),y=(a(11),a(2)),h=(n(y),a(62)),v=a(99),_=a(429),E=n(_),g=a(453),w=(n(g),a(454)),O=n(w),C=a(939),x=n(C),k=a(100),S=n(k),j=f.default.Header,P=f.default.Content,A=f.default.Footer,I=f.default.Sider,R=s.default.SubMenu,M=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a?e.setState({visibleCambiarContrasenia:!0}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1})},e.state={collapsed:!1,isAuth:!0,componentSelected:1,components:{1:{title:"Gestión de departamentos",render:b.default.createElement(E.default,null)},2:{title:"Gestión de empresas",render:b.default.createElement(O.default,null)},5:{title:"Usuarios del sistema",render:b.default.createElement(x.default,null)}},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,v.getIsAuth)().then(function(t){"admin"===t.rol?e.setState({isAuth:t.isAuth}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.components,r=e.visibleCambiarContrasenia,o=n[a];return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(I,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(s.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(s.default.Item,{key:"1"},b.default.createElement(u.default,{type:"appstore-o"}),b.default.createElement("span",null,"Departamentos")),b.default.createElement(s.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(s.default.Item,{key:"5"},b.default.createElement(u.default,{type:"bars"}),b.default.createElement("span",null,"Usuarios del sistema")),b.default.createElement(s.default.Divider,null),b.default.createElement(R,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(s.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(s.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(j,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),b.default.createElement("div",{style:{float:"right",marginRight:20}},o.title)),b.default.createElement(P,{style:{margin:"24px 16px",padding:24,background:"#fff"}},o.render),b.default.createElement(A,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(S.default,{visible:r})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=M},936:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(33),a(34)),f=n(d),m=(a(31),a(32)),p=n(m),b=(a(24),a(25)),y=n(b),h=(a(18),a(22)),v=n(h),_=(a(19),a(20)),E=n(_),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),C=(a(11),a(12)),x=n(C),k=E.default.Item,S=(v.default.Group,y.default.Option),j=E.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l=o("titulo_titular",{initialValue:"ING."})(O.default.createElement(y.default,{style:{width:60}},O.default.createElement(S,{value:"ING."},"ING."),O.default.createElement(S,{value:"DR."},"DR."),O.default.createElement(S,{value:"DRA."},"DRA."),O.default.createElement(S,{value:"MTRO."},"MTRO."),O.default.createElement(S,{value:"M.A."},"M.A."),O.default.createElement(S,{value:"DIR."},"DIR."),O.default.createElement(S,{value:"DIRA."},"DIRA."),O.default.createElement(S,{value:"LIC."},"LIC."),O.default.createElement(S,{value:"ISC."},"ISC."),O.default.createElement(S,{value:"ISI."},"ISI."),O.default.createElement(S,{value:"MAI."},"MAI."),O.default.createElement(S,{value:"MBT."},"MTB."),O.default.createElement(S,{value:"MCT."},"MCT."),O.default.createElement(S,{value:"MTI."},"MTI."),O.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(S,{value:"M.C."},"M.C."))),i=o("titulo_firma_acuerdo",{initialValue:"ING."})(O.default.createElement(y.default,{style:{width:60}},O.default.createElement(S,{value:"ING."},"ING."),O.default.createElement(S,{value:"DR."},"DR."),O.default.createElement(S,{value:"DRA."},"DRA."),O.default.createElement(S,{value:"MTRO."},"MTRO."),O.default.createElement(S,{value:"M.A."},"M.A."),O.default.createElement(S,{value:"DIR."},"DIR."),O.default.createElement(S,{value:"DIRA."},"DIRA."),O.default.createElement(S,{value:"LIC."},"LIC."),O.default.createElement(S,{value:"ISC."},"ISC."),O.default.createElement(S,{value:"ISI."},"ISI."),O.default.createElement(S,{value:"MAI."},"MAI."),O.default.createElement(S,{value:"MBT."},"MTB."),O.default.createElement(S,{value:"MCT."},"MCT."),O.default.createElement(S,{value:"MTI."},"MTI."),O.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(S,{value:"M.C."},"M.C.")));return O.default.createElement(s.default,{visible:t,title:"Agregar nueva empresa",okText:"Guardar",onCancel:a,onOk:n,width:650,style:{top:20}},O.default.createElement(E.default,{layout:"vertical"},O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:14,xs:24},O.default.createElement(k,{label:"Nombre de la empresa",hasFeedback:!0},o("nombre_empresa",{rules:[{required:!0,message:"La empresa debe tener un nombre."}]})(O.default.createElement(v.default,{placeholder:"Nombre de la empresa"})))),O.default.createElement(p.default,{lg:10,xs:24},O.default.createElement(k,{label:"Seleccione la clasificación de la empresa",hasFeedback:!0},o("clasificacion",{rules:[{required:!0,message:"Indique la clasificación de la empresa"}]})(O.default.createElement(y.default,{placeholder:"Selecciona la clasificación de la empresa"},O.default.createElement(S,{value:"industrial"},"Industrial"),O.default.createElement(S,{value:"servicios"},"Servicios"),O.default.createElement(S,{value:"público"},"Público"),O.default.createElement(S,{value:"privado"},"Privado")))))),O.default.createElement(k,{label:"RFC",hasFeedback:!0},o("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}]})(O.default.createElement(v.default,{placeholder:"RFC de la empresa"}))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Domicilio",hasFeedback:!0},o("domicilio",{rules:[{max:50,message:"El domicilio solo debe tener 50 caracteres"}]})(O.default.createElement(v.default,{placeholder:"Domicilio de la empresa"})))),O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Colonia",hasFeedback:!0},o("colonia",{rules:[{max:50,message:"La colonia solo debe tener 50 caracteres"}]})(O.default.createElement(v.default,{placeholder:"Colonia de la empresa"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},o("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}]})(O.default.createElement(v.default,{placeholder:"Codigo postal de la empresa"})))),O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Fax",hasFeedback:!0},o("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}]})(O.default.createElement(v.default,{placeholder:"Fax de la empresa"})))),O.default.createElement(p.default,{lg:24,xs:24},O.default.createElement(k,{label:"Misión de la empresa",hasFeedback:!0},o("mision",{rules:[{max:500,message:"La misión debe tener como maximo 500 caracteres"}]})(O.default.createElement(v.default.TextArea,{placeholder:"Misión de la empresa",autosize:{minRows:2,maxRows:6}}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},o("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}]})(O.default.createElement(v.default,{placeholder:"Puesto del titular"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},o("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}]})(O.default.createElement(v.default,{addonBefore:l,placeholder:"Nombre completo del titular"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},o("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}]})(O.default.createElement(v.default,{placeholder:"Puesto del que firma el acuerdo"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},o("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}]})(O.default.createElement(v.default,{addonBefore:i,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||x.default.post("/api/empresa",{nombre:n.nombre_empresa,clasificacion:n.clasificacion,rfc:n.rfc,domicilio:n.domicilio||"",colonia:n.colonia||"",codigo_postal:n.codigo_postal||"",fax:n.fax||"",mision:n.mision||"",titulo_titular:n.titulo_titular,puesto_titular:n.puesto_titular,nombre_titular:""+n.nombre_titular,titulo_firma_acuerdo:n.titulo_firma_acuerdo,puesto_firma_acuerdo:n.puesto_firma_acuerdo,nombre_firma_acuerdo:""+n.nombre_firma_acuerdo}).then(function(t){200===t.status?(e.resetFields(),u.default.success("Empresa agregada satisfactoriamente"),a.setState({visible:!1}),a.props.onAddEmpresa()):s.default.error({title:"Error al guardar la empresa. Revisar los siguientes campos",content:O.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return O.default.createElement("div",null,O.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(w.Component);t.default=P},937:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(33),a(34)),f=n(d),m=(a(31),a(32)),p=n(m),b=(a(24),a(25)),y=n(b),h=(a(18),a(22)),v=n(h),_=(a(19),a(20)),E=n(_),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),C=(a(11),a(12)),x=n(C),k=E.default.Item,S=(v.default.Group,y.default.Option),j=E.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator,i=l("titulo_titular",{initialValue:o.titular?o.titular.titulo:"ING."})(O.default.createElement(y.default,{style:{width:60}},O.default.createElement(S,{value:"ING."},"ING."),O.default.createElement(S,{value:"DR."},"DR."),O.default.createElement(S,{value:"DRA."},"DRA."),O.default.createElement(S,{value:"MTRO."},"MTRO."),O.default.createElement(S,{value:"DIR."},"DIR."),O.default.createElement(S,{value:"DIRA."},"DIRA."),O.default.createElement(S,{value:"LIC."},"LIC."),O.default.createElement(S,{value:"ISC."},"ISC."),O.default.createElement(S,{value:"ISI."},"ISI."),O.default.createElement(S,{value:"MAI."},"MAI."),O.default.createElement(S,{value:"MBT."},"MTB."),O.default.createElement(S,{value:"MCT."},"MCT."),O.default.createElement(S,{value:"MTI."},"MTI."),O.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(S,{value:"M.C."},"M.C."))),u=l("titulo_firma_acuerdo",{initialValue:o.representante_legal?o.representante_legal.titulo:"ING."})(O.default.createElement(y.default,{style:{width:60}},O.default.createElement(S,{value:"ING."},"ING."),O.default.createElement(S,{value:"DR."},"DR."),O.default.createElement(S,{value:"DRA."},"DRA."),O.default.createElement(S,{value:"MTRO."},"MTRO."),O.default.createElement(S,{value:"DIR."},"DIR."),O.default.createElement(S,{value:"DIRA."},"DIRA."),O.default.createElement(S,{value:"LIC."},"LIC."),O.default.createElement(S,{value:"ISC."},"ISC."),O.default.createElement(S,{value:"ISI."},"ISI."),O.default.createElement(S,{value:"MAI."},"MAI."),O.default.createElement(S,{value:"MBT."},"MTB."),O.default.createElement(S,{value:"MCT."},"MCT."),O.default.createElement(S,{value:"MTI."},"MTI."),O.default.createElement(S,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(S,{value:"M.C."},"M.C.")));return O.default.createElement(s.default,{visible:t,title:"Editar la empresa "+o.nombre,okText:"Actualizar",onCancel:a,onOk:n,width:650,style:{top:20}},O.default.createElement(E.default,{layout:"vertical"},O.default.createElement(k,{label:"RFC",hasFeedback:!0},l("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}],initialValue:o.detalles?o.detalles.rfc:""})(O.default.createElement(v.default,{placeholder:"RFC de la empresa"}))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Domicilio",hasFeedback:!0},l("domicilio",{rules:[{max:30,message:"El domicilio solo debe tener 30 caracteres"}],initialValue:o.detalles?o.detalles.domicilio_only:""})(O.default.createElement(v.default,{placeholder:"Domicilio de la empresa"})))),O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Colonia",hasFeedback:!0},l("colonia",{rules:[{max:30,message:"La colonia solo debe tener 30 caracteres"}],initialValue:o.detalles?o.detalles.colonia:""})(O.default.createElement(v.default,{placeholder:"Colonia de la empresa"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},l("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}],initialValue:o.detalles?o.detalles.codigo_postal:""})(O.default.createElement(v.default,{placeholder:"Codigo postal de la empresa"})))),O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Fax",hasFeedback:!0},l("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}],initialValue:o.detalles?o.detalles.fax:""})(O.default.createElement(v.default,{placeholder:"Fax de la empresa"})))),O.default.createElement(p.default,{lg:24,xs:24},O.default.createElement(k,{label:"Misión de la empresa",hasFeedback:!0},l("mision",{rules:[{max:500,message:"La misión debe tener como maximo 500 caracteres"}],initialValue:o.detalles?o.detalles.mision:""})(O.default.createElement(v.default.TextArea,{placeholder:"Misión de la empresa",autosize:{minRows:2,maxRows:6}}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},l("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."}],initialValue:o.titular?o.titular.puesto:""})(O.default.createElement(v.default,{placeholder:"Puesto del titular"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},l("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."}],initialValue:o.titular?o.titular.nombre:""})(O.default.createElement(v.default,{addonBefore:i,placeholder:"Nombre completo del titular"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},l("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."}],initialValue:o.representante_legal?o.representante_legal.puesto:""})(O.default.createElement(v.default,{placeholder:"Puesto del que firma el acuerdo"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},l("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."}],initialValue:o.representante_legal?o.representante_legal.nombre:""})(O.default.createElement(v.default,{addonBefore:u,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.empresa;e.validateFields(function(n,r){n||x.default.put("/api/empresa/"+t.id,{rfc:r.rfc,domicilio:r.domicilio||"",colonia:r.colonia||"",codigo_postal:r.codigo_postal||"",fax:r.fax||"",mision:r.mision||"",id_titular:t.titular.id,titulo_titular:r.titulo_titular,puesto_titular:r.puesto_titular,nombre_titular:""+r.nombre_titular,id_firma_acuerdo:t.representante_legal.id,titulo_firma_acuerdo:r.titulo_firma_acuerdo,puesto_firma_acuerdo:r.puesto_firma_acuerdo,nombre_firma_acuerdo:""+r.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa actualizada satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadFetch()):s.default.error({title:"Error al actualizar la empresa. Revisar los siguientes campos",content:O.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return console.log("AQUI",this.state.empresa),O.default.createElement("div",null,O.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(w.Component);t.default=P},938:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(15),a(16)),u=n(i),c=(a(28),a(29)),s=n(c),d=(a(35),a(13)),f=n(d),m=(a(24),a(25)),p=n(m),b=(a(18),a(22)),y=n(b),h=(a(19),a(20)),v=n(h),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a(0),g=n(E),w=(a(11),a(12)),O=n(w),C=v.default.Item,x=(y.default.Group,p.default.Option),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator,i=l("titulo",{initialValue:"ING."})(g.default.createElement(p.default,{style:{width:60}},g.default.createElement(x,{value:"ING."},"ING."),g.default.createElement(x,{value:"DR."},"DR."),g.default.createElement(x,{value:"DRA."},"DRA."),g.default.createElement(x,{value:"MTRO."},"MTRO."),g.default.createElement(x,{value:"DIR."},"DIR."),g.default.createElement(x,{value:"DIRA."},"DIRA."),g.default.createElement(x,{value:"LIC."},"LIC."),g.default.createElement(x,{value:"ISC."},"ISC."),g.default.createElement(x,{value:"ISI."},"ISI."),g.default.createElement(x,{value:"MAI."},"MAI."),g.default.createElement(x,{value:"MBT."},"MTB."),g.default.createElement(x,{value:"MCT."},"MCT."),g.default.createElement(x,{value:"MTI."},"MTI."),g.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),g.default.createElement(x,{value:"M.C."},"M.C.")));return g.default.createElement(s.default,{visible:t,title:"Agregar asesor a la empresa "+o.nombre_empresa,okText:"Guardar",onCancel:a,onOk:n},g.default.createElement(v.default,{layout:"vertical"},g.default.createElement(C,{label:"Nombre completo del asesor externo"},l("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(g.default.createElement(y.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre completo del asesor externo"}))),g.default.createElement(C,{label:"Puesto del asesor externo"},l("puesto",{rules:[{required:!0,message:"El docente debe tener un puesto dentro de la empresa."}]})(g.default.createElement(y.default,{style:{width:"100%"},placeholder:"Puesto del asesor externo"}))),g.default.createElement(C,{label:"Correo del asesor externo"},l("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"El correo es obligatorio."}]})(g.default.createElement(y.default,{prefix:g.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),O.default.post("/api/asesor_externo",{nombre:n.titulo+" "+n.nombre,puesto:n.puesto,correo:n.correo,id_empresa:a.state.empresa.id_empresa}).then(function(t){console.log(t),200===t.status?(u.default.success("Asesor agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onReloadFetch()):s.default.error({title:"Error al guardar al asesor externo. Revisar los siguientes campos",content:g.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){console.log(e),u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(E.Component);t.default=S},939:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(37),a(36)),f=n(d),m=(a(15),a(16)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=a(11),_=(n(v),a(12)),E=n(_),g=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchUsuarios=function(){E.default.get("/api/usuarios").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{id:e.id,correo:e.correo,rol:e.rol,key:t}});e.setState({usuarios:a,loadTable:!1})}})},e.enviarContrasenia=function(e,t){E.default.put("/api/usuario/cambiar_contrasenia/email",{id_usuario:e,correo:t}).then(function(e){200===e.status?p.default.success("Contraseña nueva enviada al correo del usuario!"):p.default.error("Surgio un error, verificar conexión")})},e.state={usuarios:[],loadTable:!0},e}return l(t,e),b(t,[{key:"componentDidMount",value:function(){this.fetchUsuarios()}},{key:"render",value:function(){var e=this,t=this.state,a=t.usuarios,n=t.loadTable,r=[{title:"correo",dataIndex:"correo",key:"correo"},{title:"rol",dataIndex:"rol",key:"rol",filters:[{text:"docente",value:"docente"},{text:"residente",value:"residente"},{text:"candidato_residente",value:"candidato_residente"},{text:"jefe_departamento",value:"jefe_departamento"},{text:"asesor_externo",value:"asesor_externo"},{text:"subdirector_academico",value:"subdirector_academico"}],onFilter:function(e,t){return 0===t.rol.indexOf(e)}},{className:"center-text",title:"Recuperar contraseña",dataIndex:"recover",key:"recover",render:function(t,a){return h.default.createElement(f.default,{icon:"reload",onClick:function(){return e.enviarContrasenia(a.id,a.correo)}},"Enviar nueva contraseña a su correo")}}];return h.default.createElement("div",null,h.default.createElement("h3",null,"Usuarios del sistema"),h.default.createElement(u.default,{type:"flex",style:{marginTop:20}},h.default.createElement(s.default,{dataSource:a,columns:r,pagination:{pageSize:10},loading:n,scroll:{x:1100}})))}}]),t}(y.Component);t.default=g},940:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(35),a(13)),u=n(i),c=(a(98),a(86)),s=n(c),d=(a(65),a(66)),f=n(d),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),y=(a(11),a(2)),h=(n(y),a(62)),v=a(12),_=n(v),E=a(99),g=a(453),w=(n(g),a(454)),O=n(w),C=a(941),x=n(C),k=a(100),S=n(k),j=a(452),P=n(j),A=a(943),I=n(A),R=a(1018),M=n(R),T=a(474),D=n(T),F=a(490),N=n(F),Y=a(1101),z=n(Y),L=a(496),B=n(L),G=f.default.Header,q=f.default.Content,V=f.default.Footer,U=f.default.Sider,W=s.default.SubMenu,H=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.departamento;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de departamento "+n.nombre,render:b.default.createElement(x.default,{departamento:n})}})}else if(2==a)e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Gestión de empresas",render:b.default.createElement(O.default,null)}});else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a){var r=e.state.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!0,props_add_docente:{id_departamento:r.id,nombre_departamento:r.nombre}})}else if(5==a){var o=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Gestión de periodo de residencia",render:b.default.createElement(I.default,{departamento:o})}})}else if(6==a){var l=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Apertura de periodo de residencia",render:b.default.createElement(M.default,{departamento:l})}})}else if(7==a){var i=e.state,u=i.departamento,c=i.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de anteproyectos ",render:b.default.createElement(D.default,{usuario:c,departamento:u})}})}else if(8==a){var s=e.state,d=s.departamento,f=s.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Dictamen",render:b.default.createElement(z.default,{usuario:f,departamento:d})}})}else if(9==a){var m=e.state,p=m.usuario,y=m.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Revisión de seguimientos",render:b.default.createElement(N.default,{usuario:p,carreras:y.carreras})}})}else if(10==a){e.state.usuario;_.default.get("/api/proyectos/asesor_interno/"+e.state.usuario.id_docente).then(function(t){200===t.status&&e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:"Proyectos de residencia asignados",render:b.default.createElement(B.default,{proyectos:t.data,usuario:e.state.usuario})}})})}},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null}},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,E.getIsAuth)().then(function(t){"jefe_departamento"===t.rol?_.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:"Gestión de departamento "+a.data.nombre,render:b.default.createElement(x.default,{departamento:a.data})}}):e.setState({isAuth:!1})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=e.visibleCambiarContrasenia,r=(e.usuario,e.departamento,e.visible_add_docente),o=e.props_add_docente;return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(U,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(s.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(W,{key:"sub0",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"appstore"}),b.default.createElement("span",null,"Departamento"))},b.default.createElement(s.default.Item,{key:"1"},b.default.createElement(u.default,{type:"team"}),b.default.createElement("span",null,"Gestionar")),b.default.createElement(s.default.Item,{key:"4"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Agregar docente"),b.default.createElement(P.default,{visible:r,departamento:o}))),b.default.createElement(W,{key:"sub2",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Periodos de residencia"))},b.default.createElement(s.default.Item,{key:"5"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Gestión de periodo")),b.default.createElement(s.default.Item,{key:"6"},b.default.createElement(u.default,{type:"plus"}),b.default.createElement("span",null,"Apertura de periodo")),b.default.createElement(s.default.Item,{key:"7"},b.default.createElement(u.default,{type:"solution"}),b.default.createElement("span",null,"Revisión anteproyectos")),b.default.createElement(s.default.Item,{key:"10"},b.default.createElement(u.default,{type:"book"}),b.default.createElement("span",null,"Revisión de proyecto de residencia")),b.default.createElement(s.default.Item,{key:"9"},b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Revisión de seguimientos")),b.default.createElement(s.default.Item,{key:"8"},b.default.createElement(u.default,{type:"schedule"}),b.default.createElement("span",null,"Dictamen"))),b.default.createElement(s.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(s.default.Divider,null),b.default.createElement(W,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(s.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(s.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(G,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(q,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(V,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(S.default,{visible:n})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=H},941:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(31),a(32)),s=n(c),d=(a(15),a(16)),f=n(d),m=(a(24),a(25)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),h=n(y),v=a(12),_=n(v),E=a(45),g=n(E),w=a(942),O=n(w),C=p.default.Option,x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});_.default.get("/api/carrera/"+e+"/docentes_asignados").then(function(e){200===e.status?(console.log("alv",e.data),a.setState({carrera:h.default.createElement(O.default,{key:g.default.v4(),carrera:n,docentes:t.docentes,docentesAsignados:e.data})})):f.default.warning("Verificar los docentes asignados.")})},a.state={departamento:e.departamento,carrera:null,docentesAsigandos:null},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:e.departamento,carrera:null,docentesAsigandos:null})}},{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.carrera;return h.default.createElement("div",null,h.default.createElement(u.default,null,h.default.createElement(s.default,{xs:24,lg:6},h.default.createElement("p",null,"Carrera: "),h.default.createElement(p.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},t.carreras.map(function(e,t){return h.default.createElement(C,{key:t,value:""+e.id},e.nombre)})))),a)}}]),t}(y.Component);t.default=x},942:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(50),a(51)),u=n(i),c=(a(33),a(34)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(28),a(29)),p=n(m),b=(a(15),a(16)),y=n(b),h=(a(35),a(13)),v=n(h),_=(a(18),a(22)),E=n(_),g=(a(37),a(36)),w=n(g),O=(a(19),a(20)),C=n(O),x=(a(24),a(25)),k=n(x),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),A=n(P),I=a(12),R=n(I),M=a(45),T=n(M),D=k.default.Option,F=C.default.Item,N=C.default.create()(function(e){var t=e.form,a=e.handleSubmit,n=e.docentes,r=e.checkDocenteDiferente,o=e.docentesAsignados,l=t.getFieldDecorator,i=o.find(function(e){return"presidente_academia"===e.rol})||null,u=o.find(function(e){return"jefe_proyecto"===e.rol})||null;return A.default.createElement(C.default,{layout:"horizontal",onSubmit:a},A.default.createElement(F,{hasFeedback:!0,label:"Presidente de la academia"},l("id_presidente_academia",{rules:[{required:!0,message:"Seleccione al presidente de academia"}],initialValue:i?""+n.find(function(e){return e.id===i.id_docente}).id:null})(A.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al presidente de la academia",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return A.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),A.default.createElement(F,{hasFeedback:!0,label:"Jefe de proyecto"},l("id_jefe_proyecto",{rules:[{validator:r}],initialValue:u?""+n.find(function(e){return e.id===u.id_docente}).id:null})(A.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al jefe de proyecto",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return A.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),A.default.createElement(w.default,{type:"primary",htmlType:"submit"},"Guardar"))}),Y=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));z.call(a);var n=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,acciones:"assign"}});return a.state={carrera:e.carrera,docentes:n,filterDocentes:n,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados},a}return l(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,asignacion:"assign"}});this.setState({carrera:e.carrera,docentes:t,filterDocentes:t,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados})}},{key:"render",value:function(){var e=this,t=this.state,a=t.carrera,n=t.docentes,r=t.filterDocentes,o=t.docentesAsignados,l=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:A.default.createElement("div",{className:"custom-filter-dropdown"},A.default.createElement(E.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),A.default.createElement(w.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:A.default.createElement(v.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}}],i=o.find(function(e){return"presidente_academia"===e.rol})||null,c=o.find(function(e){return"jefe_proyecto"===e.rol})||null,d=function(e){return!!o.find(function(t){return t.id_docente===e.id&&"docente"===t.rol})},m={onChange:function(e,t){console.log("selectedRowKeys: "+e,"selectedRows: ",t),R.default.post("/api/carrera/asignar_docentes",{id_carrera:a.id,array_docentes:t}).then(function(e){200===e.status?y.default.success("Docentes asignados :)!"):p.default.error({title:"Error al actualizar docentes. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){y.default.error("Error en el servidor verificar con el encargado.")})},getCheckboxProps:function(e){return{disabled:(i?e.id===i.id_docente:null)||(c?e.id===c.id_docente:null),defaultChecked:d(e)}}};return A.default.createElement("div",null,A.default.createElement(s.default,{style:{marginTop:20}},A.default.createElement(f.default,{xs:24,lg:16},A.default.createElement(N,{ref:this.refForm,handleSubmit:this.handleSubmit,docentes:n,checkDocenteDiferente:this.checkDocenteDiferente,docentesAsignados:o}))),A.default.createElement(s.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},A.default.createElement(u.default,{bordered:!0,title:function(){return"Docentes que participan en la carrera"},rowSelection:m,dataSource:r,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:800}})))}}]),t}(P.Component),z=function(){var e=this;this.refForm=function(t){e.form=t},this.checkDocenteDiferente=function(t,a,n){a===e.form.getFieldValue("id_presidente_academia")?n("El jefe de proyecto no puede ser el mismo que el presidente de academia"):n()},this.handleSubmit=function(t){t.preventDefault();var a=e.state.carrera;e.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),R.default.post("/api/carrera/asignar_encargados",{id_carrera:a.id,id_jefe_proyecto:t.id_jefe_proyecto||null,id_presidente_academia:t.id_presidente_academia}).then(function(e){200===e.status?y.default.success("Carrera actualizada!"):p.default.error({title:"Error al actualizar la carrera. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){y.default.error("Error en el servidor verificar con el encargado.")}))})},this.onInputChange=function(t){e.setState({searchText:t.target.value})},this.onSearch=function(){var t=e.state,a=t.searchText,n=t.docentes,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterDocentes:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?S({},e,{nombre:A.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[A.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})}};t.default=Y},943:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(34)),u=n(i),c=(a(50),a(51)),s=n(c),d=(a(31),a(32)),f=n(d),m=(a(153),a(154)),p=n(m),b=(a(28),a(29)),y=n(b),h=(a(119),a(120)),v=n(h),_=(a(469),a(471)),E=n(_),g=(a(37),a(36)),w=n(g),O=(a(35),a(13)),C=n(O),x=(a(15),a(16)),k=n(x),S=(a(24),a(25)),j=n(S),P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),I=n(A),R=a(12),M=n(R),T=a(1),D=n(T),F=a(45),N=n(F),Y=a(472),z=n(Y),L=a(1017),B=n(L),G=j.default.Option,q=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleCancelacion=function(e){M.default.put("/api/alumno/cancelacion",{id_alumno:e}).then(function(e){200===e.status?(k.default.success("Se realizado la cancelación del proyecto del alumno!"),a.setState({visible_add_alumno:!1,visible_add_seguimiento:!1})):k.default.error("Ops, hubo un error al realizar la cancelación, favor de reportar al administrador.")})},a.showListaCandidatosResidente=function(e){M.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return I.default.createElement("div",{style:{overflowY:100}},I.default.createElement(v.default.Item,{key:t,color:"green",dot:I.default.createElement(C.default,{type:"check-circle-o",style:{fontSize:"16px",marginTop:10,marginLeft:10}})},I.default.createElement("p",null,e.nombre+" "+e.ap_paterno+" "+e.ap_materno),I.default.createElement(E.default,{title:I.default.createElement("span",null,I.default.createElement("p",null,"¿Esta seguro de realizar la cancelación de proyecto?"),I.default.createElement("p",null,"al realizar esta acción, se borrara todo la información relacionada a este alumno"),I.default.createElement("p",null,"y se podra agregar al alumno a otro periodo.")),onConfirm:function(){return a.handleCancelacion(e.id)},okText:"Si",cancelText:"Cancelar"},I.default.createElement(w.default,{icon:"user-delete",style:{marginTop:5},type:"danger"},"Realizar cancelación"))))});y.default.info({width:600,title:"Lista residentes del periodo.",content:I.default.createElement(v.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,visible_add_seguimiento:!1,id_periodo:e})},a.showAddSeguimiento=function(e,t){a.setState({visible_add_alumno:!1,visible_add_seguimiento:!0,id_periodo:e})},a.showSeguimientos=function(e){console.warn(e);var t=e.map(function(e,t){return I.default.createElement(v.default.Item,{key:t},I.default.createElement("p",null,I.default.createElement("strong",null,t+1)," - Del ",(0,D.default)(e.fecha_inicial,"YYYY-MM-DD").format("LL")," al ",(0,D.default)(e.fecha_final,"YYYY-MM-DD").format("LL")))});y.default.info({title:"Seguimientos",width:600,content:I.default.createElement(v.default,null,t),onOk:function(){}})},a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});M.default.get("/api/carrera/"+n.id+"/periodos").then(function(e){200===e.status?M.default.get("/api/alumnos/"+n.id+"/rechazados").then(function(t){200===t.status&&a.setState({alumnos_rechazados_por_carrera:t.data._alumnos,carreraSeleccionada:e.data,visible_add_alumno:!1,visible_add_seguimiento:!1})}):k.default.warning("Verificar conexión.")})},a.handleChangeFechaFinEntregaAnteproyecto=function(e,t){M.default.put("/api/periodo/fecha_fin_entrega_anteproyecto",{fecha_fin_entrega_anteproyecto:e.format("YYYY-MM-DD"),id_periodo:t}).then(function(e){200===e.status?(k.default.success("Fecha de entrega de anteproyectos actualizada!"),window.location.reload()):k.default.warning("Ups, verificar conexión.")})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,visible_add_seguimiento:!1,id_periodo:null,alumnos_rechazados_por_carrera:[]},a}return l(t,e),P(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.carreraSeleccionada,r=t.visible_add_alumno,o=t.id_periodo,l=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),i=t.visible_add_seguimiento,c=(0,D.default)().format("YYYY-MM-DD"),d=n?n.periodos.map(function(e,t){return{id:e.id,key:N.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,D.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,D.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"on",seguimientos:e.seguimientos}}):null,m=[{className:"center-text",title:"Periodo",key:"periodo",dataIndex:"periodo"},{className:"center-text",title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{className:"center-text",title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{className:"center-text",title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(t,a){return I.default.createElement("span",null,a.fecha_inicio_entrega_anteproyecto," - ",I.default.createElement(p.default,{onChange:function(t,n){e.handleChangeFechaFinEntregaAnteproyecto(t,a.id)},disabledDate:function(e){return e.format("YYYY-MM-DD")>(0,D.default)(a.fecha_fin,"YYYY-MM-DD").format("YYYY-MM-DD")||e.format("YYYY-MM-DD")<(0,D.default)(a.fecha_inicio_entrega_anteproyecto,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,D.default)(a.fecha_fin_entrega_anteproyecto,"YYYY-MM-DD")}))}},{className:"center-text",title:"Seguimientos",key:"seguimientos",dataIndex:"seguimientos",render:function(t,a){return I.default.createElement("div",null,I.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},type:"primary",icon:"bars",onClick:function(){return e.showSeguimientos(a.seguimientos)}},"Lista"),c>a.fecha_fin?"":I.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},icon:"plus",onClick:function(){return e.showAddSeguimiento(a.id,a.fecha_fin)}},"Seguimiento"))}},{className:"center-text",title:"Agregar candidato",key:"acciones",dataIndex:"Acciones",render:function(t,a){return I.default.createElement("span",null,!0===a.acciones?I.default.createElement(w.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):I.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(w.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return I.default.createElement(u.default,{gutter:16},I.default.createElement(f.default,{xs:24,lg:4},I.default.createElement("p",null,"Seleccione la carrera: "),I.default.createElement(j.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},a.carreras.map(function(e,t){return I.default.createElement(G,{key:t,value:""+e.id},e.nombre)}))),I.default.createElement(f.default,{xs:24,lg:20},I.default.createElement(s.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:d,className:"full-width",columns:m,pagination:{pageSize:8},scroll:{x:1500}})),I.default.createElement(z.default,{visible:r,carrera:n,id_periodo:o,alumnos_rechazados_por_carrera:l}),I.default.createElement(B.default,{visible:i,id_periodo:o}))}}]),t}(A.Component);t.default=q},99:function(e,t,a){"use strict";function n(){return o.default.get("/api/usuario/isAuth").then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAuth=void 0;var r=a(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getIsAuth=n}},[502]);